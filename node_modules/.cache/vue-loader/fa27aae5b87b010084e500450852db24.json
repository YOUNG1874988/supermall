{"remainingRequest":"/Users/yangjun/Documents/MY PROJECTS/LearnVuejs/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yangjun/Documents/MY PROJECTS/LearnVuejs/supermall/src/views/home/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yangjun/Documents/MY PROJECTS/LearnVuejs/supermall/src/views/home/Home.vue","mtime":1575223704543},{"path":"/Users/yangjun/Documents/MY PROJECTS/LearnVuejs/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/MY PROJECTS/LearnVuejs/supermall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/MY PROJECTS/LearnVuejs/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/MY PROJECTS/LearnVuejs/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8v5a+85YWl6aaW6aG155u45YWz5pWw5o2uCmltcG9ydCB7Z2V0SG9tZU11bHRpZGF0YX0gZnJvbSAnbmV0d29yay9ob21lJwppbXBvcnQge2dldEhvbWVHb29kc30gZnJvbSAibmV0d29yay9ob21lIjsKLy/lr7zlhaXpppbpobXlkITkuKrnu4Tku7YKaW1wb3J0IE5hdkJhciBmcm9tICJjb21wb25lbnRzL2NvbW1vbi9uYXZiYXIvTmF2QmFyIgppbXBvcnQgSG9tZVN3aXBlciBmcm9tICcuL2NoaWxkQ29tcHMvSG9tZVN3aXBlcicKaW1wb3J0IFJlY29tbWVuZFZpZXcgZnJvbSAnLi9jaGlsZENvbXBzL1JlY29tbWVuZFZpZXcnCmltcG9ydCBGZWF0dXJlVmlldyBmcm9tICcuL2NoaWxkQ29tcHMvRmVhdHVyZVZpZXcnCmltcG9ydCBUYWJDb250cm9sIGZyb20gJ2NvbXBvbmVudHMvY29udGVudC90YWJDb250cm9sL1RhYkNvbnRyb2wnCmltcG9ydCBHb29kc0xpc3QgZnJvbSAnY29tcG9uZW50cy9jb250ZW50L2dvb2RzL0dvb2RzTGlzdCcKaW1wb3J0IEJhY2tUb3AgZnJvbSAnY29tcG9uZW50cy9jb250ZW50L2JhY2t0b3AvQmFja1RvcCcKLy/lr7zlhaXmu5rliqjmj5Lku7YKaW1wb3J0IFNjcm9sbCBmcm9tICdjb21wb25lbnRzL2NvbW1vbi9zY3JvbGwvU2Nyb2xsJwoKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBiYW5uZXJzOiBbXSwKICAgICAgICAgICAgcmVjb21tZW5kczogW10sCiAgICAgICAgICAgIHRpdGxlczogW10sCiAgICAgICAgICAgIC8vdGl0bGVz5LiL55qE5ZWG5ZOB5pWw5o2uCiAgICAgICAgICAgIGdvb2RzOiB7CiAgICAgICAgICAgICAgICAwOiB7cGFnZTogMCwgZGF0YTogW119LAogICAgICAgICAgICAgICAgMTogewogICAgICAgICAgICAgICAgICAgIHBhZ2U6IDAsIGRhdGE6IFtdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgMjogewogICAgICAgICAgICAgICAgICAgIHBhZ2U6IDAsIGRhdGE6IFtdCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGN1cnJlbnRUeXBlOiAwLAogICAgICAgICAgICBpc0JhY2tUb3A6IHRydWUKICAgICAgICB9CiAgICB9LAogICAgY29tcG9uZW50czogewogICAgICAgIE5hdkJhciwKICAgICAgICBIb21lU3dpcGVyLAogICAgICAgIFJlY29tbWVuZFZpZXcsCiAgICAgICAgRmVhdHVyZVZpZXcsCiAgICAgICAgVGFiQ29udHJvbCwKICAgICAgICBHb29kc0xpc3QsCiAgICAgICAgU2Nyb2xsLAogICAgICAgIEJhY2tUb3AKCiAgICB9LAogICAgLy/nlJ/lkb3lkajmnJ8gLSDliJvlu7rlrozmiJDvvIjorr/pl67lvZPliY10aGlz5a6e5L6L77yJCiAgICBjcmVhdGVkKCkgewogICAgICAgIC8vICAxLuivt+axgummlumhteWkmuS4quaVsOaNru+8iOi9ruaSreWbvu+8jOaOqOiNkOWVhuWTge+8jDPkuKp0aXRsZXMpCiAgICAgICAgdGhpcy5nZXRIb21lTXVsdGlkYXRhMigpCgogICAgICAgIC8vICAyLuivt+axgjPkuKp0aXRsZXPkuIvnmoTllYblk4HmlbDmja4KICAgICAgICB0aGlzLmdldEhvbWVHb29kcygwKQogICAgICAgIHRoaXMuZ2V0SG9tZUdvb2RzKDEpCiAgICAgICAgdGhpcy5nZXRIb21lR29vZHMoMikKCiAgICB9LAogICAgLy/lsZXnpLrlvZPliY3nsbvlnovnmoTllYblk4HmlbDmja4KICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLy8KICAgICAgICBzaG93R29vZHMoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmdvb2RzW3RoaXMuY3VycmVudFR5cGVdLmRhdGEKICAgICAgICB9CgogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvKuWTjeW6lOW8j+WHveaVsCovCiAgICAgICAgY29udGVudFNjcm9sbChwb3NpdGlvbikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhwb3NpdGlvbikKICAgICAgICAgICAgdGhpcy5pc0JhY2tUb3AgPSAtcG9zaXRpb24ueSA+IDEKICAgICAgICB9LAogICAgICAgIC8v54K55Ye76L+U5Zue6aG26YOo5oyJ6ZKu5a+55bqU5pa55rOVCiAgICAgICAgYmFja1RvcCgpIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5zY3JvbGwuc2Nyb2xsLnNjcm9sbFRvKDAsIDApCiAgICAgICAgfSwKCgogICAgICAgIC8v5LuOdGFiLWNvbnRyb2znu4Tku7blj5HpgIHov4fmnaXnmoTkuovku7blr7nlupTnmoTmlrnms5XvvIzngrnlh7t0YWItY29udHJvbCB0aXRsZXPlj6/ku6XliIfmjaLlr7nlupTnmoTmlbDmja4KICAgICAgICBpdGVtQ2xpY2soaW5kZXgpIHsKICAgICAgICAgICAgc3dpdGNoIChpbmRleCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR5cGUgPSAwCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUeXBlID0gMQogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHlwZSA9IDIKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvKiDmlbDmja7or7fmsYLlh73mlbAgICovCiAgICAgICAgZ2V0SG9tZU11bHRpZGF0YTIoKSB7CiAgICAgICAgICAgIGdldEhvbWVNdWx0aWRhdGEoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgdGhpcy5iYW5uZXJzID0gcmVzLmRhdGEuYmFubmVyLmxpc3QKICAgICAgICAgICAgICAgIHRoaXMucmVjb21tZW5kcyA9IHJlcy5kYXRhLnJlY29tbWVuZC5saXN0CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBnZXRIb21lR29vZHModHlwZSkgewogICAgICAgICAgICAvKiAgICAgICAgICAgICAg5bCG6aG156CB6K6+572u5Li65Yqo5oCB5Y+v5Y+Y77yM5Y2z5b2T5p+Q5LiA6aG15Yqg6L295a6M5oiQ5ZCO77yM6aG15pWwKzHmjIflkJHkuIvkuIDpobXvvIwKICAgICAgICAgICAgICAgICAgICAgICAgICDkuIvmrKHlho3mrKHosIPnlKjor6Xor6Xmlrnms5Xov5vooYzmlbDmja7or7fmsYLnmoTml7blgJnor7fmsYLnmoTlsLHmmK/kuIvkuIDpobXnmoTmlbDmja4qLwogICAgICAgICAgICBjb25zdCBwYWdlID0gdGhpcy5nb29kc1t0eXBlXS5wYWdlICsgMQogICAgICAgICAgICAvL+WvueW6lGNyZWF0ZWQoKeS4reeahDPmrKHosIPnlKgKICAgICAgICAgICAgZ2V0SG9tZUdvb2RzKHR5cGUsIHBhZ2UpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICAgIC8v5bCG6K+35rGC5Yiw55qE5pWw5o2u5o6o5Yiw6K+l57uE5Lu25a+55bqU57G75Z6L55qEZ29vZHPkuK0KICAgICAgICAgICAgICAgIHRoaXMuZ29vZHNbdHlwZV0uZGF0YS5wdXNoKC4uLnJlcy5kYXRhLmRhdGEpCiAgICAgICAgICAgICAgICAvL+WwhnBhZ2UrMe+8jOS4i+asoeiwg+eUqOivpeaWueazleaXtuWwseaYr+WKoOi9veS4i+S4gOmhteS6hgogICAgICAgICAgICAgICAgdGhpcy5nb29kc1t0eXBlXS5wYWdlICs9IDEKICAgICAgICAgICAgfSkKICAgICAgICB9CgogICAgfQp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<!--  -->\n<template>\n  <div id=\"home\">\n    <nav-bar class=\"home-nav\">\n      <div class=\"wrap\"></div>\n      <div slot=\"center\">购物街</div>\n    </nav-bar>\n    <scroll class=\"content\" ref=\"scroll\" :probe-type=\"3\" @scroll=\"contentScroll\">\n      <home-swiper :banners=\"banners\"/>\n      <recommend-view :recommends=\"recommends\"/>\n      <feature-view/>\n      <tab-control :titles=\"['流行','新品','热卖']\" @itemClick=\"itemClick\"/>\n      <goods-list :goods=\"showGoods\"/>\n    </scroll>\n    <back-top @click.native=\"backTop\" v-show=\"isBackTop\"/>\n  </div>\n</template>\n\n<script>\n    //导入首页相关数据\n    import {getHomeMultidata} from 'network/home'\n    import {getHomeGoods} from \"network/home\";\n    //导入首页各个组件\n    import NavBar from \"components/common/navbar/NavBar\"\n    import HomeSwiper from './childComps/HomeSwiper'\n    import RecommendView from './childComps/RecommendView'\n    import FeatureView from './childComps/FeatureView'\n    import TabControl from 'components/content/tabControl/TabControl'\n    import GoodsList from 'components/content/goods/GoodsList'\n    import BackTop from 'components/content/backtop/BackTop'\n    //导入滚动插件\n    import Scroll from 'components/common/scroll/Scroll'\n\n    export default {\n        data() {\n            return {\n                banners: [],\n                recommends: [],\n                titles: [],\n                //titles下的商品数据\n                goods: {\n                    0: {page: 0, data: []},\n                    1: {\n                        page: 0, data: []\n                    },\n                    2: {\n                        page: 0, data: []\n                    }\n                },\n                currentType: 0,\n                isBackTop: true\n            }\n        },\n        components: {\n            NavBar,\n            HomeSwiper,\n            RecommendView,\n            FeatureView,\n            TabControl,\n            GoodsList,\n            Scroll,\n            BackTop\n\n        },\n        //生命周期 - 创建完成（访问当前this实例）\n        created() {\n            //  1.请求首页多个数据（轮播图，推荐商品，3个titles)\n            this.getHomeMultidata2()\n\n            //  2.请求3个titles下的商品数据\n            this.getHomeGoods(0)\n            this.getHomeGoods(1)\n            this.getHomeGoods(2)\n\n        },\n        //展示当前类型的商品数据\n        computed: {\n            //\n            showGoods() {\n                return this.goods[this.currentType].data\n            }\n\n        },\n        methods: {\n            /*响应式函数*/\n            contentScroll(position) {\n                console.log(position)\n                this.isBackTop = -position.y > 1\n            },\n            //点击返回顶部按钮对应方法\n            backTop() {\n                this.$refs.scroll.scroll.scrollTo(0, 0)\n            },\n\n\n            //从tab-control组件发送过来的事件对应的方法，点击tab-control titles可以切换对应的数据\n            itemClick(index) {\n                switch (index) {\n                    case 0:\n                        this.currentType = 0\n                        break\n                    case 1:\n                        this.currentType = 1\n                        break\n                    case 2:\n                        this.currentType = 2\n                        break\n                }\n            },\n            /* 数据请求函数  */\n            getHomeMultidata2() {\n                getHomeMultidata().then(res => {\n                    console.log(res);\n                    this.banners = res.data.banner.list\n                    this.recommends = res.data.recommend.list\n                })\n            },\n            getHomeGoods(type) {\n                /*              将页码设置为动态可变，即当某一页加载完成后，页数+1指向下一页，\n                              下次再次调用该该方法进行数据请求的时候请求的就是下一页的数据*/\n                const page = this.goods[type].page + 1\n                //对应created()中的3次调用\n                getHomeGoods(type, page).then(res => {\n                    console.log(res)\n                    //将请求到的数据推到该组件对应类型的goods中\n                    this.goods[type].data.push(...res.data.data)\n                    //将page+1，下次调用该方法时就是加载下一页了\n                    this.goods[type].page += 1\n                })\n            }\n\n        }\n    }\n</script>\n<style scoped>\n  /* @import url(); 引入css类 */\n  #home {\n    padding-top: 44px;\n    /*position: relative;*/\n  }\n\n  .home-nav {\n    background-color: var(--color-tint);\n    height: 44px;\n    position: fixed;\n\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: 9;\n    font-size: 22px;\n    color: white;\n  }\n\n  .wrap {\n    position: absolute;\n  }\n\n  .content {\n    overflow-y: auto;\n\n    /*这里的content滚动盒子使用绝对定位，是相对于整个app组件进行定位的;\n    所以要给app组件的根元素设置为相对定位，距离顶部44px,距离底部49px才是正确的*/\n\n    /*发现给content的祖先元素设置相对定位后，content的内容会变为空，只有不给其祖先元素设置相对定位\n    ，content才能正常显示，故当前其祖先元素没有设置相对定位*/\n    position: absolute;\n    top: 44px;\n    bottom: 49px;\n    left: 0;\n    right: 0;\n    /*height: calc(100% - 500px);*/\n\n  }\n\n</style>\n"]}]}