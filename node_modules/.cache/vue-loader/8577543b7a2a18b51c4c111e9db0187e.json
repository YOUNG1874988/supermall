{"remainingRequest":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yangjun/Documents/Projects/LearnVuejs/supermall/src/views/home/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/src/views/home/Home.vue","mtime":1578551715894},{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8v5a+85YWl6aaW6aG155u45YWz5pWw5o2uCmltcG9ydCB7IGdldEhvbWVNdWx0aWRhdGEgfSBmcm9tICJuZXR3b3JrL2hvbWUiOwppbXBvcnQgeyBnZXRIb21lR29vZHMgfSBmcm9tICJuZXR3b3JrL2hvbWUiOwovL+WvvOWFpemmlumhteWQhOS4que7hOS7tgppbXBvcnQgTmF2QmFyIGZyb20gImNvbXBvbmVudHMvY29tbW9uL25hdmJhci9OYXZCYXIiOwppbXBvcnQgSG9tZVN3aXBlciBmcm9tICIuL2NoaWxkQ29tcHMvSG9tZVN3aXBlciI7CmltcG9ydCBSZWNvbW1lbmRWaWV3IGZyb20gIi4vY2hpbGRDb21wcy9SZWNvbW1lbmRWaWV3IjsKaW1wb3J0IEZlYXR1cmVWaWV3IGZyb20gIi4vY2hpbGRDb21wcy9GZWF0dXJlVmlldyI7CmltcG9ydCBUYWJDb250cm9sIGZyb20gImNvbXBvbmVudHMvY29udGVudC90YWJDb250cm9sL1RhYkNvbnRyb2wiOwppbXBvcnQgR29vZHNMaXN0IGZyb20gImNvbXBvbmVudHMvY29udGVudC9nb29kcy9Hb29kc0xpc3QiOwovLyDlr7zlhaXlkI7pnaLkvb/nlKhzd2lwZXLliJvlu7rnmoTova7mkq3lm77nu4Tku7YKaW1wb3J0IE5ld1N3aXBlciBmcm9tICdjb21wb25lbnRzL2NvbW1vbi9uZXdzd2lwZXIvTmV3U3dpcGVyJwovL+WvvOWFpea7muWKqOaPkuS7tgppbXBvcnQgU2Nyb2xsIGZyb20gImNvbXBvbmVudHMvY29tbW9uL3Njcm9sbC9TY3JvbGwiOwovLyDlr7zlhaVtaW5055qE5LiK5ouJ5Yqg6L295o+S5Lu2Ci8vIGltcG9ydCB7IExvYWRtb3JlIH0gZnJvbSAibWludC11aSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmFubmVyczogW10sCiAgICAgIHJlY29tbWVuZHM6IFtdLAogICAgICB0aXRsZXM6IFtdLAogICAgICAvL3RpdGxlc+S4i+eahOWVhuWTgeaVsOaNrgogICAgICBnb29kczogewogICAgICAgICdwb3AnOiB7IHBhZ2U6IDEsIGxpc3Q6IFtdIH0sCiAgICAgICAgJ25ldyc6IHsKICAgICAgICAgIHBhZ2U6IDEsCiAgICAgICAgICBsaXN0OiBbXQogICAgICAgIH0sCiAgICAgICAgJ3NlbGwnOiB7CiAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgbGlzdDogW10KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGN1cnJlbnRUeXBlOidwb3AnLAogICAgICB0YWJPZmZzZXRUb3A6MAoKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBOYXZCYXIsCiAgICAvLyBIb21lU3dpcGVyLAogICAgTmV3U3dpcGVyLAogICAgUmVjb21tZW5kVmlldywKICAgIEZlYXR1cmVWaWV3LAogICAgVGFiQ29udHJvbCwKICAgIEdvb2RzTGlzdCwKICAgIFNjcm9sbCwKICAgIC8vICJtdC1sb2FkbW9yZSI6IExvYWRNb3JlCiAgfSwKICAvL+eUn+WRveWRqOacnyAtIOWIm+W7uuWujOaIkO+8iOiuv+mXruW9k+WJjXRoaXPlrp7kvovvvIkKICBjcmVhdGVkKCkgewogICAgLy8gIDEu6K+35rGC6aaW6aG15aSa5Liq5pWw5o2u77yI6L2u5pKt5Zu+77yM5o6o6I2Q5ZWG5ZOB77yMM+S4qnRpdGxlcykKICAgIHRoaXMuZ2V0SG9tZU11bHRpZGF0YTIoKTsKCiAgICAvLyAgMi7or7fmsYIz5LiqdGl0bGVz5LiL55qE5ZWG5ZOB5pWw5o2uCiAgICB0aGlzLmdldEhvbWVHb29kcygncG9wJyk7CiAgICB0aGlzLmdldEhvbWVHb29kcygnbmV3Jyk7CiAgICB0aGlzLmdldEhvbWVHb29kcygnc2VsbCcpOwogIH0sCiAgLy8gZGVzdG9yeSgpewogIC8vICAgY29uc29sZS5sb2coJ3RoZSBob21lIHBhZ2UgaGFzIGJlZW4gZGVzdHJveWVkISEnKQogIC8vIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vIHRoaXMuZ2V0bGlzdCgpOwogICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLnRhYkNvbnRyb2wuJGVsLm9mZnNldFRvcCkKICB9LAogIC8v5bGV56S65b2T5YmN57G75Z6L55qE5ZWG5ZOB5pWw5o2uCiAgY29tcHV0ZWQ6IHsKICAgIC8vCiAgICBzaG93R29vZHMoKSB7CiAgICAgIHJldHVybiB0aGlzLmdvb2RzW3RoaXMuY3VycmVudFR5cGVdLmxpc3Q7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKuWTjeW6lOW8j+WHveaVsCovCiAgICBzd2lwZXJJbWdMb2FkZWQoKXsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy4kcmVmcy50YWJDb250cm9sLiRlbC5vZmZzZXRUb3ApCiAgICAgIHRoaXMudGFiT2Zmc2V0VG9wID0gdGhpcy4kcmVmcy50YWJDb250cm9sLiRlbC5vZmZzZXRUb3AKICAgIH0sCiAgICAvLyAg5LiK5ouJ5pe26LCD55So6K+l5pa55rOVCiAgICAvLyBsb2FkQm90dG9tKCkgewogICAgLy8gICB0aGlzLiRyZWZzLmxvYWRtb3JlLm9uQm90dG9tTG9hZGVkKCk7CiAgICAvLyAgIHRoaXMuZ2V0TGlzdCgpOwogICAgLy8gfSwKICAgIC8vIC8v5q2k5aSE5piv5L2g6YCa6L+H6LCD55So5ZCO56uv5o6l5Y+j6I635Y+W55qE5L+h5oGvCiAgICAvLyBnZXRMaXN0KCkgewogICAgLy8gICAvL+WFt+S9k+ivt+axguWPguaVsOimgeagueaNruWQjuerr+WumgogICAgLy8gICBsZXQgcGFyYW1zID0gewogICAgLy8gICAgIHBhZ2VOdW1iZXI6IDAsCiAgICAvLyAgICAgcGFnZVNpemU6IDEwIC8v5q+P5qyh6K+35rGCMTDmnaHmlbDmja4KICAgIC8vICAgfTsKICAgIC8vICAgdGhpcy4kYXhpb3MucG9zdCgiaHR0cHM6Ly93d3cuaWZhbnYuY29tL2FwaS90ZXN0IiwgcGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAvLyAgICAgdGhpcy5saXN0ID0gdGhpcy5saXN0LmNvbmNhdChyZXMuZGF0YS5kYXRhKTsKICAgIC8vICAgICBjb25zb2xlLmxvZyh0aGlzLmxpc3QpOwogICAgLy8gICB9KTsKICAgIC8vIH0sCiAgICAvL+S7jnRhYi1jb250cm9s57uE5Lu25Y+R6YCB6L+H5p2l55qE5LqL5Lu25a+55bqU55qE5pa55rOV77yM54K55Ye7dGFiLWNvbnRyb2wgdGl0bGVz5Y+v5Lul5YiH5o2i5a+55bqU55qE5pWw5o2uCiAgICBpdGVtQ2xpY2soaW5kZXgpIHsKICAgICAgc3dpdGNoIChpbmRleCkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHRoaXMuY3VycmVudFR5cGUgPSAncG9wJzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMToKICAgICAgICAgIHRoaXMuY3VycmVudFR5cGUgPSAnbmV3JzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHRoaXMuY3VycmVudFR5cGUgPSAnc2VsbCc7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIC8qIOaVsOaNruivt+axguWHveaVsCAgKi8KICAgIGdldEhvbWVNdWx0aWRhdGEyKCkgewogICAgICBnZXRIb21lTXVsdGlkYXRhKCkudGhlbihyZXMgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgdGhpcy5iYW5uZXJzID0gcmVzLmRhdGEuYmFubmVyLmxpc3Q7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5iYW5uZXJzKQogICAgICAgIHRoaXMucmVjb21tZW5kcyA9IHJlcy5kYXRhLnJlY29tbWVuZC5saXN0OwogICAgICB9KTsKICAgIH0sCiAgICBnZXRIb21lR29vZHModHlwZSkgewogICAgICAvKiAgICAgICAgICAgICAg5bCG6aG156CB6K6+572u5Li65Yqo5oCB5Y+v5Y+Y77yM5Y2z5b2T5p+Q5LiA6aG15Yqg6L295a6M5oiQ5ZCO77yM6aG15pWwKzHmjIflkJHkuIvkuIDpobXvvIwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5LiL5qyh5YaN5qyh6LCD55So6K+l6K+l5pa55rOV6L+b6KGM5pWw5o2u6K+35rGC55qE5pe25YCZ6K+35rGC55qE5bCx5piv5LiL5LiA6aG155qE5pWw5o2uKi8KICAgICAgY29uc3QgcGFnZSA9IHRoaXMuZ29vZHNbdHlwZV0ucGFnZSArIDE7CiAgICAgIC8v5a+55bqUY3JlYXRlZCgp5Lit55qEM+asoeiwg+eUqAogICAgICBnZXRIb21lR29vZHModHlwZSwgcGFnZSkudGhlbihyZXMgPT4gewogICAgICAgIC8v5bCG6K+35rGC5Yiw55qE5pWw5o2u5o6o5Yiw6K+l57uE5Lu25a+55bqU57G75Z6L55qEZ29vZHPkuK0KICAgICAgICB0aGlzLmdvb2RzW3R5cGVdLmxpc3QucHVzaCguLi5yZXMuZGF0YS5kYXRhLmxpc3QpOwogICAgICAgIC8v5bCGcGFnZSsx77yM5LiL5qyh6LCD55So6K+l5pa55rOV5pe25bCx5piv5Yqg6L295LiL5LiA6aG15LqGCiAgICAgICAgdGhpcy5nb29kc1t0eXBlXS5wYWdlICs9IDE7CiAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<!--  -->\n<template>\n  <div id=\"home\">\n    <nav-bar class=\"home-nav\">\n      <div class=\"wrap\"></div>\n      <div slot=\"center\">购物街</div>\n    </nav-bar>\n    <scroll class=\"content\" ref=\"scroll\" :probe-type=\"3\" :pull-up-load=\"true\">\n      <new-swiper :banners=\"banners\"></new-swiper>\n      <!-- <home-swiper :banners=\"banners\" @imgLoaded='swiperImgLoaded' /> -->\n      <recommend-view :recommends=\"recommends\" />\n      <feature-view />\n      <tab-control :titles=\"['流行','新品','热卖']\" @itemClick=\"itemClick\" ref=\"tabControl\"/>\n      <goods-list :goods=\"showGoods\" />\n      <!-- mint-ui的上拉加载插件 -->\n      <!-- <mt-loadmore\n        :bottom-method=\"loadBottom\"\n        :bottom-all-loaded=\"allLoaded\"\n        :auto-fill=\"false\"\n        ref=\"loadmore\"\n      >\n        <div class=\"item\" v-for=\"(item,index) in list\" :key=\"index\">\n          <div class=\"name\">{{item.noticeTitle}} + {{index}}</div>\n        </div>\n      </mt-loadmore> -->\n    </scroll>\n\n    <!-- 使用element-ui的已封装组件el-backtop定义返回顶部按钮 -->\n    <el-backtop target=\".content\" :bottom=\"70\" :right=\"20\">\n      <div class=\"back_top\">\n        <img src=\"~assets/img/common/top.png\" alt />\n      </div>\n    </el-backtop>\n  </div>\n</template>\n\n<script>\n//导入首页相关数据\nimport { getHomeMultidata } from \"network/home\";\nimport { getHomeGoods } from \"network/home\";\n//导入首页各个组件\nimport NavBar from \"components/common/navbar/NavBar\";\nimport HomeSwiper from \"./childComps/HomeSwiper\";\nimport RecommendView from \"./childComps/RecommendView\";\nimport FeatureView from \"./childComps/FeatureView\";\nimport TabControl from \"components/content/tabControl/TabControl\";\nimport GoodsList from \"components/content/goods/GoodsList\";\n// 导入后面使用swiper创建的轮播图组件\nimport NewSwiper from 'components/common/newswiper/NewSwiper'\n//导入滚动插件\nimport Scroll from \"components/common/scroll/Scroll\";\n// 导入mint的上拉加载插件\n// import { Loadmore } from \"mint-ui\";\nexport default {\n  data() {\n    return {\n      banners: [],\n      recommends: [],\n      titles: [],\n      //titles下的商品数据\n      goods: {\n        'pop': { page: 1, list: [] },\n        'new': {\n          page: 1,\n          list: []\n        },\n        'sell': {\n          page: 1,\n          list: []\n        }\n      },\n      currentType:'pop',\n      tabOffsetTop:0\n\n    };\n  },\n  components: {\n    NavBar,\n    // HomeSwiper,\n    NewSwiper,\n    RecommendView,\n    FeatureView,\n    TabControl,\n    GoodsList,\n    Scroll,\n    // \"mt-loadmore\": LoadMore\n  },\n  //生命周期 - 创建完成（访问当前this实例）\n  created() {\n    //  1.请求首页多个数据（轮播图，推荐商品，3个titles)\n    this.getHomeMultidata2();\n\n    //  2.请求3个titles下的商品数据\n    this.getHomeGoods('pop');\n    this.getHomeGoods('new');\n    this.getHomeGoods('sell');\n  },\n  // destory(){\n  //   console.log('the home page has been destroyed!!')\n  // },\n  mounted() {\n    // this.getlist();\n   // console.log(this.$refs.tabControl.$el.offsetTop)\n  },\n  //展示当前类型的商品数据\n  computed: {\n    //\n    showGoods() {\n      return this.goods[this.currentType].list;\n    }\n  },\n  methods: {\n    /*响应式函数*/\n    swiperImgLoaded(){\n      // console.log(this.$refs.tabControl.$el.offsetTop)\n      this.tabOffsetTop = this.$refs.tabControl.$el.offsetTop\n    },\n    //  上拉时调用该方法\n    // loadBottom() {\n    //   this.$refs.loadmore.onBottomLoaded();\n    //   this.getList();\n    // },\n    // //此处是你通过调用后端接口获取的信息\n    // getList() {\n    //   //具体请求参数要根据后端定\n    //   let params = {\n    //     pageNumber: 0,\n    //     pageSize: 10 //每次请求10条数据\n    //   };\n    //   this.$axios.post(\"https://www.ifanv.com/api/test\", params).then(res => {\n    //     this.list = this.list.concat(res.data.data);\n    //     console.log(this.list);\n    //   });\n    // },\n    //从tab-control组件发送过来的事件对应的方法，点击tab-control titles可以切换对应的数据\n    itemClick(index) {\n      switch (index) {\n        case 0:\n          this.currentType = 'pop';\n          break;\n        case 1:\n          this.currentType = 'new';\n          break;\n        case 2:\n          this.currentType = 'sell';\n          break;\n      }\n    },\n    /* 数据请求函数  */\n    getHomeMultidata2() {\n      getHomeMultidata().then(res => {\n        // console.log(res);\n        this.banners = res.data.banner.list;\n        console.log(this.banners)\n        this.recommends = res.data.recommend.list;\n      });\n    },\n    getHomeGoods(type) {\n      /*              将页码设置为动态可变，即当某一页加载完成后，页数+1指向下一页，\n                              下次再次调用该该方法进行数据请求的时候请求的就是下一页的数据*/\n      const page = this.goods[type].page + 1;\n      //对应created()中的3次调用\n      getHomeGoods(type, page).then(res => {\n        //将请求到的数据推到该组件对应类型的goods中\n        this.goods[type].list.push(...res.data.data.list);\n        //将page+1，下次调用该方法时就是加载下一页了\n        this.goods[type].page += 1;\n      });\n    }\n  }\n};\n</script>\n<style scoped>\n/* @import url(); 引入css类 */\n/* #home { */\n  /* padding-top: 44px; */\n  /*position: relative;*/\n/* } */\n\n.home-nav {\n  background-color: var(--color-tint);\n  height: 44px;\n  /* position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 9; */\n  font-size: 22px;\n  color: white;\n}\n\n.wrap {\n  position: absolute;\n}\n\n.content {\n  overflow-y: auto;\n  /*这里的content滚动盒子使用绝对定位，是相对于整个app组件进行定位的;\n    所以要给app组件的根元素设置为相对定位，距离顶部44px,距离底部49px才是正确的*/\n\n  /*发现给content的祖先元素设置相对定位后，content的内容会变为空，只有不给其祖先元素设置相对定位\n    ，content才能正常显示，故当前其祖先元素没有设置相对定位*/\n  position: absolute;\n  top: 48px;\n  bottom: 50px;\n  left: 0;\n  right: 0;\n  /*height: calc(100% - 500px);*/\n}\n.back_top {\n  height: 100%;\n  width: 100%;\n  text-align: center;\n  background-color: green;\n  border-radius: 100%;\n  z-index: 20;\n}\n.back_top img {\n  width: 50px;\n  margin-left: -5px;\n  margin-top: -3px;\n}\n</style>\n"]}]}