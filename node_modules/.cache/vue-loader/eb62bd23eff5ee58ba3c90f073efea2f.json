{"remainingRequest":"/Users/yangjun/Documents/0.My Projects/LearnVuejs/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yangjun/Documents/0.My Projects/LearnVuejs/supermall/src/views/cart/childComps/CartBottomBar.vue?vue&type=style&index=0&id=5cd8f4a6&scoped=true&lang=css&","dependencies":[{"path":"/Users/yangjun/Documents/0.My Projects/LearnVuejs/supermall/src/views/cart/childComps/CartBottomBar.vue","mtime":1578391161248},{"path":"/Users/yangjun/Documents/0.My Projects/LearnVuejs/supermall/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/0.My Projects/LearnVuejs/supermall/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/0.My Projects/LearnVuejs/supermall/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/0.My Projects/LearnVuejs/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/0.My Projects/LearnVuejs/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNoZWNrIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgdG9wOiAxMXB4OwogIG1hcmdpbi1sZWZ0OiAxMHB4OwoKfQouY2hlY2sgaW1newogIG1hcmdpbi1yaWdodDogMTBweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjOwogIGJvcmRlci1yYWRpdXM6IDVweDsKICBib3JkZXI6IDJweCBzb2xpZCByZ2JhKDAsMCwwLC4xKTsKfQouY2hlY2sgLnNlbGVjdGFsbHsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7Cn0KLmNoZWNrIC50ZXh0ewogIGZsb2F0OiByaWdodDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgbGVmdDogMzBweDsKICB0b3A6IDJweDsKfQogIC50b3RhbHByaWNlewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbGVmdDogMTAwcHg7CiAgICB0b3A6IDEzcHg7CiAgfQogIC5nby1jYWxjdWxhdGV7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDFweDsKICAgIHJpZ2h0OiAycHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7CiAgICBoZWlnaHQ6IDQwcHg7CiAgICB3aWR0aDogODBweDsKICAgIGxpbmUtaGVpZ2h0OiA0MHB4OwogICAgY29sb3I6IHdoaXRlOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogIH0K"},{"version":3,"sources":["CartBottomBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CartBottomBar.vue","sourceRoot":"src/views/cart/childComps","sourcesContent":["<template>\n    <div class=\"bottom-bar\">\n      <div class=\"check\" >\n        <img src=\"~assets/img/common/cart/tick.svg\"\n             class=\"checkout\"\n             :class=\"{selectall:isSelectedAll}\"\n             @click=\"checkClick\"\n             alt=\"\">\n        <div class=\"text\">全选</div>\n      </div>\n      <div class=\"totalprice\">\n<!--        全选价格统计实现思路：\n遍历state中cartList数组，如果checked为true，则表明被选中，将它们的价格相加即为总价格；\n -->\n        <span>合计:￥{{totalPrice}}</span>\n      </div>\n      <div class=\"go-calculate\">\n\n        去结算({{totalCount}})\n      </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"CartBottomBar\",\n      data(){\n          return{\n            cartList:this.$store.state.cartList\n          }\n      },\n      methods:{\n          checkClick(){\n            //点击全选按钮全选或全不选实现思路\n            //1.遍历购物车中产品，查看是否存在checked为false的元素；\n            //2.如果存在checked为false的元素，将其改为true;\n            //3.如果不存在checked为false的元素，即所有元素的checked为true，则将所有元素的checked改为false；\n           if(this.isSelectedAll){\n             this.cartList.forEach(item => item.checked = false)\n           }else{\n             this.cartList.forEach(item => item.checked = true)\n           }\n          }\n      },\n      computed:{\n          totalPrice(){\n            //先过滤出购物车数组中所有已经被选中的元素\n            //再讲他们的总价格计算出来\n            const cartList = this.$store.state.cartList;\n            console.log(cartList);\n            return cartList.filter(item => {\n              return item.checked\n            }).reduce((prevalue, item) => {\n              return prevalue + item.count * item.price\n            }, 0).toFixed(2)\n          },\n        totalCount(){\n            //先选出所有已经被选中的元素\n            //再将它们的总数量计算出来\n            const cartList = this.$store.state.cartList;\n            return cartList.filter(item => {\n              return item.checked\n            }).reduce((prevalue,item) => {\n              return prevalue + item.count\n            },0).toFixed(0)\n        },\n        isSelectedAll(){\n            const cartList = this.$store.state.cartList;\n            //如果在购物车中能找到checked为false，即没有被选中的\n            //商品，则返回false,使该图标不再全部选中状态\n\n            //如果购物车为空，按照该方式查到结果为false，取反后为true,故需要先对购物车是否有产品做判断\n            if(cartList.length === 0) {return false}\n            return    !cartList.find(item =>\n              !item.checked\n            )\n        }\n\n\n      }\n    }\n</script>\n\n<style scoped>\n.check {\n  position: relative;\n  top: 11px;\n  margin-left: 10px;\n\n}\n.check img{\n  margin-right: 10px;\n  background-color: #ccc;\n  border-radius: 5px;\n  border: 2px solid rgba(0,0,0,.1);\n}\n.check .selectall{\n  background-color: red;\n}\n.check .text{\n  float: right;\n  position: absolute;\n  left: 30px;\n  top: 2px;\n}\n  .totalprice{\n    position: absolute;\n    left: 100px;\n    top: 13px;\n  }\n  .go-calculate{\n    position: absolute;\n    top: 1px;\n    right: 2px;\n    background-color: red;\n    height: 40px;\n    width: 80px;\n    line-height: 40px;\n    color: white;\n    text-align: center;\n  }\n</style>\n"]}]}