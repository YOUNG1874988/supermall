{"remainingRequest":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yangjun/Documents/Projects/LearnVuejs/supermall/src/views/cart/childComps/CartBottomBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/src/views/cart/childComps/CartBottomBar.vue","mtime":1578391161248},{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJDYXJ0Qm90dG9tQmFyIiwKICBkYXRhKCl7CiAgICAgIHJldHVybnsKICAgICAgICBjYXJ0TGlzdDp0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0TGlzdAogICAgICB9CiAgfSwKICBtZXRob2RzOnsKICAgICAgY2hlY2tDbGljaygpewogICAgICAgIC8v54K55Ye75YWo6YCJ5oyJ6ZKu5YWo6YCJ5oiW5YWo5LiN6YCJ5a6e546w5oCd6LevCiAgICAgICAgLy8xLumBjeWOhui0reeJqei9puS4reS6p+WTge+8jOafpeeci+aYr+WQpuWtmOWcqGNoZWNrZWTkuLpmYWxzZeeahOWFg+e0oO+8mwogICAgICAgIC8vMi7lpoLmnpzlrZjlnKhjaGVja2Vk5Li6ZmFsc2XnmoTlhYPntKDvvIzlsIblhbbmlLnkuLp0cnVlOwogICAgICAgIC8vMy7lpoLmnpzkuI3lrZjlnKhjaGVja2Vk5Li6ZmFsc2XnmoTlhYPntKDvvIzljbPmiYDmnInlhYPntKDnmoRjaGVja2Vk5Li6dHJ1Ze+8jOWImeWwhuaJgOacieWFg+e0oOeahGNoZWNrZWTmlLnkuLpmYWxzZe+8mwogICAgICAgaWYodGhpcy5pc1NlbGVjdGVkQWxsKXsKICAgICAgICAgdGhpcy5jYXJ0TGlzdC5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jaGVja2VkID0gZmFsc2UpCiAgICAgICB9ZWxzZXsKICAgICAgICAgdGhpcy5jYXJ0TGlzdC5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jaGVja2VkID0gdHJ1ZSkKICAgICAgIH0KICAgICAgfQogIH0sCiAgY29tcHV0ZWQ6ewogICAgICB0b3RhbFByaWNlKCl7CiAgICAgICAgLy/lhYjov4fmu6Tlh7rotK3nianovabmlbDnu4TkuK3miYDmnInlt7Lnu4/ooqvpgInkuK3nmoTlhYPntKAKICAgICAgICAvL+WGjeiusuS7luS7rOeahOaAu+S7t+agvOiuoeeul+WHuuadpQogICAgICAgIGNvbnN0IGNhcnRMaXN0ID0gdGhpcy4kc3RvcmUuc3RhdGUuY2FydExpc3Q7CiAgICAgICAgY29uc29sZS5sb2coY2FydExpc3QpOwogICAgICAgIHJldHVybiBjYXJ0TGlzdC5maWx0ZXIoaXRlbSA9PiB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jaGVja2VkCiAgICAgICAgfSkucmVkdWNlKChwcmV2YWx1ZSwgaXRlbSkgPT4gewogICAgICAgICAgcmV0dXJuIHByZXZhbHVlICsgaXRlbS5jb3VudCAqIGl0ZW0ucHJpY2UKICAgICAgICB9LCAwKS50b0ZpeGVkKDIpCiAgICAgIH0sCiAgICB0b3RhbENvdW50KCl7CiAgICAgICAgLy/lhYjpgInlh7rmiYDmnInlt7Lnu4/ooqvpgInkuK3nmoTlhYPntKAKICAgICAgICAvL+WGjeWwhuWug+S7rOeahOaAu+aVsOmHj+iuoeeul+WHuuadpQogICAgICAgIGNvbnN0IGNhcnRMaXN0ID0gdGhpcy4kc3RvcmUuc3RhdGUuY2FydExpc3Q7CiAgICAgICAgcmV0dXJuIGNhcnRMaXN0LmZpbHRlcihpdGVtID0+IHsKICAgICAgICAgIHJldHVybiBpdGVtLmNoZWNrZWQKICAgICAgICB9KS5yZWR1Y2UoKHByZXZhbHVlLGl0ZW0pID0+IHsKICAgICAgICAgIHJldHVybiBwcmV2YWx1ZSArIGl0ZW0uY291bnQKICAgICAgICB9LDApLnRvRml4ZWQoMCkKICAgIH0sCiAgICBpc1NlbGVjdGVkQWxsKCl7CiAgICAgICAgY29uc3QgY2FydExpc3QgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0TGlzdDsKICAgICAgICAvL+WmguaenOWcqOi0reeJqei9puS4reiDveaJvuWIsGNoZWNrZWTkuLpmYWxzZe+8jOWNs+ayoeacieiiq+mAieS4reeahAogICAgICAgIC8v5ZWG5ZOB77yM5YiZ6L+U5ZueZmFsc2Us5L2/6K+l5Zu+5qCH5LiN5YaN5YWo6YOo6YCJ5Lit54q25oCBCgogICAgICAgIC8v5aaC5p6c6LSt54mp6L2m5Li656m677yM5oyJ54Wn6K+l5pa55byP5p+l5Yiw57uT5p6c5Li6ZmFsc2XvvIzlj5blj43lkI7kuLp0cnVlLOaVhemcgOimgeWFiOWvuei0reeJqei9puaYr+WQpuacieS6p+WTgeWBmuWIpOaWrQogICAgICAgIGlmKGNhcnRMaXN0Lmxlbmd0aCA9PT0gMCkge3JldHVybiBmYWxzZX0KICAgICAgICByZXR1cm4gICAgIWNhcnRMaXN0LmZpbmQoaXRlbSA9PgogICAgICAgICAgIWl0ZW0uY2hlY2tlZAogICAgICAgICkKICAgIH0KCgogIH0KfQo="},{"version":3,"sources":["CartBottomBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"CartBottomBar.vue","sourceRoot":"src/views/cart/childComps","sourcesContent":["<template>\n    <div class=\"bottom-bar\">\n      <div class=\"check\" >\n        <img src=\"~assets/img/common/cart/tick.svg\"\n             class=\"checkout\"\n             :class=\"{selectall:isSelectedAll}\"\n             @click=\"checkClick\"\n             alt=\"\">\n        <div class=\"text\">全选</div>\n      </div>\n      <div class=\"totalprice\">\n<!--        全选价格统计实现思路：\n遍历state中cartList数组，如果checked为true，则表明被选中，将它们的价格相加即为总价格；\n -->\n        <span>合计:￥{{totalPrice}}</span>\n      </div>\n      <div class=\"go-calculate\">\n\n        去结算({{totalCount}})\n      </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"CartBottomBar\",\n      data(){\n          return{\n            cartList:this.$store.state.cartList\n          }\n      },\n      methods:{\n          checkClick(){\n            //点击全选按钮全选或全不选实现思路\n            //1.遍历购物车中产品，查看是否存在checked为false的元素；\n            //2.如果存在checked为false的元素，将其改为true;\n            //3.如果不存在checked为false的元素，即所有元素的checked为true，则将所有元素的checked改为false；\n           if(this.isSelectedAll){\n             this.cartList.forEach(item => item.checked = false)\n           }else{\n             this.cartList.forEach(item => item.checked = true)\n           }\n          }\n      },\n      computed:{\n          totalPrice(){\n            //先过滤出购物车数组中所有已经被选中的元素\n            //再讲他们的总价格计算出来\n            const cartList = this.$store.state.cartList;\n            console.log(cartList);\n            return cartList.filter(item => {\n              return item.checked\n            }).reduce((prevalue, item) => {\n              return prevalue + item.count * item.price\n            }, 0).toFixed(2)\n          },\n        totalCount(){\n            //先选出所有已经被选中的元素\n            //再将它们的总数量计算出来\n            const cartList = this.$store.state.cartList;\n            return cartList.filter(item => {\n              return item.checked\n            }).reduce((prevalue,item) => {\n              return prevalue + item.count\n            },0).toFixed(0)\n        },\n        isSelectedAll(){\n            const cartList = this.$store.state.cartList;\n            //如果在购物车中能找到checked为false，即没有被选中的\n            //商品，则返回false,使该图标不再全部选中状态\n\n            //如果购物车为空，按照该方式查到结果为false，取反后为true,故需要先对购物车是否有产品做判断\n            if(cartList.length === 0) {return false}\n            return    !cartList.find(item =>\n              !item.checked\n            )\n        }\n\n\n      }\n    }\n</script>\n\n<style scoped>\n.check {\n  position: relative;\n  top: 11px;\n  margin-left: 10px;\n\n}\n.check img{\n  margin-right: 10px;\n  background-color: #ccc;\n  border-radius: 5px;\n  border: 2px solid rgba(0,0,0,.1);\n}\n.check .selectall{\n  background-color: red;\n}\n.check .text{\n  float: right;\n  position: absolute;\n  left: 30px;\n  top: 2px;\n}\n  .totalprice{\n    position: absolute;\n    left: 100px;\n    top: 13px;\n  }\n  .go-calculate{\n    position: absolute;\n    top: 1px;\n    right: 2px;\n    background-color: red;\n    height: 40px;\n    width: 80px;\n    line-height: 40px;\n    color: white;\n    text-align: center;\n  }\n</style>\n"]}]}