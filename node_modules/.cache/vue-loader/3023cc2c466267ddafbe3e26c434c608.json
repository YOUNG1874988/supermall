{"remainingRequest":"/Users/yangjun/Documents/MY PROJECTS/LearnVuejs/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yangjun/Documents/MY PROJECTS/LearnVuejs/supermall/src/views/home/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yangjun/Documents/MY PROJECTS/LearnVuejs/supermall/src/views/home/Home.vue","mtime":1575021647893},{"path":"/Users/yangjun/Documents/MY PROJECTS/LearnVuejs/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/MY PROJECTS/LearnVuejs/supermall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/MY PROJECTS/LearnVuejs/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/MY PROJECTS/LearnVuejs/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8v5a+85YWl6aaW6aG15ZCE5Liq57uE5Lu2CmltcG9ydCBOYXZCYXIgZnJvbSAiY29tcG9uZW50cy9jb21tb24vbmF2YmFyL05hdkJhciIKaW1wb3J0IEhvbWVTd2lwZXIgZnJvbSAnLi9jaGlsZENvbXBzL0hvbWVTd2lwZXInCmltcG9ydCBSZWNvbW1lbmRWaWV3IGZyb20gJy4vY2hpbGRDb21wcy9SZWNvbW1lbmRWaWV3JwppbXBvcnQgRmVhdHVyZVZpZXcgZnJvbSAnLi9jaGlsZENvbXBzL0ZlYXR1cmVWaWV3JwppbXBvcnQgVGFiQ29udHJvbCBmcm9tICdjb21wb25lbnRzL2NvbnRlbnQvdGFiQ29udHJvbC9UYWJDb250cm9sJwppbXBvcnQgR29vZHNMaXN0IGZyb20gJ2NvbXBvbmVudHMvY29udGVudC9nb29kcy9Hb29kc0xpc3QnCi8v5a+85YWl6aaW6aG155u45YWz5pWw5o2uCmltcG9ydCB7Z2V0SG9tZU11bHRpZGF0YX0gZnJvbSAnbmV0d29yay9ob21lJwppbXBvcnQge2dldEhvbWVHb29kc30gZnJvbSAibmV0d29yay9ob21lIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYmFubmVyczogW10sCiAgICAgICAgICAgIHJlY29tbWVuZHM6IFtdLAogICAgICAgICAgICB0aXRsZXM6IFtdLAogICAgICAgICAgICAvL3RpdGxlc+S4i+eahOWVhuWTgeaVsOaNrgogICAgICAgICAgICBnb29kczogewogICAgICAgICAgICAgICAgJ3BvcCc6IHtwYWdlOiAwLCBsaXN0OiBbXX0sCiAgICAgICAgICAgICAgICAnbmV3JzogewogICAgICAgICAgICAgICAgICAgIHBhZ2U6IDAsIGxpc3Q6IFtdCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgJ3NlbGwnOiB7CiAgICAgICAgICAgICAgICAgICAgcGFnZTogMCwgbGlzdDogW10KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgY3VycmVudFR5cGU6ICdwb3AnCiAgICAgICAgfQogICAgfSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBOYXZCYXIsCiAgICAgICAgSG9tZVN3aXBlciwKICAgICAgICBSZWNvbW1lbmRWaWV3LAogICAgICAgIEZlYXR1cmVWaWV3LAogICAgICAgIFRhYkNvbnRyb2wsCiAgICAgICAgR29vZHNMaXN0CiAgICB9LAogICAgLy/nlJ/lkb3lkajmnJ8gLSDliJvlu7rlrozmiJDvvIjorr/pl67lvZPliY10aGlz5a6e5L6L77yJCiAgICBjcmVhdGVkKCkgewogICAgICAgIC8vICAxLuivt+axgummlumhteWkmuS4quaVsOaNru+8iOi9ruaSreWbvu+8jOaOqOiNkOWVhuWTge+8jDPkuKp0aXRsZXMpCiAgICAgICAgdGhpcy5nZXRIb21lTXVsdGlkYXRhMigpCgogICAgICAgIC8vICAyLuivt+axgjPkuKp0aXRsZXPkuIvnmoTllYblk4HmlbDmja4KICAgICAgICB0aGlzLmdldEhvbWVHb29kcygncG9wJykKICAgICAgICB0aGlzLmdldEhvbWVHb29kcygnbmV3JykKICAgICAgICB0aGlzLmdldEhvbWVHb29kcygnc2VsbCcpCgogICAgfSwKICAgIGNvbXB1dGVkOiB7fSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvL+WTjeW6lOW8j+aWueazlQogICAgICAgIGl0ZW1DbGljayhpbmRleCkgewogICAgICAgICAgICBzd2l0Y2ggKGluZGV4KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHlwZSA9ICdwb3AnCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUeXBlID0gJ25ldycKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR5cGUgPSAnc2VsbCcKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvL+aVsOaNruivt+axguWHveaVsAogICAgICAgIGdldEhvbWVNdWx0aWRhdGEyKCkgewogICAgICAgICAgICBnZXRIb21lTXVsdGlkYXRhKCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgIHRoaXMuYmFubmVycyA9IHJlcy5kYXRhLmJhbm5lci5saXN0CiAgICAgICAgICAgICAgICB0aGlzLnJlY29tbWVuZHMgPSByZXMuZGF0YS5yZWNvbW1lbmQubGlzdAogICAgICAgICAgICAgICAgdGhpcy50aXRsZXMgPSByZXMuZGF0YS50aXRsZXMubGlzdAogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZ2V0SG9tZUdvb2RzKHR5cGUpIHsKICAgICAgICAgICAgLyogICAgICAgICAgICAgIOWwhumhteeggeiuvue9ruS4uuWKqOaAgeWPr+WPmO+8jOWNs+W9k+afkOS4gOmhteWKoOi9veWujOaIkOWQju+8jOmhteaVsCsx5oyH5ZCR5LiL5LiA6aG177yMCiAgICAgICAgICAgICAgICAgICAgICAgICAg5LiL5qyh5YaN5qyh6LCD55So6K+l6K+l5pa55rOV6L+b6KGM5pWw5o2u6K+35rGC55qE5pe25YCZ6K+35rGC55qE5bCx5piv5LiL5LiA6aG155qE5pWw5o2uKi8KICAgICAgICAgICAgY29uc3QgcGFnZSA9IHRoaXMuZ29vZHNbdHlwZV0ucGFnZSArIDEKICAgICAgICAgICAgLy/lr7nlupRjcmVhdGVkKCnkuK3nmoQz5qyh6LCD55SoCiAgICAgICAgICAgIGdldEhvbWVHb29kcyh0eXBlLCBwYWdlKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAvL+Wwhuivt+axguWIsOeahOaVsOaNruaOqOWIsOivpee7hOS7tuWvueW6lOexu+Wei+eahGdvb2Rz5LitCiAgICAgICAgICAgICAgICB0aGlzLmdvb2RzW3R5cGVdLmxpc3QucHVzaCguLi5yZXMuZGF0YS5saXN0KQogICAgICAgICAgICAgICAgLy/lsIZwYWdlKzHvvIzkuIvmrKHosIPnlKjor6Xmlrnms5Xml7blsLHmmK/liqDovb3kuIvkuIDpobXkuoYKICAgICAgICAgICAgICAgIHRoaXMuZ29vZHNbdHlwZV0ucGFnZSArPSAxCiAgICAgICAgICAgIH0pCiAgICAgICAgfQoKICAgIH0KfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<!--  -->\n<template>\n  <div id=\"home\">\n\n    <nav-bar class=\"home-nav\">\n      <div class=\"wrap\"></div>\n      <div slot=\"center\">购物街</div>\n    </nav-bar>\n    <home-swiper :banners=\"banners\"></home-swiper>\n    <recommend-view :recommends=\"recommends\"></recommend-view>\n    <feature-view></feature-view>\n    <tab-control :titles=\"['流行','新品','热卖']\" @itemClick=\"itemClick\"></tab-control>\n    <goods-list :goods=\"goods[currentType].list\">\n    </goods-list>\n  </div>\n</template>\n\n<script>\n    //导入首页各个组件\n    import NavBar from \"components/common/navbar/NavBar\"\n    import HomeSwiper from './childComps/HomeSwiper'\n    import RecommendView from './childComps/RecommendView'\n    import FeatureView from './childComps/FeatureView'\n    import TabControl from 'components/content/tabControl/TabControl'\n    import GoodsList from 'components/content/goods/GoodsList'\n    //导入首页相关数据\n    import {getHomeMultidata} from 'network/home'\n    import {getHomeGoods} from \"network/home\";\n\n    export default {\n        data() {\n            return {\n                banners: [],\n                recommends: [],\n                titles: [],\n                //titles下的商品数据\n                goods: {\n                    'pop': {page: 0, list: []},\n                    'new': {\n                        page: 0, list: []\n                    },\n                    'sell': {\n                        page: 0, list: []\n                    }\n                },\n                currentType: 'pop'\n            }\n        },\n        components: {\n            NavBar,\n            HomeSwiper,\n            RecommendView,\n            FeatureView,\n            TabControl,\n            GoodsList\n        },\n        //生命周期 - 创建完成（访问当前this实例）\n        created() {\n            //  1.请求首页多个数据（轮播图，推荐商品，3个titles)\n            this.getHomeMultidata2()\n\n            //  2.请求3个titles下的商品数据\n            this.getHomeGoods('pop')\n            this.getHomeGoods('new')\n            this.getHomeGoods('sell')\n\n        },\n        computed: {},\n        methods: {\n            //响应式方法\n            itemClick(index) {\n                switch (index) {\n                    case 0:\n                        this.currentType = 'pop'\n                        break\n                    case 1:\n                        this.currentType = 'new'\n                        break\n                    case 2:\n                        this.currentType = 'sell'\n                        break\n                }\n            },\n            //数据请求函数\n            getHomeMultidata2() {\n                getHomeMultidata().then(res => {\n                    console.log(res);\n                    this.banners = res.data.banner.list\n                    this.recommends = res.data.recommend.list\n                    this.titles = res.data.titles.list\n                })\n            },\n            getHomeGoods(type) {\n                /*              将页码设置为动态可变，即当某一页加载完成后，页数+1指向下一页，\n                              下次再次调用该该方法进行数据请求的时候请求的就是下一页的数据*/\n                const page = this.goods[type].page + 1\n                //对应created()中的3次调用\n                getHomeGoods(type, page).then(res => {\n                    //将请求到的数据推到该组件对应类型的goods中\n                    this.goods[type].list.push(...res.data.list)\n                    //将page+1，下次调用该方法时就是加载下一页了\n                    this.goods[type].page += 1\n                })\n            }\n\n        }\n    }\n</script>\n<style scoped>\n  /* @import url(); 引入css类 */\n  #home {\n    padding-top: 44px;\n    /*display: inline;*/\n  }\n\n  .home-nav {\n    background-color: var(--color-tint);\n    width: 100vw;\n    height: 44px;\n    position: fixed;\n\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: 9;\n    font-size: 22px;\n    color: white;\n  }\n\n  .wrap {\n    position: absolute;\n  }\n</style>\n"]}]}