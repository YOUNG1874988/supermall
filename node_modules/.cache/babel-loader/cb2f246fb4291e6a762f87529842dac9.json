{"remainingRequest":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/babel-loader/lib/index.js!/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yangjun/Documents/Projects/LearnVuejs/supermall/src/views/cart/childComps/CartBottomBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/src/views/cart/childComps/CartBottomBar.vue","mtime":1578391161248},{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ2FydEJvdHRvbUJhciIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhcnRMaXN0OiB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0TGlzdAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrQ2xpY2s6IGZ1bmN0aW9uIGNoZWNrQ2xpY2soKSB7CiAgICAgIC8v54K55Ye75YWo6YCJ5oyJ6ZKu5YWo6YCJ5oiW5YWo5LiN6YCJ5a6e546w5oCd6LevCiAgICAgIC8vMS7pgY3ljobotK3nianovabkuK3kuqflk4HvvIzmn6XnnIvmmK/lkKblrZjlnKhjaGVja2Vk5Li6ZmFsc2XnmoTlhYPntKDvvJsKICAgICAgLy8yLuWmguaenOWtmOWcqGNoZWNrZWTkuLpmYWxzZeeahOWFg+e0oO+8jOWwhuWFtuaUueS4unRydWU7CiAgICAgIC8vMy7lpoLmnpzkuI3lrZjlnKhjaGVja2Vk5Li6ZmFsc2XnmoTlhYPntKDvvIzljbPmiYDmnInlhYPntKDnmoRjaGVja2Vk5Li6dHJ1Ze+8jOWImeWwhuaJgOacieWFg+e0oOeahGNoZWNrZWTmlLnkuLpmYWxzZe+8mwogICAgICBpZiAodGhpcy5pc1NlbGVjdGVkQWxsKSB7CiAgICAgICAgdGhpcy5jYXJ0TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jYXJ0TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5jaGVja2VkID0gdHJ1ZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRvdGFsUHJpY2U6IGZ1bmN0aW9uIHRvdGFsUHJpY2UoKSB7CiAgICAgIC8v5YWI6L+H5ruk5Ye66LSt54mp6L2m5pWw57uE5Lit5omA5pyJ5bey57uP6KKr6YCJ5Lit55qE5YWD57SgCiAgICAgIC8v5YaN6K6y5LuW5Lus55qE5oC75Lu35qC86K6h566X5Ye65p2lCiAgICAgIHZhciBjYXJ0TGlzdCA9IHRoaXMuJHN0b3JlLnN0YXRlLmNhcnRMaXN0OwogICAgICBjb25zb2xlLmxvZyhjYXJ0TGlzdCk7CiAgICAgIHJldHVybiBjYXJ0TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5jaGVja2VkOwogICAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKHByZXZhbHVlLCBpdGVtKSB7CiAgICAgICAgcmV0dXJuIHByZXZhbHVlICsgaXRlbS5jb3VudCAqIGl0ZW0ucHJpY2U7CiAgICAgIH0sIDApLnRvRml4ZWQoMik7CiAgICB9LAogICAgdG90YWxDb3VudDogZnVuY3Rpb24gdG90YWxDb3VudCgpIHsKICAgICAgLy/lhYjpgInlh7rmiYDmnInlt7Lnu4/ooqvpgInkuK3nmoTlhYPntKAKICAgICAgLy/lho3lsIblroPku6znmoTmgLvmlbDph4/orqHnrpflh7rmnaUKICAgICAgdmFyIGNhcnRMaXN0ID0gdGhpcy4kc3RvcmUuc3RhdGUuY2FydExpc3Q7CiAgICAgIHJldHVybiBjYXJ0TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5jaGVja2VkOwogICAgICB9KS5yZWR1Y2UoZnVuY3Rpb24gKHByZXZhbHVlLCBpdGVtKSB7CiAgICAgICAgcmV0dXJuIHByZXZhbHVlICsgaXRlbS5jb3VudDsKICAgICAgfSwgMCkudG9GaXhlZCgwKTsKICAgIH0sCiAgICBpc1NlbGVjdGVkQWxsOiBmdW5jdGlvbiBpc1NlbGVjdGVkQWxsKCkgewogICAgICB2YXIgY2FydExpc3QgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0TGlzdDsgLy/lpoLmnpzlnKjotK3nianovabkuK3og73mib7liLBjaGVja2Vk5Li6ZmFsc2XvvIzljbPmsqHmnInooqvpgInkuK3nmoQKICAgICAgLy/llYblk4HvvIzliJnov5Tlm55mYWxzZSzkvb/or6Xlm77moIfkuI3lho3lhajpg6jpgInkuK3nirbmgIEKICAgICAgLy/lpoLmnpzotK3nianovabkuLrnqbrvvIzmjInnhafor6XmlrnlvI/mn6XliLDnu5PmnpzkuLpmYWxzZe+8jOWPluWPjeWQjuS4unRydWUs5pWF6ZyA6KaB5YWI5a+56LSt54mp6L2m5piv5ZCm5pyJ5Lqn5ZOB5YGa5Yik5patCgogICAgICBpZiAoY2FydExpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gIWNhcnRMaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gIWl0ZW0uY2hlY2tlZDsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["CartBottomBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA;AADA,KAAA;AAGA,GANA;AAOA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA;AACA;AACA;AACA;AACA,UAAA,KAAA,aAAA,EAAA;AACA,aAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,OAAA,GAAA,KAAA;AAAA,SAAA;AACA,OAFA,MAEA;AACA,aAAA,QAAA,CAAA,OAAA,CAAA,UAAA,IAAA;AAAA,iBAAA,IAAA,CAAA,OAAA,GAAA,IAAA;AAAA,SAAA;AACA;AACA;AAXA,GAPA;AAoBA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA;AACA;AACA,UAAA,QAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,aAAA,QAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,OAAA;AACA,OAFA,EAEA,MAFA,CAEA,UAAA,QAAA,EAAA,IAAA,EAAA;AACA,eAAA,QAAA,GAAA,IAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA;AACA,OAJA,EAIA,CAJA,EAIA,OAJA,CAIA,CAJA,CAAA;AAKA,KAXA;AAYA,IAAA,UAZA,wBAYA;AACA;AACA;AACA,UAAA,QAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA;AACA,aAAA,QAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,eAAA,IAAA,CAAA,OAAA;AACA,OAFA,EAEA,MAFA,CAEA,UAAA,QAAA,EAAA,IAAA,EAAA;AACA,eAAA,QAAA,GAAA,IAAA,CAAA,KAAA;AACA,OAJA,EAIA,CAJA,EAIA,OAJA,CAIA,CAJA,CAAA;AAKA,KArBA;AAsBA,IAAA,aAtBA,2BAsBA;AACA,UAAA,QAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CADA,CAEA;AACA;AAEA;;AACA,UAAA,QAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AAAA,eAAA,KAAA;AAAA;;AACA,aAAA,CAAA,QAAA,CAAA,IAAA,CAAA,UAAA,IAAA;AAAA,eACA,CAAA,IAAA,CAAA,OADA;AAAA,OAAA,CAAA;AAGA;AAhCA;AApBA,CAAA","sourcesContent":["<template>\n    <div class=\"bottom-bar\">\n      <div class=\"check\" >\n        <img src=\"~assets/img/common/cart/tick.svg\"\n             class=\"checkout\"\n             :class=\"{selectall:isSelectedAll}\"\n             @click=\"checkClick\"\n             alt=\"\">\n        <div class=\"text\">全选</div>\n      </div>\n      <div class=\"totalprice\">\n<!--        全选价格统计实现思路：\n遍历state中cartList数组，如果checked为true，则表明被选中，将它们的价格相加即为总价格；\n -->\n        <span>合计:￥{{totalPrice}}</span>\n      </div>\n      <div class=\"go-calculate\">\n\n        去结算({{totalCount}})\n      </div>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"CartBottomBar\",\n      data(){\n          return{\n            cartList:this.$store.state.cartList\n          }\n      },\n      methods:{\n          checkClick(){\n            //点击全选按钮全选或全不选实现思路\n            //1.遍历购物车中产品，查看是否存在checked为false的元素；\n            //2.如果存在checked为false的元素，将其改为true;\n            //3.如果不存在checked为false的元素，即所有元素的checked为true，则将所有元素的checked改为false；\n           if(this.isSelectedAll){\n             this.cartList.forEach(item => item.checked = false)\n           }else{\n             this.cartList.forEach(item => item.checked = true)\n           }\n          }\n      },\n      computed:{\n          totalPrice(){\n            //先过滤出购物车数组中所有已经被选中的元素\n            //再讲他们的总价格计算出来\n            const cartList = this.$store.state.cartList;\n            console.log(cartList);\n            return cartList.filter(item => {\n              return item.checked\n            }).reduce((prevalue, item) => {\n              return prevalue + item.count * item.price\n            }, 0).toFixed(2)\n          },\n        totalCount(){\n            //先选出所有已经被选中的元素\n            //再将它们的总数量计算出来\n            const cartList = this.$store.state.cartList;\n            return cartList.filter(item => {\n              return item.checked\n            }).reduce((prevalue,item) => {\n              return prevalue + item.count\n            },0).toFixed(0)\n        },\n        isSelectedAll(){\n            const cartList = this.$store.state.cartList;\n            //如果在购物车中能找到checked为false，即没有被选中的\n            //商品，则返回false,使该图标不再全部选中状态\n\n            //如果购物车为空，按照该方式查到结果为false，取反后为true,故需要先对购物车是否有产品做判断\n            if(cartList.length === 0) {return false}\n            return    !cartList.find(item =>\n              !item.checked\n            )\n        }\n\n\n      }\n    }\n</script>\n\n<style scoped>\n.check {\n  position: relative;\n  top: 11px;\n  margin-left: 10px;\n\n}\n.check img{\n  margin-right: 10px;\n  background-color: #ccc;\n  border-radius: 5px;\n  border: 2px solid rgba(0,0,0,.1);\n}\n.check .selectall{\n  background-color: red;\n}\n.check .text{\n  float: right;\n  position: absolute;\n  left: 30px;\n  top: 2px;\n}\n  .totalprice{\n    position: absolute;\n    left: 100px;\n    top: 13px;\n  }\n  .go-calculate{\n    position: absolute;\n    top: 1px;\n    right: 2px;\n    background-color: red;\n    height: 40px;\n    width: 80px;\n    line-height: 40px;\n    color: white;\n    text-align: center;\n  }\n</style>\n"],"sourceRoot":"src/views/cart/childComps"}]}