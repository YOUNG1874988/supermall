{"remainingRequest":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/babel-loader/lib/index.js!/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/eslint-loader/index.js??ref--13-0!/Users/yangjun/Documents/Projects/LearnVuejs/supermall/static/swiper.min.js","dependencies":[{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/static/swiper.min.js","mtime":1578542755620},{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yangjun/Documents/Projects/LearnVuejs/supermall/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmpvaW4iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5tYXRoLnNpZ24iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtZmxvYXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5wYXJzZS1pbnQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfdHlwZW9mIGZyb20gIi9Vc2Vycy95YW5nanVuL0RvY3VtZW50cy9Qcm9qZWN0cy9MZWFyblZ1ZWpzL3N1cGVybWFsbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS90eXBlb2YiOwoKLyoqCiAqIFN3aXBlciA1LjIuMQogKiBNb3N0IG1vZGVybiBtb2JpbGUgdG91Y2ggc2xpZGVyIGFuZCBmcmFtZXdvcmsgd2l0aCBoYXJkd2FyZSBhY2NlbGVyYXRlZCB0cmFuc2l0aW9ucwogKiBodHRwOi8vc3dpcGVyanMuY29tCiAqCiAqIENvcHlyaWdodCAyMDE0LTIwMTkgVmxhZGltaXIgS2hhcmxhbXBpZGkKICoKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlCiAqCiAqIFJlbGVhc2VkIG9uOiBOb3ZlbWJlciAxNiwgMjAxOQogKi8KIWZ1bmN0aW9uIChlLCB0KSB7CiAgIm9iamVjdCIgPT0gKHR5cGVvZiBleHBvcnRzID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihleHBvcnRzKSkgJiYgInVuZGVmaW5lZCIgIT0gdHlwZW9mIG1vZHVsZSA/IG1vZHVsZS5leHBvcnRzID0gdCgpIDogImZ1bmN0aW9uIiA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgPyBkZWZpbmUodCkgOiAoZSA9IGUgfHwgc2VsZikuU3dpcGVyID0gdCgpOwp9KHRoaXMsIGZ1bmN0aW9uICgpIHsKICAidXNlIHN0cmljdCI7CgogIHZhciBlID0gInVuZGVmaW5lZCIgPT0gdHlwZW9mIGRvY3VtZW50ID8gewogICAgYm9keToge30sCiAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKCkge30sCiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKCkge30sCiAgICBhY3RpdmVFbGVtZW50OiB7CiAgICAgIGJsdXI6IGZ1bmN0aW9uIGJsdXIoKSB7fSwKICAgICAgbm9kZU5hbWU6ICIiCiAgICB9LAogICAgcXVlcnlTZWxlY3RvcjogZnVuY3Rpb24gcXVlcnlTZWxlY3RvcigpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgcXVlcnlTZWxlY3RvckFsbDogZnVuY3Rpb24gcXVlcnlTZWxlY3RvckFsbCgpIHsKICAgICAgcmV0dXJuIFtdOwogICAgfSwKICAgIGdldEVsZW1lbnRCeUlkOiBmdW5jdGlvbiBnZXRFbGVtZW50QnlJZCgpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgY3JlYXRlRXZlbnQ6IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50KCkgewogICAgICByZXR1cm4gewogICAgICAgIGluaXRFdmVudDogZnVuY3Rpb24gaW5pdEV2ZW50KCkge30KICAgICAgfTsKICAgIH0sCiAgICBjcmVhdGVFbGVtZW50OiBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KCkgewogICAgICByZXR1cm4gewogICAgICAgIGNoaWxkcmVuOiBbXSwKICAgICAgICBjaGlsZE5vZGVzOiBbXSwKICAgICAgICBzdHlsZToge30sCiAgICAgICAgc2V0QXR0cmlidXRlOiBmdW5jdGlvbiBzZXRBdHRyaWJ1dGUoKSB7fSwKICAgICAgICBnZXRFbGVtZW50c0J5VGFnTmFtZTogZnVuY3Rpb24gZ2V0RWxlbWVudHNCeVRhZ05hbWUoKSB7CiAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgIGxvY2F0aW9uOiB7CiAgICAgIGhhc2g6ICIiCiAgICB9CiAgfSA6IGRvY3VtZW50LAogICAgICB0ID0gInVuZGVmaW5lZCIgPT0gdHlwZW9mIHdpbmRvdyA/IHsKICAgIGRvY3VtZW50OiBlLAogICAgbmF2aWdhdG9yOiB7CiAgICAgIHVzZXJBZ2VudDogIiIKICAgIH0sCiAgICBsb2NhdGlvbjoge30sCiAgICBoaXN0b3J5OiB7fSwKICAgIEN1c3RvbUV2ZW50OiBmdW5jdGlvbiBDdXN0b21FdmVudCgpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcigpIHt9LAogICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcigpIHt9LAogICAgZ2V0Q29tcHV0ZWRTdHlsZTogZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBnZXRQcm9wZXJ0eVZhbHVlOiBmdW5jdGlvbiBnZXRQcm9wZXJ0eVZhbHVlKCkgewogICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICBJbWFnZTogZnVuY3Rpb24gSW1hZ2UoKSB7fSwKICAgIERhdGU6IGZ1bmN0aW9uIERhdGUoKSB7fSwKICAgIHNjcmVlbjoge30sCiAgICBzZXRUaW1lb3V0OiBmdW5jdGlvbiBzZXRUaW1lb3V0KCkge30sCiAgICBjbGVhclRpbWVvdXQ6IGZ1bmN0aW9uIGNsZWFyVGltZW91dCgpIHt9CiAgfSA6IHdpbmRvdywKICAgICAgaSA9IGZ1bmN0aW9uIGkoZSkgewogICAgZm9yICh2YXIgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCArPSAxKSB7CiAgICAgIHRoaXNbdF0gPSBlW3RdOwogICAgfQoKICAgIHJldHVybiB0aGlzLmxlbmd0aCA9IGUubGVuZ3RoLCB0aGlzOwogIH07CgogIGZ1bmN0aW9uIHMocywgYSkgewogICAgdmFyIHIgPSBbXSwKICAgICAgICBuID0gMDsKICAgIGlmIChzICYmICFhICYmIHMgaW5zdGFuY2VvZiBpKSByZXR1cm4gczsKICAgIGlmIChzKSBpZiAoInN0cmluZyIgPT0gdHlwZW9mIHMpIHsKICAgICAgdmFyIG8sCiAgICAgICAgICBsLAogICAgICAgICAgZCA9IHMudHJpbSgpOwoKICAgICAgaWYgKGQuaW5kZXhPZigiPCIpID49IDAgJiYgZC5pbmRleE9mKCI+IikgPj0gMCkgewogICAgICAgIHZhciBoID0gImRpdiI7CgogICAgICAgIGZvciAoMCA9PT0gZC5pbmRleE9mKCI8bGkiKSAmJiAoaCA9ICJ1bCIpLCAwID09PSBkLmluZGV4T2YoIjx0ciIpICYmIChoID0gInRib2R5IiksIDAgIT09IGQuaW5kZXhPZigiPHRkIikgJiYgMCAhPT0gZC5pbmRleE9mKCI8dGgiKSB8fCAoaCA9ICJ0ciIpLCAwID09PSBkLmluZGV4T2YoIjx0Ym9keSIpICYmIChoID0gInRhYmxlIiksIDAgPT09IGQuaW5kZXhPZigiPG9wdGlvbiIpICYmIChoID0gInNlbGVjdCIpLCAobCA9IGUuY3JlYXRlRWxlbWVudChoKSkuaW5uZXJIVE1MID0gZCwgbiA9IDA7IG4gPCBsLmNoaWxkTm9kZXMubGVuZ3RoOyBuICs9IDEpIHsKICAgICAgICAgIHIucHVzaChsLmNoaWxkTm9kZXNbbl0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIGZvciAobyA9IGEgfHwgIiMiICE9PSBzWzBdIHx8IHMubWF0Y2goL1sgLjw+On5dLykgPyAoYSB8fCBlKS5xdWVyeVNlbGVjdG9yQWxsKHMudHJpbSgpKSA6IFtlLmdldEVsZW1lbnRCeUlkKHMudHJpbSgpLnNwbGl0KCIjIilbMV0pXSwgbiA9IDA7IG4gPCBvLmxlbmd0aDsgbiArPSAxKSB7CiAgICAgICAgb1tuXSAmJiByLnB1c2gob1tuXSk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAocy5ub2RlVHlwZSB8fCBzID09PSB0IHx8IHMgPT09IGUpIHIucHVzaChzKTtlbHNlIGlmIChzLmxlbmd0aCA+IDAgJiYgc1swXS5ub2RlVHlwZSkgZm9yIChuID0gMDsgbiA8IHMubGVuZ3RoOyBuICs9IDEpIHsKICAgICAgci5wdXNoKHNbbl0pOwogICAgfQogICAgcmV0dXJuIG5ldyBpKHIpOwogIH0KCiAgZnVuY3Rpb24gYShlKSB7CiAgICBmb3IgKHZhciB0ID0gW10sIGkgPSAwOyBpIDwgZS5sZW5ndGg7IGkgKz0gMSkgewogICAgICAtMSA9PT0gdC5pbmRleE9mKGVbaV0pICYmIHQucHVzaChlW2ldKTsKICAgIH0KCiAgICByZXR1cm4gdDsKICB9CgogIHMuZm4gPSBpLnByb3RvdHlwZSwgcy5DbGFzcyA9IGksIHMuRG9tNyA9IGk7CiAgdmFyIHIgPSB7CiAgICBhZGRDbGFzczogZnVuY3Rpb24gYWRkQ2xhc3MoZSkgewogICAgICBpZiAodm9pZCAwID09PSBlKSByZXR1cm4gdGhpczsKCiAgICAgIGZvciAodmFyIHQgPSBlLnNwbGl0KCIgIiksIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgdGhpcy5sZW5ndGg7IHMgKz0gMSkgewogICAgICAgICAgdm9pZCAwICE9PSB0aGlzW3NdICYmIHZvaWQgMCAhPT0gdGhpc1tzXS5jbGFzc0xpc3QgJiYgdGhpc1tzXS5jbGFzc0xpc3QuYWRkKHRbaV0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGUpIHsKICAgICAgZm9yICh2YXIgdCA9IGUuc3BsaXQoIiAiKSwgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCB0aGlzLmxlbmd0aDsgcyArPSAxKSB7CiAgICAgICAgICB2b2lkIDAgIT09IHRoaXNbc10gJiYgdm9pZCAwICE9PSB0aGlzW3NdLmNsYXNzTGlzdCAmJiB0aGlzW3NdLmNsYXNzTGlzdC5yZW1vdmUodFtpXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBoYXNDbGFzczogZnVuY3Rpb24gaGFzQ2xhc3MoZSkgewogICAgICByZXR1cm4gISF0aGlzWzBdICYmIHRoaXNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKGUpOwogICAgfSwKICAgIHRvZ2dsZUNsYXNzOiBmdW5jdGlvbiB0b2dnbGVDbGFzcyhlKSB7CiAgICAgIGZvciAodmFyIHQgPSBlLnNwbGl0KCIgIiksIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgdGhpcy5sZW5ndGg7IHMgKz0gMSkgewogICAgICAgICAgdm9pZCAwICE9PSB0aGlzW3NdICYmIHZvaWQgMCAhPT0gdGhpc1tzXS5jbGFzc0xpc3QgJiYgdGhpc1tzXS5jbGFzc0xpc3QudG9nZ2xlKHRbaV0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgYXR0cjogZnVuY3Rpb24gYXR0cihlLCB0KSB7CiAgICAgIHZhciBpID0gYXJndW1lbnRzOwogICAgICBpZiAoMSA9PT0gYXJndW1lbnRzLmxlbmd0aCAmJiAic3RyaW5nIiA9PSB0eXBlb2YgZSkgcmV0dXJuIHRoaXNbMF0gPyB0aGlzWzBdLmdldEF0dHJpYnV0ZShlKSA6IHZvaWQgMDsKCiAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgdGhpcy5sZW5ndGg7IHMgKz0gMSkgewogICAgICAgIGlmICgyID09PSBpLmxlbmd0aCkgdGhpc1tzXS5zZXRBdHRyaWJ1dGUoZSwgdCk7ZWxzZSBmb3IgKHZhciBhIGluIGUpIHsKICAgICAgICAgIHRoaXNbc11bYV0gPSBlW2FdLCB0aGlzW3NdLnNldEF0dHJpYnV0ZShhLCBlW2FdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIHJlbW92ZUF0dHI6IGZ1bmN0aW9uIHJlbW92ZUF0dHIoZSkgewogICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IHRoaXMubGVuZ3RoOyB0ICs9IDEpIHsKICAgICAgICB0aGlzW3RdLnJlbW92ZUF0dHJpYnV0ZShlKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZGF0YTogZnVuY3Rpb24gZGF0YShlLCB0KSB7CiAgICAgIHZhciBpOwoKICAgICAgaWYgKHZvaWQgMCAhPT0gdCkgewogICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgdGhpcy5sZW5ndGg7IHMgKz0gMSkgewogICAgICAgICAgKGkgPSB0aGlzW3NdKS5kb203RWxlbWVudERhdGFTdG9yYWdlIHx8IChpLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2UgPSB7fSksIGkuZG9tN0VsZW1lbnREYXRhU3RvcmFnZVtlXSA9IHQ7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQoKICAgICAgaWYgKGkgPSB0aGlzWzBdKSB7CiAgICAgICAgaWYgKGkuZG9tN0VsZW1lbnREYXRhU3RvcmFnZSAmJiBlIGluIGkuZG9tN0VsZW1lbnREYXRhU3RvcmFnZSkgcmV0dXJuIGkuZG9tN0VsZW1lbnREYXRhU3RvcmFnZVtlXTsKICAgICAgICB2YXIgYSA9IGkuZ2V0QXR0cmlidXRlKCJkYXRhLSIgKyBlKTsKICAgICAgICByZXR1cm4gYSB8fCB2b2lkIDA7CiAgICAgIH0KICAgIH0sCiAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uIHRyYW5zZm9ybShlKSB7CiAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgdGhpcy5sZW5ndGg7IHQgKz0gMSkgewogICAgICAgIHZhciBpID0gdGhpc1t0XS5zdHlsZTsKICAgICAgICBpLndlYmtpdFRyYW5zZm9ybSA9IGUsIGkudHJhbnNmb3JtID0gZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgdHJhbnNpdGlvbjogZnVuY3Rpb24gdHJhbnNpdGlvbihlKSB7CiAgICAgICJzdHJpbmciICE9IHR5cGVvZiBlICYmIChlICs9ICJtcyIpOwoKICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCB0aGlzLmxlbmd0aDsgdCArPSAxKSB7CiAgICAgICAgdmFyIGkgPSB0aGlzW3RdLnN0eWxlOwogICAgICAgIGkud2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uID0gZSwgaS50cmFuc2l0aW9uRHVyYXRpb24gPSBlOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBvbjogZnVuY3Rpb24gb24oKSB7CiAgICAgIGZvciAodmFyIGUsIHQgPSBbXSwgaSA9IGFyZ3VtZW50cy5sZW5ndGg7IGktLTspIHsKICAgICAgICB0W2ldID0gYXJndW1lbnRzW2ldOwogICAgICB9CgogICAgICB2YXIgYSA9IHRbMF0sCiAgICAgICAgICByID0gdFsxXSwKICAgICAgICAgIG4gPSB0WzJdLAogICAgICAgICAgbyA9IHRbM107CgogICAgICBmdW5jdGlvbiBsKGUpIHsKICAgICAgICB2YXIgdCA9IGUudGFyZ2V0OwoKICAgICAgICBpZiAodCkgewogICAgICAgICAgdmFyIGkgPSBlLnRhcmdldC5kb203RXZlbnREYXRhIHx8IFtdOwogICAgICAgICAgaWYgKGkuaW5kZXhPZihlKSA8IDAgJiYgaS51bnNoaWZ0KGUpLCBzKHQpLmlzKHIpKSBuLmFwcGx5KHQsIGkpO2Vsc2UgZm9yICh2YXIgYSA9IHModCkucGFyZW50cygpLCBvID0gMDsgbyA8IGEubGVuZ3RoOyBvICs9IDEpIHsKICAgICAgICAgICAgcyhhW29dKS5pcyhyKSAmJiBuLmFwcGx5KGFbb10sIGkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gZChlKSB7CiAgICAgICAgdmFyIHQgPSBlICYmIGUudGFyZ2V0ICYmIGUudGFyZ2V0LmRvbTdFdmVudERhdGEgfHwgW107CiAgICAgICAgdC5pbmRleE9mKGUpIDwgMCAmJiB0LnVuc2hpZnQoZSksIG4uYXBwbHkodGhpcywgdCk7CiAgICAgIH0KCiAgICAgICJmdW5jdGlvbiIgPT0gdHlwZW9mIHRbMV0gJiYgKGEgPSAoZSA9IHQpWzBdLCBuID0gZVsxXSwgbyA9IGVbMl0sIHIgPSB2b2lkIDApLCBvIHx8IChvID0gITEpOwoKICAgICAgZm9yICh2YXIgaCwgcCA9IGEuc3BsaXQoIiAiKSwgYyA9IDA7IGMgPCB0aGlzLmxlbmd0aDsgYyArPSAxKSB7CiAgICAgICAgdmFyIHUgPSB0aGlzW2NdOwogICAgICAgIGlmIChyKSBmb3IgKGggPSAwOyBoIDwgcC5sZW5ndGg7IGggKz0gMSkgewogICAgICAgICAgdmFyIHYgPSBwW2hdOwogICAgICAgICAgdS5kb203TGl2ZUxpc3RlbmVycyB8fCAodS5kb203TGl2ZUxpc3RlbmVycyA9IHt9KSwgdS5kb203TGl2ZUxpc3RlbmVyc1t2XSB8fCAodS5kb203TGl2ZUxpc3RlbmVyc1t2XSA9IFtdKSwgdS5kb203TGl2ZUxpc3RlbmVyc1t2XS5wdXNoKHsKICAgICAgICAgICAgbGlzdGVuZXI6IG4sCiAgICAgICAgICAgIHByb3h5TGlzdGVuZXI6IGwKICAgICAgICAgIH0pLCB1LmFkZEV2ZW50TGlzdGVuZXIodiwgbCwgbyk7CiAgICAgICAgfSBlbHNlIGZvciAoaCA9IDA7IGggPCBwLmxlbmd0aDsgaCArPSAxKSB7CiAgICAgICAgICB2YXIgZiA9IHBbaF07CiAgICAgICAgICB1LmRvbTdMaXN0ZW5lcnMgfHwgKHUuZG9tN0xpc3RlbmVycyA9IHt9KSwgdS5kb203TGlzdGVuZXJzW2ZdIHx8ICh1LmRvbTdMaXN0ZW5lcnNbZl0gPSBbXSksIHUuZG9tN0xpc3RlbmVyc1tmXS5wdXNoKHsKICAgICAgICAgICAgbGlzdGVuZXI6IG4sCiAgICAgICAgICAgIHByb3h5TGlzdGVuZXI6IGQKICAgICAgICAgIH0pLCB1LmFkZEV2ZW50TGlzdGVuZXIoZiwgZCwgbyk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBvZmY6IGZ1bmN0aW9uIG9mZigpIHsKICAgICAgZm9yICh2YXIgZSwgdCA9IFtdLCBpID0gYXJndW1lbnRzLmxlbmd0aDsgaS0tOykgewogICAgICAgIHRbaV0gPSBhcmd1bWVudHNbaV07CiAgICAgIH0KCiAgICAgIHZhciBzID0gdFswXSwKICAgICAgICAgIGEgPSB0WzFdLAogICAgICAgICAgciA9IHRbMl0sCiAgICAgICAgICBuID0gdFszXTsKICAgICAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgdFsxXSAmJiAocyA9IChlID0gdClbMF0sIHIgPSBlWzFdLCBuID0gZVsyXSwgYSA9IHZvaWQgMCksIG4gfHwgKG4gPSAhMSk7CgogICAgICBmb3IgKHZhciBvID0gcy5zcGxpdCgiICIpLCBsID0gMDsgbCA8IG8ubGVuZ3RoOyBsICs9IDEpIHsKICAgICAgICBmb3IgKHZhciBkID0gb1tsXSwgaCA9IDA7IGggPCB0aGlzLmxlbmd0aDsgaCArPSAxKSB7CiAgICAgICAgICB2YXIgcCA9IHRoaXNbaF0sCiAgICAgICAgICAgICAgYyA9IHZvaWQgMDsKICAgICAgICAgIGlmICghYSAmJiBwLmRvbTdMaXN0ZW5lcnMgPyBjID0gcC5kb203TGlzdGVuZXJzW2RdIDogYSAmJiBwLmRvbTdMaXZlTGlzdGVuZXJzICYmIChjID0gcC5kb203TGl2ZUxpc3RlbmVyc1tkXSksIGMgJiYgYy5sZW5ndGgpIGZvciAodmFyIHUgPSBjLmxlbmd0aCAtIDE7IHUgPj0gMDsgdSAtPSAxKSB7CiAgICAgICAgICAgIHZhciB2ID0gY1t1XTsKICAgICAgICAgICAgciAmJiB2Lmxpc3RlbmVyID09PSByID8gKHAucmVtb3ZlRXZlbnRMaXN0ZW5lcihkLCB2LnByb3h5TGlzdGVuZXIsIG4pLCBjLnNwbGljZSh1LCAxKSkgOiByICYmIHYubGlzdGVuZXIgJiYgdi5saXN0ZW5lci5kb203cHJveHkgJiYgdi5saXN0ZW5lci5kb203cHJveHkgPT09IHIgPyAocC5yZW1vdmVFdmVudExpc3RlbmVyKGQsIHYucHJveHlMaXN0ZW5lciwgbiksIGMuc3BsaWNlKHUsIDEpKSA6IHIgfHwgKHAucmVtb3ZlRXZlbnRMaXN0ZW5lcihkLCB2LnByb3h5TGlzdGVuZXIsIG4pLCBjLnNwbGljZSh1LCAxKSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICB0cmlnZ2VyOiBmdW5jdGlvbiB0cmlnZ2VyKCkgewogICAgICBmb3IgKHZhciBpID0gW10sIHMgPSBhcmd1bWVudHMubGVuZ3RoOyBzLS07KSB7CiAgICAgICAgaVtzXSA9IGFyZ3VtZW50c1tzXTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgYSA9IGlbMF0uc3BsaXQoIiAiKSwgciA9IGlbMV0sIG4gPSAwOyBuIDwgYS5sZW5ndGg7IG4gKz0gMSkgewogICAgICAgIGZvciAodmFyIG8gPSBhW25dLCBsID0gMDsgbCA8IHRoaXMubGVuZ3RoOyBsICs9IDEpIHsKICAgICAgICAgIHZhciBkID0gdGhpc1tsXSwKICAgICAgICAgICAgICBoID0gdm9pZCAwOwoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGggPSBuZXcgdC5DdXN0b21FdmVudChvLCB7CiAgICAgICAgICAgICAgZGV0YWlsOiByLAogICAgICAgICAgICAgIGJ1YmJsZXM6ICEwLAogICAgICAgICAgICAgIGNhbmNlbGFibGU6ICEwCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBjYXRjaCAodCkgewogICAgICAgICAgICAoaCA9IGUuY3JlYXRlRXZlbnQoIkV2ZW50IikpLmluaXRFdmVudChvLCAhMCwgITApLCBoLmRldGFpbCA9IHI7CiAgICAgICAgICB9CgogICAgICAgICAgZC5kb203RXZlbnREYXRhID0gaS5maWx0ZXIoZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgICAgcmV0dXJuIHQgPiAwOwogICAgICAgICAgfSksIGQuZGlzcGF0Y2hFdmVudChoKSwgZC5kb203RXZlbnREYXRhID0gW10sIGRlbGV0ZSBkLmRvbTdFdmVudERhdGE7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICB0cmFuc2l0aW9uRW5kOiBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBpID0gWyJ3ZWJraXRUcmFuc2l0aW9uRW5kIiwgInRyYW5zaXRpb25lbmQiXSwKICAgICAgICAgIHMgPSB0aGlzOwoKICAgICAgZnVuY3Rpb24gYShyKSB7CiAgICAgICAgaWYgKHIudGFyZ2V0ID09PSB0aGlzKSBmb3IgKGUuY2FsbCh0aGlzLCByKSwgdCA9IDA7IHQgPCBpLmxlbmd0aDsgdCArPSAxKSB7CiAgICAgICAgICBzLm9mZihpW3RdLCBhKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChlKSBmb3IgKHQgPSAwOyB0IDwgaS5sZW5ndGg7IHQgKz0gMSkgewogICAgICAgIHMub24oaVt0XSwgYSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgb3V0ZXJXaWR0aDogZnVuY3Rpb24gb3V0ZXJXaWR0aChlKSB7CiAgICAgIGlmICh0aGlzLmxlbmd0aCA+IDApIHsKICAgICAgICBpZiAoZSkgewogICAgICAgICAgdmFyIHQgPSB0aGlzLnN0eWxlcygpOwogICAgICAgICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0V2lkdGggKyBwYXJzZUZsb2F0KHQuZ2V0UHJvcGVydHlWYWx1ZSgibWFyZ2luLXJpZ2h0IikpICsgcGFyc2VGbG9hdCh0LmdldFByb3BlcnR5VmFsdWUoIm1hcmdpbi1sZWZ0IikpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0V2lkdGg7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIG91dGVySGVpZ2h0OiBmdW5jdGlvbiBvdXRlckhlaWdodChlKSB7CiAgICAgIGlmICh0aGlzLmxlbmd0aCA+IDApIHsKICAgICAgICBpZiAoZSkgewogICAgICAgICAgdmFyIHQgPSB0aGlzLnN0eWxlcygpOwogICAgICAgICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0SGVpZ2h0ICsgcGFyc2VGbG9hdCh0LmdldFByb3BlcnR5VmFsdWUoIm1hcmdpbi10b3AiKSkgKyBwYXJzZUZsb2F0KHQuZ2V0UHJvcGVydHlWYWx1ZSgibWFyZ2luLWJvdHRvbSIpKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0aGlzWzBdLm9mZnNldEhlaWdodDsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgb2Zmc2V0OiBmdW5jdGlvbiBvZmZzZXQoKSB7CiAgICAgIGlmICh0aGlzLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgaSA9IHRoaXNbMF0sCiAgICAgICAgICAgIHMgPSBpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLAogICAgICAgICAgICBhID0gZS5ib2R5LAogICAgICAgICAgICByID0gaS5jbGllbnRUb3AgfHwgYS5jbGllbnRUb3AgfHwgMCwKICAgICAgICAgICAgbiA9IGkuY2xpZW50TGVmdCB8fCBhLmNsaWVudExlZnQgfHwgMCwKICAgICAgICAgICAgbyA9IGkgPT09IHQgPyB0LnNjcm9sbFkgOiBpLnNjcm9sbFRvcCwKICAgICAgICAgICAgbCA9IGkgPT09IHQgPyB0LnNjcm9sbFggOiBpLnNjcm9sbExlZnQ7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHRvcDogcy50b3AgKyBvIC0gciwKICAgICAgICAgIGxlZnQ6IHMubGVmdCArIGwgLSBuCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgY3NzOiBmdW5jdGlvbiBjc3MoZSwgaSkgewogICAgICB2YXIgczsKCiAgICAgIGlmICgxID09PSBhcmd1bWVudHMubGVuZ3RoKSB7CiAgICAgICAgaWYgKCJzdHJpbmciICE9IHR5cGVvZiBlKSB7CiAgICAgICAgICBmb3IgKHMgPSAwOyBzIDwgdGhpcy5sZW5ndGg7IHMgKz0gMSkgewogICAgICAgICAgICBmb3IgKHZhciBhIGluIGUpIHsKICAgICAgICAgICAgICB0aGlzW3NdLnN0eWxlW2FdID0gZVthXTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXNbMF0pIHJldHVybiB0LmdldENvbXB1dGVkU3R5bGUodGhpc1swXSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShlKTsKICAgICAgfQoKICAgICAgaWYgKDIgPT09IGFyZ3VtZW50cy5sZW5ndGggJiYgInN0cmluZyIgPT0gdHlwZW9mIGUpIHsKICAgICAgICBmb3IgKHMgPSAwOyBzIDwgdGhpcy5sZW5ndGg7IHMgKz0gMSkgewogICAgICAgICAgdGhpc1tzXS5zdHlsZVtlXSA9IGk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZWFjaDogZnVuY3Rpb24gZWFjaChlKSB7CiAgICAgIGlmICghZSkgcmV0dXJuIHRoaXM7CgogICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IHRoaXMubGVuZ3RoOyB0ICs9IDEpIHsKICAgICAgICBpZiAoITEgPT09IGUuY2FsbCh0aGlzW3RdLCB0LCB0aGlzW3RdKSkgcmV0dXJuIHRoaXM7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGh0bWw6IGZ1bmN0aW9uIGh0bWwoZSkgewogICAgICBpZiAodm9pZCAwID09PSBlKSByZXR1cm4gdGhpc1swXSA/IHRoaXNbMF0uaW5uZXJIVE1MIDogdm9pZCAwOwoKICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCB0aGlzLmxlbmd0aDsgdCArPSAxKSB7CiAgICAgICAgdGhpc1t0XS5pbm5lckhUTUwgPSBlOwogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICB0ZXh0OiBmdW5jdGlvbiB0ZXh0KGUpIHsKICAgICAgaWYgKHZvaWQgMCA9PT0gZSkgcmV0dXJuIHRoaXNbMF0gPyB0aGlzWzBdLnRleHRDb250ZW50LnRyaW0oKSA6IG51bGw7CgogICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IHRoaXMubGVuZ3RoOyB0ICs9IDEpIHsKICAgICAgICB0aGlzW3RdLnRleHRDb250ZW50ID0gZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgaXM6IGZ1bmN0aW9uIGlzKGEpIHsKICAgICAgdmFyIHIsCiAgICAgICAgICBuLAogICAgICAgICAgbyA9IHRoaXNbMF07CiAgICAgIGlmICghbyB8fCB2b2lkIDAgPT09IGEpIHJldHVybiAhMTsKCiAgICAgIGlmICgic3RyaW5nIiA9PSB0eXBlb2YgYSkgewogICAgICAgIGlmIChvLm1hdGNoZXMpIHJldHVybiBvLm1hdGNoZXMoYSk7CiAgICAgICAgaWYgKG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yKSByZXR1cm4gby53ZWJraXRNYXRjaGVzU2VsZWN0b3IoYSk7CiAgICAgICAgaWYgKG8ubXNNYXRjaGVzU2VsZWN0b3IpIHJldHVybiBvLm1zTWF0Y2hlc1NlbGVjdG9yKGEpOwoKICAgICAgICBmb3IgKHIgPSBzKGEpLCBuID0gMDsgbiA8IHIubGVuZ3RoOyBuICs9IDEpIHsKICAgICAgICAgIGlmIChyW25dID09PSBvKSByZXR1cm4gITA7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gITE7CiAgICAgIH0KCiAgICAgIGlmIChhID09PSBlKSByZXR1cm4gbyA9PT0gZTsKICAgICAgaWYgKGEgPT09IHQpIHJldHVybiBvID09PSB0OwoKICAgICAgaWYgKGEubm9kZVR5cGUgfHwgYSBpbnN0YW5jZW9mIGkpIHsKICAgICAgICBmb3IgKHIgPSBhLm5vZGVUeXBlID8gW2FdIDogYSwgbiA9IDA7IG4gPCByLmxlbmd0aDsgbiArPSAxKSB7CiAgICAgICAgICBpZiAocltuXSA9PT0gbykgcmV0dXJuICEwOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICExOwogICAgICB9CgogICAgICByZXR1cm4gITE7CiAgICB9LAogICAgaW5kZXg6IGZ1bmN0aW9uIGluZGV4KCkgewogICAgICB2YXIgZSwKICAgICAgICAgIHQgPSB0aGlzWzBdOwoKICAgICAgaWYgKHQpIHsKICAgICAgICBmb3IgKGUgPSAwOyBudWxsICE9PSAodCA9IHQucHJldmlvdXNTaWJsaW5nKTspIHsKICAgICAgICAgIDEgPT09IHQubm9kZVR5cGUgJiYgKGUgKz0gMSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZTsKICAgICAgfQogICAgfSwKICAgIGVxOiBmdW5jdGlvbiBlcShlKSB7CiAgICAgIGlmICh2b2lkIDAgPT09IGUpIHJldHVybiB0aGlzOwogICAgICB2YXIgdCwKICAgICAgICAgIHMgPSB0aGlzLmxlbmd0aDsKICAgICAgcmV0dXJuIG5ldyBpKGUgPiBzIC0gMSA/IFtdIDogZSA8IDAgPyAodCA9IHMgKyBlKSA8IDAgPyBbXSA6IFt0aGlzW3RdXSA6IFt0aGlzW2VdXSk7CiAgICB9LAogICAgYXBwZW5kOiBmdW5jdGlvbiBhcHBlbmQoKSB7CiAgICAgIGZvciAodmFyIHQsIHMgPSBbXSwgYSA9IGFyZ3VtZW50cy5sZW5ndGg7IGEtLTspIHsKICAgICAgICBzW2FdID0gYXJndW1lbnRzW2FdOwogICAgICB9CgogICAgICBmb3IgKHZhciByID0gMDsgciA8IHMubGVuZ3RoOyByICs9IDEpIHsKICAgICAgICB0ID0gc1tyXTsKCiAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCB0aGlzLmxlbmd0aDsgbiArPSAxKSB7CiAgICAgICAgICBpZiAoInN0cmluZyIgPT0gdHlwZW9mIHQpIHsKICAgICAgICAgICAgdmFyIG8gPSBlLmNyZWF0ZUVsZW1lbnQoImRpdiIpOwoKICAgICAgICAgICAgZm9yIChvLmlubmVySFRNTCA9IHQ7IG8uZmlyc3RDaGlsZDspIHsKICAgICAgICAgICAgICB0aGlzW25dLmFwcGVuZENoaWxkKG8uZmlyc3RDaGlsZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSBpZiAodCBpbnN0YW5jZW9mIGkpIGZvciAodmFyIGwgPSAwOyBsIDwgdC5sZW5ndGg7IGwgKz0gMSkgewogICAgICAgICAgICB0aGlzW25dLmFwcGVuZENoaWxkKHRbbF0pOwogICAgICAgICAgfSBlbHNlIHRoaXNbbl0uYXBwZW5kQ2hpbGQodCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBwcmVwZW5kOiBmdW5jdGlvbiBwcmVwZW5kKHQpIHsKICAgICAgdmFyIHMsIGE7CgogICAgICBmb3IgKHMgPSAwOyBzIDwgdGhpcy5sZW5ndGg7IHMgKz0gMSkgewogICAgICAgIGlmICgic3RyaW5nIiA9PSB0eXBlb2YgdCkgewogICAgICAgICAgdmFyIHIgPSBlLmNyZWF0ZUVsZW1lbnQoImRpdiIpOwoKICAgICAgICAgIGZvciAoci5pbm5lckhUTUwgPSB0LCBhID0gci5jaGlsZE5vZGVzLmxlbmd0aCAtIDE7IGEgPj0gMDsgYSAtPSAxKSB7CiAgICAgICAgICAgIHRoaXNbc10uaW5zZXJ0QmVmb3JlKHIuY2hpbGROb2Rlc1thXSwgdGhpc1tzXS5jaGlsZE5vZGVzWzBdKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHQgaW5zdGFuY2VvZiBpKSBmb3IgKGEgPSAwOyBhIDwgdC5sZW5ndGg7IGEgKz0gMSkgewogICAgICAgICAgdGhpc1tzXS5pbnNlcnRCZWZvcmUodFthXSwgdGhpc1tzXS5jaGlsZE5vZGVzWzBdKTsKICAgICAgICB9IGVsc2UgdGhpc1tzXS5pbnNlcnRCZWZvcmUodCwgdGhpc1tzXS5jaGlsZE5vZGVzWzBdKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgbmV4dDogZnVuY3Rpb24gbmV4dChlKSB7CiAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA+IDAgPyBlID8gdGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmcgJiYgcyh0aGlzWzBdLm5leHRFbGVtZW50U2libGluZykuaXMoZSkgPyBuZXcgaShbdGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmddKSA6IG5ldyBpKFtdKSA6IHRoaXNbMF0ubmV4dEVsZW1lbnRTaWJsaW5nID8gbmV3IGkoW3RoaXNbMF0ubmV4dEVsZW1lbnRTaWJsaW5nXSkgOiBuZXcgaShbXSkgOiBuZXcgaShbXSk7CiAgICB9LAogICAgbmV4dEFsbDogZnVuY3Rpb24gbmV4dEFsbChlKSB7CiAgICAgIHZhciB0ID0gW10sCiAgICAgICAgICBhID0gdGhpc1swXTsKICAgICAgaWYgKCFhKSByZXR1cm4gbmV3IGkoW10pOwoKICAgICAgZm9yICg7IGEubmV4dEVsZW1lbnRTaWJsaW5nOykgewogICAgICAgIHZhciByID0gYS5uZXh0RWxlbWVudFNpYmxpbmc7CiAgICAgICAgZSA/IHMocikuaXMoZSkgJiYgdC5wdXNoKHIpIDogdC5wdXNoKHIpLCBhID0gcjsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBpKHQpOwogICAgfSwKICAgIHByZXY6IGZ1bmN0aW9uIHByZXYoZSkgewogICAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB7CiAgICAgICAgdmFyIHQgPSB0aGlzWzBdOwogICAgICAgIHJldHVybiBlID8gdC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nICYmIHModC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKS5pcyhlKSA/IG5ldyBpKFt0LnByZXZpb3VzRWxlbWVudFNpYmxpbmddKSA6IG5ldyBpKFtdKSA6IHQucHJldmlvdXNFbGVtZW50U2libGluZyA/IG5ldyBpKFt0LnByZXZpb3VzRWxlbWVudFNpYmxpbmddKSA6IG5ldyBpKFtdKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBpKFtdKTsKICAgIH0sCiAgICBwcmV2QWxsOiBmdW5jdGlvbiBwcmV2QWxsKGUpIHsKICAgICAgdmFyIHQgPSBbXSwKICAgICAgICAgIGEgPSB0aGlzWzBdOwogICAgICBpZiAoIWEpIHJldHVybiBuZXcgaShbXSk7CgogICAgICBmb3IgKDsgYS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOykgewogICAgICAgIHZhciByID0gYS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nOwogICAgICAgIGUgPyBzKHIpLmlzKGUpICYmIHQucHVzaChyKSA6IHQucHVzaChyKSwgYSA9IHI7CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXcgaSh0KTsKICAgIH0sCiAgICBwYXJlbnQ6IGZ1bmN0aW9uIHBhcmVudChlKSB7CiAgICAgIGZvciAodmFyIHQgPSBbXSwgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgbnVsbCAhPT0gdGhpc1tpXS5wYXJlbnROb2RlICYmIChlID8gcyh0aGlzW2ldLnBhcmVudE5vZGUpLmlzKGUpICYmIHQucHVzaCh0aGlzW2ldLnBhcmVudE5vZGUpIDogdC5wdXNoKHRoaXNbaV0ucGFyZW50Tm9kZSkpOwogICAgICB9CgogICAgICByZXR1cm4gcyhhKHQpKTsKICAgIH0sCiAgICBwYXJlbnRzOiBmdW5jdGlvbiBwYXJlbnRzKGUpIHsKICAgICAgZm9yICh2YXIgdCA9IFtdLCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICBmb3IgKHZhciByID0gdGhpc1tpXS5wYXJlbnROb2RlOyByOykgewogICAgICAgICAgZSA/IHMocikuaXMoZSkgJiYgdC5wdXNoKHIpIDogdC5wdXNoKHIpLCByID0gci5wYXJlbnROb2RlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHMoYSh0KSk7CiAgICB9LAogICAgY2xvc2VzdDogZnVuY3Rpb24gY2xvc2VzdChlKSB7CiAgICAgIHZhciB0ID0gdGhpczsKICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZSA/IG5ldyBpKFtdKSA6ICh0LmlzKGUpIHx8ICh0ID0gdC5wYXJlbnRzKGUpLmVxKDApKSwgdCk7CiAgICB9LAogICAgZmluZDogZnVuY3Rpb24gZmluZChlKSB7CiAgICAgIGZvciAodmFyIHQgPSBbXSwgcyA9IDA7IHMgPCB0aGlzLmxlbmd0aDsgcyArPSAxKSB7CiAgICAgICAgZm9yICh2YXIgYSA9IHRoaXNbc10ucXVlcnlTZWxlY3RvckFsbChlKSwgciA9IDA7IHIgPCBhLmxlbmd0aDsgciArPSAxKSB7CiAgICAgICAgICB0LnB1c2goYVtyXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbmV3IGkodCk7CiAgICB9LAogICAgY2hpbGRyZW46IGZ1bmN0aW9uIGNoaWxkcmVuKGUpIHsKICAgICAgZm9yICh2YXIgdCA9IFtdLCByID0gMDsgciA8IHRoaXMubGVuZ3RoOyByICs9IDEpIHsKICAgICAgICBmb3IgKHZhciBuID0gdGhpc1tyXS5jaGlsZE5vZGVzLCBvID0gMDsgbyA8IG4ubGVuZ3RoOyBvICs9IDEpIHsKICAgICAgICAgIGUgPyAxID09PSBuW29dLm5vZGVUeXBlICYmIHMobltvXSkuaXMoZSkgJiYgdC5wdXNoKG5bb10pIDogMSA9PT0gbltvXS5ub2RlVHlwZSAmJiB0LnB1c2gobltvXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbmV3IGkoYSh0KSk7CiAgICB9LAogICAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoZSkgewogICAgICBmb3IgKHZhciB0ID0gW10sIHMgPSAwOyBzIDwgdGhpcy5sZW5ndGg7IHMgKz0gMSkgewogICAgICAgIGUuY2FsbCh0aGlzW3NdLCBzLCB0aGlzW3NdKSAmJiB0LnB1c2godGhpc1tzXSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBuZXcgaSh0KTsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgICAgZm9yICh2YXIgZSA9IDA7IGUgPCB0aGlzLmxlbmd0aDsgZSArPSAxKSB7CiAgICAgICAgdGhpc1tlXS5wYXJlbnROb2RlICYmIHRoaXNbZV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzW2VdKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIGZvciAodmFyIGUgPSBbXSwgdCA9IGFyZ3VtZW50cy5sZW5ndGg7IHQtLTspIHsKICAgICAgICBlW3RdID0gYXJndW1lbnRzW3RdOwogICAgICB9CgogICAgICB2YXIgaSwgYTsKCiAgICAgIGZvciAoaSA9IDA7IGkgPCBlLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgdmFyIHIgPSBzKGVbaV0pOwoKICAgICAgICBmb3IgKGEgPSAwOyBhIDwgci5sZW5ndGg7IGEgKz0gMSkgewogICAgICAgICAgdGhpc1t0aGlzLmxlbmd0aF0gPSByW2FdLCB0aGlzLmxlbmd0aCArPSAxOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgc3R5bGVzOiBmdW5jdGlvbiBzdHlsZXMoKSB7CiAgICAgIHJldHVybiB0aGlzWzBdID8gdC5nZXRDb21wdXRlZFN0eWxlKHRoaXNbMF0sIG51bGwpIDoge307CiAgICB9CiAgfTsKICBPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICBzLmZuW2VdID0gcy5mbltlXSB8fCByW2VdOwogIH0pOwoKICB2YXIgbiA9IHsKICAgIGRlbGV0ZVByb3BzOiBmdW5jdGlvbiBkZWxldGVQcm9wcyhlKSB7CiAgICAgIHZhciB0ID0gZTsKICAgICAgT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICB0W2VdID0gbnVsbDsKICAgICAgICB9IGNhdGNoIChlKSB7fQoKICAgICAgICB0cnkgewogICAgICAgICAgZGVsZXRlIHRbZV07CiAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgfSk7CiAgICB9LAogICAgbmV4dFRpY2s6IGZ1bmN0aW9uIG5leHRUaWNrKGUsIHQpIHsKICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9IDApLCBzZXRUaW1lb3V0KGUsIHQpOwogICAgfSwKICAgIG5vdzogZnVuY3Rpb24gbm93KCkgewogICAgICByZXR1cm4gRGF0ZS5ub3coKTsKICAgIH0sCiAgICBnZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIGdldFRyYW5zbGF0ZShlLCBpKSB7CiAgICAgIHZhciBzLCBhLCByOwogICAgICB2b2lkIDAgPT09IGkgJiYgKGkgPSAieCIpOwogICAgICB2YXIgbiA9IHQuZ2V0Q29tcHV0ZWRTdHlsZShlLCBudWxsKTsKICAgICAgcmV0dXJuIHQuV2ViS2l0Q1NTTWF0cml4ID8gKChhID0gbi50cmFuc2Zvcm0gfHwgbi53ZWJraXRUcmFuc2Zvcm0pLnNwbGl0KCIsIikubGVuZ3RoID4gNiAmJiAoYSA9IGEuc3BsaXQoIiwgIikubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUucmVwbGFjZSgiLCIsICIuIik7CiAgICAgIH0pLmpvaW4oIiwgIikpLCByID0gbmV3IHQuV2ViS2l0Q1NTTWF0cml4KCJub25lIiA9PT0gYSA/ICIiIDogYSkpIDogcyA9IChyID0gbi5Nb3pUcmFuc2Zvcm0gfHwgbi5PVHJhbnNmb3JtIHx8IG4uTXNUcmFuc2Zvcm0gfHwgbi5tc1RyYW5zZm9ybSB8fCBuLnRyYW5zZm9ybSB8fCBuLmdldFByb3BlcnR5VmFsdWUoInRyYW5zZm9ybSIpLnJlcGxhY2UoInRyYW5zbGF0ZSgiLCAibWF0cml4KDEsIDAsIDAsIDEsIikpLnRvU3RyaW5nKCkuc3BsaXQoIiwiKSwgIngiID09PSBpICYmIChhID0gdC5XZWJLaXRDU1NNYXRyaXggPyByLm00MSA6IDE2ID09PSBzLmxlbmd0aCA/IHBhcnNlRmxvYXQoc1sxMl0pIDogcGFyc2VGbG9hdChzWzRdKSksICJ5IiA9PT0gaSAmJiAoYSA9IHQuV2ViS2l0Q1NTTWF0cml4ID8gci5tNDIgOiAxNiA9PT0gcy5sZW5ndGggPyBwYXJzZUZsb2F0KHNbMTNdKSA6IHBhcnNlRmxvYXQoc1s1XSkpLCBhIHx8IDA7CiAgICB9LAogICAgcGFyc2VVcmxRdWVyeTogZnVuY3Rpb24gcGFyc2VVcmxRdWVyeShlKSB7CiAgICAgIHZhciBpLAogICAgICAgICAgcywKICAgICAgICAgIGEsCiAgICAgICAgICByLAogICAgICAgICAgbiA9IHt9LAogICAgICAgICAgbyA9IGUgfHwgdC5sb2NhdGlvbi5ocmVmOwogICAgICBpZiAoInN0cmluZyIgPT0gdHlwZW9mIG8gJiYgby5sZW5ndGgpIGZvciAociA9IChzID0gKG8gPSBvLmluZGV4T2YoIj8iKSA+IC0xID8gby5yZXBsYWNlKC9cUypcPy8sICIiKSA6ICIiKS5zcGxpdCgiJiIpLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiAiIiAhPT0gZTsKICAgICAgfSkpLmxlbmd0aCwgaSA9IDA7IGkgPCByOyBpICs9IDEpIHsKICAgICAgICBhID0gc1tpXS5yZXBsYWNlKC8jXFMrL2csICIiKS5zcGxpdCgiPSIpLCBuW2RlY29kZVVSSUNvbXBvbmVudChhWzBdKV0gPSB2b2lkIDAgPT09IGFbMV0gPyB2b2lkIDAgOiBkZWNvZGVVUklDb21wb25lbnQoYVsxXSkgfHwgIiI7CiAgICAgIH0KICAgICAgcmV0dXJuIG47CiAgICB9LAogICAgaXNPYmplY3Q6IGZ1bmN0aW9uIGlzT2JqZWN0KGUpIHsKICAgICAgcmV0dXJuICJvYmplY3QiID09IF90eXBlb2YoZSkgJiYgbnVsbCAhPT0gZSAmJiBlLmNvbnN0cnVjdG9yICYmIGUuY29uc3RydWN0b3IgPT09IE9iamVjdDsKICAgIH0sCiAgICBleHRlbmQ6IGZ1bmN0aW9uIGV4dGVuZCgpIHsKICAgICAgZm9yICh2YXIgZSA9IFtdLCB0ID0gYXJndW1lbnRzLmxlbmd0aDsgdC0tOykgewogICAgICAgIGVbdF0gPSBhcmd1bWVudHNbdF07CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGkgPSBPYmplY3QoZVswXSksIHMgPSAxOyBzIDwgZS5sZW5ndGg7IHMgKz0gMSkgewogICAgICAgIHZhciBhID0gZVtzXTsKICAgICAgICBpZiAobnVsbCAhPSBhKSBmb3IgKHZhciByID0gT2JqZWN0LmtleXMoT2JqZWN0KGEpKSwgbyA9IDAsIGwgPSByLmxlbmd0aDsgbyA8IGw7IG8gKz0gMSkgewogICAgICAgICAgdmFyIGQgPSByW29dLAogICAgICAgICAgICAgIGggPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGEsIGQpOwogICAgICAgICAgdm9pZCAwICE9PSBoICYmIGguZW51bWVyYWJsZSAmJiAobi5pc09iamVjdChpW2RdKSAmJiBuLmlzT2JqZWN0KGFbZF0pID8gbi5leHRlbmQoaVtkXSwgYVtkXSkgOiAhbi5pc09iamVjdChpW2RdKSAmJiBuLmlzT2JqZWN0KGFbZF0pID8gKGlbZF0gPSB7fSwgbi5leHRlbmQoaVtkXSwgYVtkXSkpIDogaVtkXSA9IGFbZF0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGk7CiAgICB9CiAgfSwKICAgICAgbyA9IHsKICAgIHRvdWNoOiB0Lk1vZGVybml6ciAmJiAhMCA9PT0gdC5Nb2Rlcm5penIudG91Y2ggfHwgISEodC5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwIHx8ICJvbnRvdWNoc3RhcnQiIGluIHQgfHwgdC5Eb2N1bWVudFRvdWNoICYmIGUgaW5zdGFuY2VvZiB0LkRvY3VtZW50VG91Y2gpLAogICAgcG9pbnRlckV2ZW50czogISF0LlBvaW50ZXJFdmVudCAmJiAibWF4VG91Y2hQb2ludHMiIGluIHQubmF2aWdhdG9yICYmIHQubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMCwKICAgIG9ic2VydmVyOiAiTXV0YXRpb25PYnNlcnZlciIgaW4gdCB8fCAiV2Via2l0TXV0YXRpb25PYnNlcnZlciIgaW4gdCwKICAgIHBhc3NpdmVMaXN0ZW5lcjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9ICExOwoKICAgICAgdHJ5IHsKICAgICAgICB2YXIgaSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgInBhc3NpdmUiLCB7CiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgZSA9ICEwOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHQuYWRkRXZlbnRMaXN0ZW5lcigidGVzdFBhc3NpdmVMaXN0ZW5lciIsIG51bGwsIGkpOwogICAgICB9IGNhdGNoIChlKSB7fQoKICAgICAgcmV0dXJuIGU7CiAgICB9KCksCiAgICBnZXN0dXJlczogIm9uZ2VzdHVyZXN0YXJ0IiBpbiB0CiAgfSwKICAgICAgbCA9IGZ1bmN0aW9uIGwoZSkgewogICAgdm9pZCAwID09PSBlICYmIChlID0ge30pOwogICAgdmFyIHQgPSB0aGlzOwogICAgdC5wYXJhbXMgPSBlLCB0LmV2ZW50c0xpc3RlbmVycyA9IHt9LCB0LnBhcmFtcyAmJiB0LnBhcmFtcy5vbiAmJiBPYmplY3Qua2V5cyh0LnBhcmFtcy5vbikuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICB0Lm9uKGUsIHQucGFyYW1zLm9uW2VdKTsKICAgIH0pOwogIH0sCiAgICAgIGQgPSB7CiAgICBjb21wb25lbnRzOiB7CiAgICAgIGNvbmZpZ3VyYWJsZTogITAKICAgIH0KICB9OwoKICBsLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChlLCB0LCBpKSB7CiAgICB2YXIgcyA9IHRoaXM7CiAgICBpZiAoImZ1bmN0aW9uIiAhPSB0eXBlb2YgdCkgcmV0dXJuIHM7CiAgICB2YXIgYSA9IGkgPyAidW5zaGlmdCIgOiAicHVzaCI7CiAgICByZXR1cm4gZS5zcGxpdCgiICIpLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgcy5ldmVudHNMaXN0ZW5lcnNbZV0gfHwgKHMuZXZlbnRzTGlzdGVuZXJzW2VdID0gW10pLCBzLmV2ZW50c0xpc3RlbmVyc1tlXVthXSh0KTsKICAgIH0pLCBzOwogIH0sIGwucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiAoZSwgdCwgaSkgewogICAgdmFyIHMgPSB0aGlzOwogICAgaWYgKCJmdW5jdGlvbiIgIT0gdHlwZW9mIHQpIHJldHVybiBzOwoKICAgIGZ1bmN0aW9uIGEoKSB7CiAgICAgIGZvciAodmFyIGkgPSBbXSwgciA9IGFyZ3VtZW50cy5sZW5ndGg7IHItLTspIHsKICAgICAgICBpW3JdID0gYXJndW1lbnRzW3JdOwogICAgICB9CgogICAgICBzLm9mZihlLCBhKSwgYS5mN3Byb3h5ICYmIGRlbGV0ZSBhLmY3cHJveHksIHQuYXBwbHkocywgaSk7CiAgICB9CgogICAgcmV0dXJuIGEuZjdwcm94eSA9IHQsIHMub24oZSwgYSwgaSk7CiAgfSwgbC5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgIHZhciBpID0gdGhpczsKICAgIHJldHVybiBpLmV2ZW50c0xpc3RlbmVycyA/IChlLnNwbGl0KCIgIikuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICB2b2lkIDAgPT09IHQgPyBpLmV2ZW50c0xpc3RlbmVyc1tlXSA9IFtdIDogaS5ldmVudHNMaXN0ZW5lcnNbZV0gJiYgaS5ldmVudHNMaXN0ZW5lcnNbZV0ubGVuZ3RoICYmIGkuZXZlbnRzTGlzdGVuZXJzW2VdLmZvckVhY2goZnVuY3Rpb24gKHMsIGEpIHsKICAgICAgICAocyA9PT0gdCB8fCBzLmY3cHJveHkgJiYgcy5mN3Byb3h5ID09PSB0KSAmJiBpLmV2ZW50c0xpc3RlbmVyc1tlXS5zcGxpY2UoYSwgMSk7CiAgICAgIH0pOwogICAgfSksIGkpIDogaTsKICB9LCBsLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKCkgewogICAgZm9yICh2YXIgZSA9IFtdLCB0ID0gYXJndW1lbnRzLmxlbmd0aDsgdC0tOykgewogICAgICBlW3RdID0gYXJndW1lbnRzW3RdOwogICAgfQoKICAgIHZhciBpLAogICAgICAgIHMsCiAgICAgICAgYSwKICAgICAgICByID0gdGhpczsKICAgIGlmICghci5ldmVudHNMaXN0ZW5lcnMpIHJldHVybiByOwogICAgInN0cmluZyIgPT0gdHlwZW9mIGVbMF0gfHwgQXJyYXkuaXNBcnJheShlWzBdKSA/IChpID0gZVswXSwgcyA9IGUuc2xpY2UoMSwgZS5sZW5ndGgpLCBhID0gcikgOiAoaSA9IGVbMF0uZXZlbnRzLCBzID0gZVswXS5kYXRhLCBhID0gZVswXS5jb250ZXh0IHx8IHIpOwogICAgdmFyIG4gPSBBcnJheS5pc0FycmF5KGkpID8gaSA6IGkuc3BsaXQoIiAiKTsKICAgIHJldHVybiBuLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKHIuZXZlbnRzTGlzdGVuZXJzICYmIHIuZXZlbnRzTGlzdGVuZXJzW2VdKSB7CiAgICAgICAgdmFyIHQgPSBbXTsKICAgICAgICByLmV2ZW50c0xpc3RlbmVyc1tlXS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB0LnB1c2goZSk7CiAgICAgICAgfSksIHQuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgZS5hcHBseShhLCBzKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSksIHI7CiAgfSwgbC5wcm90b3R5cGUudXNlTW9kdWxlc1BhcmFtcyA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgdCA9IHRoaXM7CiAgICB0Lm1vZHVsZXMgJiYgT2JqZWN0LmtleXModC5tb2R1bGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgIHZhciBzID0gdC5tb2R1bGVzW2ldOwogICAgICBzLnBhcmFtcyAmJiBuLmV4dGVuZChlLCBzLnBhcmFtcyk7CiAgICB9KTsKICB9LCBsLnByb3RvdHlwZS51c2VNb2R1bGVzID0gZnVuY3Rpb24gKGUpIHsKICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHt9KTsKICAgIHZhciB0ID0gdGhpczsKICAgIHQubW9kdWxlcyAmJiBPYmplY3Qua2V5cyh0Lm1vZHVsZXMpLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgdmFyIHMgPSB0Lm1vZHVsZXNbaV0sCiAgICAgICAgICBhID0gZVtpXSB8fCB7fTsKICAgICAgcy5pbnN0YW5jZSAmJiBPYmplY3Qua2V5cyhzLmluc3RhbmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIGkgPSBzLmluc3RhbmNlW2VdOwogICAgICAgIHRbZV0gPSAiZnVuY3Rpb24iID09IHR5cGVvZiBpID8gaS5iaW5kKHQpIDogaTsKICAgICAgfSksIHMub24gJiYgdC5vbiAmJiBPYmplY3Qua2V5cyhzLm9uKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdC5vbihlLCBzLm9uW2VdKTsKICAgICAgfSksIHMuY3JlYXRlICYmIHMuY3JlYXRlLmJpbmQodCkoYSk7CiAgICB9KTsKICB9LCBkLmNvbXBvbmVudHMuc2V0ID0gZnVuY3Rpb24gKGUpIHsKICAgIHRoaXMudXNlICYmIHRoaXMudXNlKGUpOwogIH0sIGwuaW5zdGFsbE1vZHVsZSA9IGZ1bmN0aW9uIChlKSB7CiAgICBmb3IgKHZhciB0ID0gW10sIGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaS0tID4gMDspIHsKICAgICAgdFtpXSA9IGFyZ3VtZW50c1tpICsgMV07CiAgICB9CgogICAgdmFyIHMgPSB0aGlzOwogICAgcy5wcm90b3R5cGUubW9kdWxlcyB8fCAocy5wcm90b3R5cGUubW9kdWxlcyA9IHt9KTsKICAgIHZhciBhID0gZS5uYW1lIHx8IE9iamVjdC5rZXlzKHMucHJvdG90eXBlLm1vZHVsZXMpLmxlbmd0aCArICJfIiArIG4ubm93KCk7CiAgICByZXR1cm4gcy5wcm90b3R5cGUubW9kdWxlc1thXSA9IGUsIGUucHJvdG8gJiYgT2JqZWN0LmtleXMoZS5wcm90bykuZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICBzLnByb3RvdHlwZVt0XSA9IGUucHJvdG9bdF07CiAgICB9KSwgZS5zdGF0aWMgJiYgT2JqZWN0LmtleXMoZS5zdGF0aWMpLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgc1t0XSA9IGUuc3RhdGljW3RdOwogICAgfSksIGUuaW5zdGFsbCAmJiBlLmluc3RhbGwuYXBwbHkocywgdCksIHM7CiAgfSwgbC51c2UgPSBmdW5jdGlvbiAoZSkgewogICAgZm9yICh2YXIgdCA9IFtdLCBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGktLSA+IDA7KSB7CiAgICAgIHRbaV0gPSBhcmd1bWVudHNbaSArIDFdOwogICAgfQoKICAgIHZhciBzID0gdGhpczsKICAgIHJldHVybiBBcnJheS5pc0FycmF5KGUpID8gKGUuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gcy5pbnN0YWxsTW9kdWxlKGUpOwogICAgfSksIHMpIDogcy5pbnN0YWxsTW9kdWxlLmFwcGx5KHMsIFtlXS5jb25jYXQodCkpOwogIH0sIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGwsIGQpOwogIHZhciBoID0gewogICAgdXBkYXRlU2l6ZTogZnVuY3Rpb24gdXBkYXRlU2l6ZSgpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICB0LAogICAgICAgICAgaSA9IHRoaXMuJGVsOwogICAgICBlID0gdm9pZCAwICE9PSB0aGlzLnBhcmFtcy53aWR0aCA/IHRoaXMucGFyYW1zLndpZHRoIDogaVswXS5jbGllbnRXaWR0aCwgdCA9IHZvaWQgMCAhPT0gdGhpcy5wYXJhbXMuaGVpZ2h0ID8gdGhpcy5wYXJhbXMuaGVpZ2h0IDogaVswXS5jbGllbnRIZWlnaHQsIDAgPT09IGUgJiYgdGhpcy5pc0hvcml6b250YWwoKSB8fCAwID09PSB0ICYmIHRoaXMuaXNWZXJ0aWNhbCgpIHx8IChlID0gZSAtIHBhcnNlSW50KGkuY3NzKCJwYWRkaW5nLWxlZnQiKSwgMTApIC0gcGFyc2VJbnQoaS5jc3MoInBhZGRpbmctcmlnaHQiKSwgMTApLCB0ID0gdCAtIHBhcnNlSW50KGkuY3NzKCJwYWRkaW5nLXRvcCIpLCAxMCkgLSBwYXJzZUludChpLmNzcygicGFkZGluZy1ib3R0b20iKSwgMTApLCBuLmV4dGVuZCh0aGlzLCB7CiAgICAgICAgd2lkdGg6IGUsCiAgICAgICAgaGVpZ2h0OiB0LAogICAgICAgIHNpemU6IHRoaXMuaXNIb3Jpem9udGFsKCkgPyBlIDogdAogICAgICB9KSk7CiAgICB9LAogICAgdXBkYXRlU2xpZGVzOiBmdW5jdGlvbiB1cGRhdGVTbGlkZXMoKSB7CiAgICAgIHZhciBlID0gdGhpcy5wYXJhbXMsCiAgICAgICAgICBpID0gdGhpcy4kd3JhcHBlckVsLAogICAgICAgICAgcyA9IHRoaXMuc2l6ZSwKICAgICAgICAgIGEgPSB0aGlzLnJ0bFRyYW5zbGF0ZSwKICAgICAgICAgIHIgPSB0aGlzLndyb25nUlRMLAogICAgICAgICAgbyA9IHRoaXMudmlydHVhbCAmJiBlLnZpcnR1YWwuZW5hYmxlZCwKICAgICAgICAgIGwgPSBvID8gdGhpcy52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiB0aGlzLnNsaWRlcy5sZW5ndGgsCiAgICAgICAgICBkID0gaS5jaGlsZHJlbigiLiIgKyB0aGlzLnBhcmFtcy5zbGlkZUNsYXNzKSwKICAgICAgICAgIGggPSBvID8gdGhpcy52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiBkLmxlbmd0aCwKICAgICAgICAgIHAgPSBbXSwKICAgICAgICAgIGMgPSBbXSwKICAgICAgICAgIHUgPSBbXTsKCiAgICAgIGZ1bmN0aW9uIHYodCkgewogICAgICAgIHJldHVybiAhZS5jc3NNb2RlIHx8IHQgIT09IGQubGVuZ3RoIC0gMTsKICAgICAgfQoKICAgICAgdmFyIGYgPSBlLnNsaWRlc09mZnNldEJlZm9yZTsKICAgICAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZiAmJiAoZiA9IGUuc2xpZGVzT2Zmc2V0QmVmb3JlLmNhbGwodGhpcykpOwogICAgICB2YXIgbSA9IGUuc2xpZGVzT2Zmc2V0QWZ0ZXI7CiAgICAgICJmdW5jdGlvbiIgPT0gdHlwZW9mIG0gJiYgKG0gPSBlLnNsaWRlc09mZnNldEFmdGVyLmNhbGwodGhpcykpOwogICAgICB2YXIgZyA9IHRoaXMuc25hcEdyaWQubGVuZ3RoLAogICAgICAgICAgYiA9IHRoaXMuc25hcEdyaWQubGVuZ3RoLAogICAgICAgICAgdyA9IGUuc3BhY2VCZXR3ZWVuLAogICAgICAgICAgeSA9IC1mLAogICAgICAgICAgeCA9IDAsCiAgICAgICAgICBUID0gMDsKCiAgICAgIGlmICh2b2lkIDAgIT09IHMpIHsKICAgICAgICB2YXIgRSwgUzsKICAgICAgICAic3RyaW5nIiA9PSB0eXBlb2YgdyAmJiB3LmluZGV4T2YoIiUiKSA+PSAwICYmICh3ID0gcGFyc2VGbG9hdCh3LnJlcGxhY2UoIiUiLCAiIikpIC8gMTAwICogcyksIHRoaXMudmlydHVhbFNpemUgPSAtdywgYSA/IGQuY3NzKHsKICAgICAgICAgIG1hcmdpbkxlZnQ6ICIiLAogICAgICAgICAgbWFyZ2luVG9wOiAiIgogICAgICAgIH0pIDogZC5jc3MoewogICAgICAgICAgbWFyZ2luUmlnaHQ6ICIiLAogICAgICAgICAgbWFyZ2luQm90dG9tOiAiIgogICAgICAgIH0pLCBlLnNsaWRlc1BlckNvbHVtbiA+IDEgJiYgKEUgPSBNYXRoLmZsb29yKGggLyBlLnNsaWRlc1BlckNvbHVtbikgPT09IGggLyB0aGlzLnBhcmFtcy5zbGlkZXNQZXJDb2x1bW4gPyBoIDogTWF0aC5jZWlsKGggLyBlLnNsaWRlc1BlckNvbHVtbikgKiBlLnNsaWRlc1BlckNvbHVtbiwgImF1dG8iICE9PSBlLnNsaWRlc1BlclZpZXcgJiYgInJvdyIgPT09IGUuc2xpZGVzUGVyQ29sdW1uRmlsbCAmJiAoRSA9IE1hdGgubWF4KEUsIGUuc2xpZGVzUGVyVmlldyAqIGUuc2xpZGVzUGVyQ29sdW1uKSkpOwoKICAgICAgICBmb3IgKHZhciBDLCBNID0gZS5zbGlkZXNQZXJDb2x1bW4sIFAgPSBFIC8gTSwgeiA9IE1hdGguZmxvb3IoaCAvIGUuc2xpZGVzUGVyQ29sdW1uKSwgayA9IDA7IGsgPCBoOyBrICs9IDEpIHsKICAgICAgICAgIFMgPSAwOwogICAgICAgICAgdmFyICQgPSBkLmVxKGspOwoKICAgICAgICAgIGlmIChlLnNsaWRlc1BlckNvbHVtbiA+IDEpIHsKICAgICAgICAgICAgdmFyIEwgPSB2b2lkIDAsCiAgICAgICAgICAgICAgICBJID0gdm9pZCAwLAogICAgICAgICAgICAgICAgRCA9IHZvaWQgMDsKCiAgICAgICAgICAgIGlmICgicm93IiA9PT0gZS5zbGlkZXNQZXJDb2x1bW5GaWxsICYmIGUuc2xpZGVzUGVyR3JvdXAgPiAxKSB7CiAgICAgICAgICAgICAgdmFyIE8gPSBNYXRoLmZsb29yKGsgLyAoZS5zbGlkZXNQZXJHcm91cCAqIGUuc2xpZGVzUGVyQ29sdW1uKSksCiAgICAgICAgICAgICAgICAgIEEgPSBrIC0gZS5zbGlkZXNQZXJDb2x1bW4gKiBlLnNsaWRlc1Blckdyb3VwICogTywKICAgICAgICAgICAgICAgICAgRyA9IDAgPT09IE8gPyBlLnNsaWRlc1Blckdyb3VwIDogTWF0aC5taW4oTWF0aC5jZWlsKChoIC0gTyAqIE0gKiBlLnNsaWRlc1Blckdyb3VwKSAvIE0pLCBlLnNsaWRlc1Blckdyb3VwKTsKICAgICAgICAgICAgICBMID0gKEkgPSBBIC0gKEQgPSBNYXRoLmZsb29yKEEgLyBHKSkgKiBHICsgTyAqIGUuc2xpZGVzUGVyR3JvdXApICsgRCAqIEUgLyBNLCAkLmNzcyh7CiAgICAgICAgICAgICAgICAiLXdlYmtpdC1ib3gtb3JkaW5hbC1ncm91cCI6IEwsCiAgICAgICAgICAgICAgICAiLW1vei1ib3gtb3JkaW5hbC1ncm91cCI6IEwsCiAgICAgICAgICAgICAgICAiLW1zLWZsZXgtb3JkZXIiOiBMLAogICAgICAgICAgICAgICAgIi13ZWJraXQtb3JkZXIiOiBMLAogICAgICAgICAgICAgICAgb3JkZXI6IEwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlICJjb2x1bW4iID09PSBlLnNsaWRlc1BlckNvbHVtbkZpbGwgPyAoRCA9IGsgLSAoSSA9IE1hdGguZmxvb3IoayAvIE0pKSAqIE0sIChJID4geiB8fCBJID09PSB6ICYmIEQgPT09IE0gLSAxKSAmJiAoRCArPSAxKSA+PSBNICYmIChEID0gMCwgSSArPSAxKSkgOiBJID0gayAtIChEID0gTWF0aC5mbG9vcihrIC8gUCkpICogUDsKCiAgICAgICAgICAgICQuY3NzKCJtYXJnaW4tIiArICh0aGlzLmlzSG9yaXpvbnRhbCgpID8gInRvcCIgOiAibGVmdCIpLCAwICE9PSBEICYmIGUuc3BhY2VCZXR3ZWVuICYmIGUuc3BhY2VCZXR3ZWVuICsgInB4Iik7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCJub25lIiAhPT0gJC5jc3MoImRpc3BsYXkiKSkgewogICAgICAgICAgICBpZiAoImF1dG8iID09PSBlLnNsaWRlc1BlclZpZXcpIHsKICAgICAgICAgICAgICB2YXIgQiA9IHQuZ2V0Q29tcHV0ZWRTdHlsZSgkWzBdLCBudWxsKSwKICAgICAgICAgICAgICAgICAgSCA9ICRbMF0uc3R5bGUudHJhbnNmb3JtLAogICAgICAgICAgICAgICAgICBOID0gJFswXS5zdHlsZS53ZWJraXRUcmFuc2Zvcm07CiAgICAgICAgICAgICAgaWYgKEggJiYgKCRbMF0uc3R5bGUudHJhbnNmb3JtID0gIm5vbmUiKSwgTiAmJiAoJFswXS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSAibm9uZSIpLCBlLnJvdW5kTGVuZ3RocykgUyA9IHRoaXMuaXNIb3Jpem9udGFsKCkgPyAkLm91dGVyV2lkdGgoITApIDogJC5vdXRlckhlaWdodCghMCk7ZWxzZSBpZiAodGhpcy5pc0hvcml6b250YWwoKSkgewogICAgICAgICAgICAgICAgdmFyIFggPSBwYXJzZUZsb2F0KEIuZ2V0UHJvcGVydHlWYWx1ZSgid2lkdGgiKSksCiAgICAgICAgICAgICAgICAgICAgViA9IHBhcnNlRmxvYXQoQi5nZXRQcm9wZXJ0eVZhbHVlKCJwYWRkaW5nLWxlZnQiKSksCiAgICAgICAgICAgICAgICAgICAgWSA9IHBhcnNlRmxvYXQoQi5nZXRQcm9wZXJ0eVZhbHVlKCJwYWRkaW5nLXJpZ2h0IikpLAogICAgICAgICAgICAgICAgICAgIEYgPSBwYXJzZUZsb2F0KEIuZ2V0UHJvcGVydHlWYWx1ZSgibWFyZ2luLWxlZnQiKSksCiAgICAgICAgICAgICAgICAgICAgVyA9IHBhcnNlRmxvYXQoQi5nZXRQcm9wZXJ0eVZhbHVlKCJtYXJnaW4tcmlnaHQiKSksCiAgICAgICAgICAgICAgICAgICAgUiA9IEIuZ2V0UHJvcGVydHlWYWx1ZSgiYm94LXNpemluZyIpOwogICAgICAgICAgICAgICAgUyA9IFIgJiYgImJvcmRlci1ib3giID09PSBSID8gWCArIEYgKyBXIDogWCArIFYgKyBZICsgRiArIFc7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBxID0gcGFyc2VGbG9hdChCLmdldFByb3BlcnR5VmFsdWUoImhlaWdodCIpKSwKICAgICAgICAgICAgICAgICAgICBqID0gcGFyc2VGbG9hdChCLmdldFByb3BlcnR5VmFsdWUoInBhZGRpbmctdG9wIikpLAogICAgICAgICAgICAgICAgICAgIEsgPSBwYXJzZUZsb2F0KEIuZ2V0UHJvcGVydHlWYWx1ZSgicGFkZGluZy1ib3R0b20iKSksCiAgICAgICAgICAgICAgICAgICAgVSA9IHBhcnNlRmxvYXQoQi5nZXRQcm9wZXJ0eVZhbHVlKCJtYXJnaW4tdG9wIikpLAogICAgICAgICAgICAgICAgICAgIF8gPSBwYXJzZUZsb2F0KEIuZ2V0UHJvcGVydHlWYWx1ZSgibWFyZ2luLWJvdHRvbSIpKSwKICAgICAgICAgICAgICAgICAgICBaID0gQi5nZXRQcm9wZXJ0eVZhbHVlKCJib3gtc2l6aW5nIik7CgogICAgICAgICAgICAgICAgUyA9IFogJiYgImJvcmRlci1ib3giID09PSBaID8gcSArIFUgKyBfIDogcSArIGogKyBLICsgVSArIF87CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIEggJiYgKCRbMF0uc3R5bGUudHJhbnNmb3JtID0gSCksIE4gJiYgKCRbMF0uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gTiksIGUucm91bmRMZW5ndGhzICYmIChTID0gTWF0aC5mbG9vcihTKSk7CiAgICAgICAgICAgIH0gZWxzZSBTID0gKHMgLSAoZS5zbGlkZXNQZXJWaWV3IC0gMSkgKiB3KSAvIGUuc2xpZGVzUGVyVmlldywgZS5yb3VuZExlbmd0aHMgJiYgKFMgPSBNYXRoLmZsb29yKFMpKSwgZFtrXSAmJiAodGhpcy5pc0hvcml6b250YWwoKSA/IGRba10uc3R5bGUud2lkdGggPSBTICsgInB4IiA6IGRba10uc3R5bGUuaGVpZ2h0ID0gUyArICJweCIpOwoKICAgICAgICAgICAgZFtrXSAmJiAoZFtrXS5zd2lwZXJTbGlkZVNpemUgPSBTKSwgdS5wdXNoKFMpLCBlLmNlbnRlcmVkU2xpZGVzID8gKHkgPSB5ICsgUyAvIDIgKyB4IC8gMiArIHcsIDAgPT09IHggJiYgMCAhPT0gayAmJiAoeSA9IHkgLSBzIC8gMiAtIHcpLCAwID09PSBrICYmICh5ID0geSAtIHMgLyAyIC0gdyksIE1hdGguYWJzKHkpIDwgLjAwMSAmJiAoeSA9IDApLCBlLnJvdW5kTGVuZ3RocyAmJiAoeSA9IE1hdGguZmxvb3IoeSkpLCBUICUgZS5zbGlkZXNQZXJHcm91cCA9PSAwICYmIHAucHVzaCh5KSwgYy5wdXNoKHkpKSA6IChlLnJvdW5kTGVuZ3RocyAmJiAoeSA9IE1hdGguZmxvb3IoeSkpLCBUICUgZS5zbGlkZXNQZXJHcm91cCA9PSAwICYmIHAucHVzaCh5KSwgYy5wdXNoKHkpLCB5ID0geSArIFMgKyB3KSwgdGhpcy52aXJ0dWFsU2l6ZSArPSBTICsgdywgeCA9IFMsIFQgKz0gMTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLnZpcnR1YWxTaXplID0gTWF0aC5tYXgodGhpcy52aXJ0dWFsU2l6ZSwgcykgKyBtLCBhICYmIHIgJiYgKCJzbGlkZSIgPT09IGUuZWZmZWN0IHx8ICJjb3ZlcmZsb3ciID09PSBlLmVmZmVjdCkgJiYgaS5jc3MoewogICAgICAgICAgd2lkdGg6IHRoaXMudmlydHVhbFNpemUgKyBlLnNwYWNlQmV0d2VlbiArICJweCIKICAgICAgICB9KSwgZS5zZXRXcmFwcGVyU2l6ZSAmJiAodGhpcy5pc0hvcml6b250YWwoKSA/IGkuY3NzKHsKICAgICAgICAgIHdpZHRoOiB0aGlzLnZpcnR1YWxTaXplICsgZS5zcGFjZUJldHdlZW4gKyAicHgiCiAgICAgICAgfSkgOiBpLmNzcyh7CiAgICAgICAgICBoZWlnaHQ6IHRoaXMudmlydHVhbFNpemUgKyBlLnNwYWNlQmV0d2VlbiArICJweCIKICAgICAgICB9KSksIGUuc2xpZGVzUGVyQ29sdW1uID4gMSAmJiAodGhpcy52aXJ0dWFsU2l6ZSA9IChTICsgZS5zcGFjZUJldHdlZW4pICogRSwgdGhpcy52aXJ0dWFsU2l6ZSA9IE1hdGguY2VpbCh0aGlzLnZpcnR1YWxTaXplIC8gZS5zbGlkZXNQZXJDb2x1bW4pIC0gZS5zcGFjZUJldHdlZW4sIHRoaXMuaXNIb3Jpem9udGFsKCkgPyBpLmNzcyh7CiAgICAgICAgICB3aWR0aDogdGhpcy52aXJ0dWFsU2l6ZSArIGUuc3BhY2VCZXR3ZWVuICsgInB4IgogICAgICAgIH0pIDogaS5jc3MoewogICAgICAgICAgaGVpZ2h0OiB0aGlzLnZpcnR1YWxTaXplICsgZS5zcGFjZUJldHdlZW4gKyAicHgiCiAgICAgICAgfSksIGUuY2VudGVyZWRTbGlkZXMpKSB7CiAgICAgICAgICBDID0gW107CgogICAgICAgICAgZm9yICh2YXIgUSA9IDA7IFEgPCBwLmxlbmd0aDsgUSArPSAxKSB7CiAgICAgICAgICAgIHZhciBKID0gcFtRXTsKICAgICAgICAgICAgZS5yb3VuZExlbmd0aHMgJiYgKEogPSBNYXRoLmZsb29yKEopKSwgcFtRXSA8IHRoaXMudmlydHVhbFNpemUgKyBwWzBdICYmIEMucHVzaChKKTsKICAgICAgICAgIH0KCiAgICAgICAgICBwID0gQzsKICAgICAgICB9CgogICAgICAgIGlmICghZS5jZW50ZXJlZFNsaWRlcykgewogICAgICAgICAgQyA9IFtdOwoKICAgICAgICAgIGZvciAodmFyIGVlID0gMDsgZWUgPCBwLmxlbmd0aDsgZWUgKz0gMSkgewogICAgICAgICAgICB2YXIgdGUgPSBwW2VlXTsKICAgICAgICAgICAgZS5yb3VuZExlbmd0aHMgJiYgKHRlID0gTWF0aC5mbG9vcih0ZSkpLCBwW2VlXSA8PSB0aGlzLnZpcnR1YWxTaXplIC0gcyAmJiBDLnB1c2godGUpOwogICAgICAgICAgfQoKICAgICAgICAgIHAgPSBDLCBNYXRoLmZsb29yKHRoaXMudmlydHVhbFNpemUgLSBzKSAtIE1hdGguZmxvb3IocFtwLmxlbmd0aCAtIDFdKSA+IDEgJiYgcC5wdXNoKHRoaXMudmlydHVhbFNpemUgLSBzKTsKICAgICAgICB9CgogICAgICAgIGlmICgwID09PSBwLmxlbmd0aCAmJiAocCA9IFswXSksIDAgIT09IGUuc3BhY2VCZXR3ZWVuICYmICh0aGlzLmlzSG9yaXpvbnRhbCgpID8gYSA/IGQuZmlsdGVyKHYpLmNzcyh7CiAgICAgICAgICBtYXJnaW5MZWZ0OiB3ICsgInB4IgogICAgICAgIH0pIDogZC5maWx0ZXIodikuY3NzKHsKICAgICAgICAgIG1hcmdpblJpZ2h0OiB3ICsgInB4IgogICAgICAgIH0pIDogZC5maWx0ZXIodikuY3NzKHsKICAgICAgICAgIG1hcmdpbkJvdHRvbTogdyArICJweCIKICAgICAgICB9KSksIGUuY2VudGVyZWRTbGlkZXMgJiYgZS5jZW50ZXJlZFNsaWRlc0JvdW5kcykgewogICAgICAgICAgdmFyIGllID0gMDsKICAgICAgICAgIHUuZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICAgICAgICBpZSArPSB0ICsgKGUuc3BhY2VCZXR3ZWVuID8gZS5zcGFjZUJldHdlZW4gOiAwKTsKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIHNlID0gKGllIC09IGUuc3BhY2VCZXR3ZWVuKSAtIHM7CiAgICAgICAgICBwID0gcC5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGUgPCAwID8gLWYgOiBlID4gc2UgPyBzZSArIG0gOiBlOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBpZiAoZS5jZW50ZXJJbnN1ZmZpY2llbnRTbGlkZXMpIHsKICAgICAgICAgIHZhciBhZSA9IDA7CgogICAgICAgICAgaWYgKHUuZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICAgICAgICBhZSArPSB0ICsgKGUuc3BhY2VCZXR3ZWVuID8gZS5zcGFjZUJldHdlZW4gOiAwKTsKICAgICAgICAgIH0pLCAoYWUgLT0gZS5zcGFjZUJldHdlZW4pIDwgcykgewogICAgICAgICAgICB2YXIgcmUgPSAocyAtIGFlKSAvIDI7CiAgICAgICAgICAgIHAuZm9yRWFjaChmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgICAgIHBbdF0gPSBlIC0gcmU7CiAgICAgICAgICAgIH0pLCBjLmZvckVhY2goZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgICAgICBjW3RdID0gZSArIHJlOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIG4uZXh0ZW5kKHRoaXMsIHsKICAgICAgICAgIHNsaWRlczogZCwKICAgICAgICAgIHNuYXBHcmlkOiBwLAogICAgICAgICAgc2xpZGVzR3JpZDogYywKICAgICAgICAgIHNsaWRlc1NpemVzR3JpZDogdQogICAgICAgIH0pLCBoICE9PSBsICYmIHRoaXMuZW1pdCgic2xpZGVzTGVuZ3RoQ2hhbmdlIiksIHAubGVuZ3RoICE9PSBnICYmICh0aGlzLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHRoaXMuY2hlY2tPdmVyZmxvdygpLCB0aGlzLmVtaXQoInNuYXBHcmlkTGVuZ3RoQ2hhbmdlIikpLCBjLmxlbmd0aCAhPT0gYiAmJiB0aGlzLmVtaXQoInNsaWRlc0dyaWRMZW5ndGhDaGFuZ2UiKSwgKGUud2F0Y2hTbGlkZXNQcm9ncmVzcyB8fCBlLndhdGNoU2xpZGVzVmlzaWJpbGl0eSkgJiYgdGhpcy51cGRhdGVTbGlkZXNPZmZzZXQoKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZUF1dG9IZWlnaHQ6IGZ1bmN0aW9uIHVwZGF0ZUF1dG9IZWlnaHQoZSkgewogICAgICB2YXIgdCwKICAgICAgICAgIGkgPSBbXSwKICAgICAgICAgIHMgPSAwOwogICAgICBpZiAoIm51bWJlciIgPT0gdHlwZW9mIGUgPyB0aGlzLnNldFRyYW5zaXRpb24oZSkgOiAhMCA9PT0gZSAmJiB0aGlzLnNldFRyYW5zaXRpb24odGhpcy5wYXJhbXMuc3BlZWQpLCAiYXV0byIgIT09IHRoaXMucGFyYW1zLnNsaWRlc1BlclZpZXcgJiYgdGhpcy5wYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEpIGZvciAodCA9IDA7IHQgPCBNYXRoLmNlaWwodGhpcy5wYXJhbXMuc2xpZGVzUGVyVmlldyk7IHQgKz0gMSkgewogICAgICAgIHZhciBhID0gdGhpcy5hY3RpdmVJbmRleCArIHQ7CiAgICAgICAgaWYgKGEgPiB0aGlzLnNsaWRlcy5sZW5ndGgpIGJyZWFrOwogICAgICAgIGkucHVzaCh0aGlzLnNsaWRlcy5lcShhKVswXSk7CiAgICAgIH0gZWxzZSBpLnB1c2godGhpcy5zbGlkZXMuZXEodGhpcy5hY3RpdmVJbmRleClbMF0pOwoKICAgICAgZm9yICh0ID0gMDsgdCA8IGkubGVuZ3RoOyB0ICs9IDEpIHsKICAgICAgICBpZiAodm9pZCAwICE9PSBpW3RdKSB7CiAgICAgICAgICB2YXIgciA9IGlbdF0ub2Zmc2V0SGVpZ2h0OwogICAgICAgICAgcyA9IHIgPiBzID8gciA6IHM7CiAgICAgICAgfQogICAgICB9CgogICAgICBzICYmIHRoaXMuJHdyYXBwZXJFbC5jc3MoImhlaWdodCIsIHMgKyAicHgiKTsKICAgIH0sCiAgICB1cGRhdGVTbGlkZXNPZmZzZXQ6IGZ1bmN0aW9uIHVwZGF0ZVNsaWRlc09mZnNldCgpIHsKICAgICAgZm9yICh2YXIgZSA9IHRoaXMuc2xpZGVzLCB0ID0gMDsgdCA8IGUubGVuZ3RoOyB0ICs9IDEpIHsKICAgICAgICBlW3RdLnN3aXBlclNsaWRlT2Zmc2V0ID0gdGhpcy5pc0hvcml6b250YWwoKSA/IGVbdF0ub2Zmc2V0TGVmdCA6IGVbdF0ub2Zmc2V0VG9wOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlU2xpZGVzUHJvZ3Jlc3M6IGZ1bmN0aW9uIHVwZGF0ZVNsaWRlc1Byb2dyZXNzKGUpIHsKICAgICAgdm9pZCAwID09PSBlICYmIChlID0gdGhpcyAmJiB0aGlzLnRyYW5zbGF0ZSB8fCAwKTsKICAgICAgdmFyIHQgPSB0aGlzLnBhcmFtcywKICAgICAgICAgIGkgPSB0aGlzLnNsaWRlcywKICAgICAgICAgIGEgPSB0aGlzLnJ0bFRyYW5zbGF0ZTsKCiAgICAgIGlmICgwICE9PSBpLmxlbmd0aCkgewogICAgICAgIHZvaWQgMCA9PT0gaVswXS5zd2lwZXJTbGlkZU9mZnNldCAmJiB0aGlzLnVwZGF0ZVNsaWRlc09mZnNldCgpOwogICAgICAgIHZhciByID0gLWU7CiAgICAgICAgYSAmJiAociA9IGUpLCBpLnJlbW92ZUNsYXNzKHQuc2xpZGVWaXNpYmxlQ2xhc3MpLCB0aGlzLnZpc2libGVTbGlkZXNJbmRleGVzID0gW10sIHRoaXMudmlzaWJsZVNsaWRlcyA9IFtdOwoKICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGkubGVuZ3RoOyBuICs9IDEpIHsKICAgICAgICAgIHZhciBvID0gaVtuXSwKICAgICAgICAgICAgICBsID0gKHIgKyAodC5jZW50ZXJlZFNsaWRlcyA/IHRoaXMubWluVHJhbnNsYXRlKCkgOiAwKSAtIG8uc3dpcGVyU2xpZGVPZmZzZXQpIC8gKG8uc3dpcGVyU2xpZGVTaXplICsgdC5zcGFjZUJldHdlZW4pOwoKICAgICAgICAgIGlmICh0LndhdGNoU2xpZGVzVmlzaWJpbGl0eSkgewogICAgICAgICAgICB2YXIgZCA9IC0ociAtIG8uc3dpcGVyU2xpZGVPZmZzZXQpLAogICAgICAgICAgICAgICAgaCA9IGQgKyB0aGlzLnNsaWRlc1NpemVzR3JpZFtuXTsKICAgICAgICAgICAgKGQgPj0gMCAmJiBkIDwgdGhpcy5zaXplIC0gMSB8fCBoID4gMSAmJiBoIDw9IHRoaXMuc2l6ZSB8fCBkIDw9IDAgJiYgaCA+PSB0aGlzLnNpemUpICYmICh0aGlzLnZpc2libGVTbGlkZXMucHVzaChvKSwgdGhpcy52aXNpYmxlU2xpZGVzSW5kZXhlcy5wdXNoKG4pLCBpLmVxKG4pLmFkZENsYXNzKHQuc2xpZGVWaXNpYmxlQ2xhc3MpKTsKICAgICAgICAgIH0KCiAgICAgICAgICBvLnByb2dyZXNzID0gYSA/IC1sIDogbDsKICAgICAgICB9CgogICAgICAgIHRoaXMudmlzaWJsZVNsaWRlcyA9IHModGhpcy52aXNpYmxlU2xpZGVzKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVByb2dyZXNzOiBmdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyhlKSB7CiAgICAgIGlmICh2b2lkIDAgPT09IGUpIHsKICAgICAgICB2YXIgdCA9IHRoaXMucnRsVHJhbnNsYXRlID8gLTEgOiAxOwogICAgICAgIGUgPSB0aGlzICYmIHRoaXMudHJhbnNsYXRlICYmIHRoaXMudHJhbnNsYXRlICogdCB8fCAwOwogICAgICB9CgogICAgICB2YXIgaSA9IHRoaXMucGFyYW1zLAogICAgICAgICAgcyA9IHRoaXMubWF4VHJhbnNsYXRlKCkgLSB0aGlzLm1pblRyYW5zbGF0ZSgpLAogICAgICAgICAgYSA9IHRoaXMucHJvZ3Jlc3MsCiAgICAgICAgICByID0gdGhpcy5pc0JlZ2lubmluZywKICAgICAgICAgIG8gPSB0aGlzLmlzRW5kLAogICAgICAgICAgbCA9IHIsCiAgICAgICAgICBkID0gbzsKICAgICAgMCA9PT0gcyA/IChhID0gMCwgciA9ICEwLCBvID0gITApIDogKHIgPSAoYSA9IChlIC0gdGhpcy5taW5UcmFuc2xhdGUoKSkgLyBzKSA8PSAwLCBvID0gYSA+PSAxKSwgbi5leHRlbmQodGhpcywgewogICAgICAgIHByb2dyZXNzOiBhLAogICAgICAgIGlzQmVnaW5uaW5nOiByLAogICAgICAgIGlzRW5kOiBvCiAgICAgIH0pLCAoaS53YXRjaFNsaWRlc1Byb2dyZXNzIHx8IGkud2F0Y2hTbGlkZXNWaXNpYmlsaXR5KSAmJiB0aGlzLnVwZGF0ZVNsaWRlc1Byb2dyZXNzKGUpLCByICYmICFsICYmIHRoaXMuZW1pdCgicmVhY2hCZWdpbm5pbmcgdG9FZGdlIiksIG8gJiYgIWQgJiYgdGhpcy5lbWl0KCJyZWFjaEVuZCB0b0VkZ2UiKSwgKGwgJiYgIXIgfHwgZCAmJiAhbykgJiYgdGhpcy5lbWl0KCJmcm9tRWRnZSIpLCB0aGlzLmVtaXQoInByb2dyZXNzIiwgYSk7CiAgICB9LAogICAgdXBkYXRlU2xpZGVzQ2xhc3NlczogZnVuY3Rpb24gdXBkYXRlU2xpZGVzQ2xhc3NlcygpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICB0ID0gdGhpcy5zbGlkZXMsCiAgICAgICAgICBpID0gdGhpcy5wYXJhbXMsCiAgICAgICAgICBzID0gdGhpcy4kd3JhcHBlckVsLAogICAgICAgICAgYSA9IHRoaXMuYWN0aXZlSW5kZXgsCiAgICAgICAgICByID0gdGhpcy5yZWFsSW5kZXgsCiAgICAgICAgICBuID0gdGhpcy52aXJ0dWFsICYmIGkudmlydHVhbC5lbmFibGVkOwogICAgICB0LnJlbW92ZUNsYXNzKGkuc2xpZGVBY3RpdmVDbGFzcyArICIgIiArIGkuc2xpZGVOZXh0Q2xhc3MgKyAiICIgKyBpLnNsaWRlUHJldkNsYXNzICsgIiAiICsgaS5zbGlkZUR1cGxpY2F0ZUFjdGl2ZUNsYXNzICsgIiAiICsgaS5zbGlkZUR1cGxpY2F0ZU5leHRDbGFzcyArICIgIiArIGkuc2xpZGVEdXBsaWNhdGVQcmV2Q2xhc3MpLCAoZSA9IG4gPyB0aGlzLiR3cmFwcGVyRWwuZmluZCgiLiIgKyBpLnNsaWRlQ2xhc3MgKyAnW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PSInICsgYSArICciXScpIDogdC5lcShhKSkuYWRkQ2xhc3MoaS5zbGlkZUFjdGl2ZUNsYXNzKSwgaS5sb29wICYmIChlLmhhc0NsYXNzKGkuc2xpZGVEdXBsaWNhdGVDbGFzcykgPyBzLmNoaWxkcmVuKCIuIiArIGkuc2xpZGVDbGFzcyArICI6bm90KC4iICsgaS5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgJylbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9IicgKyByICsgJyJdJykuYWRkQ2xhc3MoaS5zbGlkZUR1cGxpY2F0ZUFjdGl2ZUNsYXNzKSA6IHMuY2hpbGRyZW4oIi4iICsgaS5zbGlkZUNsYXNzICsgIi4iICsgaS5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD0iJyArIHIgKyAnIl0nKS5hZGRDbGFzcyhpLnNsaWRlRHVwbGljYXRlQWN0aXZlQ2xhc3MpKTsKICAgICAgdmFyIG8gPSBlLm5leHRBbGwoIi4iICsgaS5zbGlkZUNsYXNzKS5lcSgwKS5hZGRDbGFzcyhpLnNsaWRlTmV4dENsYXNzKTsKICAgICAgaS5sb29wICYmIDAgPT09IG8ubGVuZ3RoICYmIChvID0gdC5lcSgwKSkuYWRkQ2xhc3MoaS5zbGlkZU5leHRDbGFzcyk7CiAgICAgIHZhciBsID0gZS5wcmV2QWxsKCIuIiArIGkuc2xpZGVDbGFzcykuZXEoMCkuYWRkQ2xhc3MoaS5zbGlkZVByZXZDbGFzcyk7CiAgICAgIGkubG9vcCAmJiAwID09PSBsLmxlbmd0aCAmJiAobCA9IHQuZXEoLTEpKS5hZGRDbGFzcyhpLnNsaWRlUHJldkNsYXNzKSwgaS5sb29wICYmIChvLmhhc0NsYXNzKGkuc2xpZGVEdXBsaWNhdGVDbGFzcykgPyBzLmNoaWxkcmVuKCIuIiArIGkuc2xpZGVDbGFzcyArICI6bm90KC4iICsgaS5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgJylbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9IicgKyBvLmF0dHIoImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4IikgKyAnIl0nKS5hZGRDbGFzcyhpLnNsaWRlRHVwbGljYXRlTmV4dENsYXNzKSA6IHMuY2hpbGRyZW4oIi4iICsgaS5zbGlkZUNsYXNzICsgIi4iICsgaS5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD0iJyArIG8uYXR0cigiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgiKSArICciXScpLmFkZENsYXNzKGkuc2xpZGVEdXBsaWNhdGVOZXh0Q2xhc3MpLCBsLmhhc0NsYXNzKGkuc2xpZGVEdXBsaWNhdGVDbGFzcykgPyBzLmNoaWxkcmVuKCIuIiArIGkuc2xpZGVDbGFzcyArICI6bm90KC4iICsgaS5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgJylbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9IicgKyBsLmF0dHIoImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4IikgKyAnIl0nKS5hZGRDbGFzcyhpLnNsaWRlRHVwbGljYXRlUHJldkNsYXNzKSA6IHMuY2hpbGRyZW4oIi4iICsgaS5zbGlkZUNsYXNzICsgIi4iICsgaS5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD0iJyArIGwuYXR0cigiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgiKSArICciXScpLmFkZENsYXNzKGkuc2xpZGVEdXBsaWNhdGVQcmV2Q2xhc3MpKTsKICAgIH0sCiAgICB1cGRhdGVBY3RpdmVJbmRleDogZnVuY3Rpb24gdXBkYXRlQWN0aXZlSW5kZXgoZSkgewogICAgICB2YXIgdCwKICAgICAgICAgIGkgPSB0aGlzLnJ0bFRyYW5zbGF0ZSA/IHRoaXMudHJhbnNsYXRlIDogLXRoaXMudHJhbnNsYXRlLAogICAgICAgICAgcyA9IHRoaXMuc2xpZGVzR3JpZCwKICAgICAgICAgIGEgPSB0aGlzLnNuYXBHcmlkLAogICAgICAgICAgciA9IHRoaXMucGFyYW1zLAogICAgICAgICAgbyA9IHRoaXMuYWN0aXZlSW5kZXgsCiAgICAgICAgICBsID0gdGhpcy5yZWFsSW5kZXgsCiAgICAgICAgICBkID0gdGhpcy5zbmFwSW5kZXgsCiAgICAgICAgICBoID0gZTsKCiAgICAgIGlmICh2b2lkIDAgPT09IGgpIHsKICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHMubGVuZ3RoOyBwICs9IDEpIHsKICAgICAgICAgIHZvaWQgMCAhPT0gc1twICsgMV0gPyBpID49IHNbcF0gJiYgaSA8IHNbcCArIDFdIC0gKHNbcCArIDFdIC0gc1twXSkgLyAyID8gaCA9IHAgOiBpID49IHNbcF0gJiYgaSA8IHNbcCArIDFdICYmIChoID0gcCArIDEpIDogaSA+PSBzW3BdICYmIChoID0gcCk7CiAgICAgICAgfQoKICAgICAgICByLm5vcm1hbGl6ZVNsaWRlSW5kZXggJiYgKGggPCAwIHx8IHZvaWQgMCA9PT0gaCkgJiYgKGggPSAwKTsKICAgICAgfQoKICAgICAgaWYgKCh0ID0gYS5pbmRleE9mKGkpID49IDAgPyBhLmluZGV4T2YoaSkgOiBNYXRoLmZsb29yKGggLyByLnNsaWRlc1Blckdyb3VwKSkgPj0gYS5sZW5ndGggJiYgKHQgPSBhLmxlbmd0aCAtIDEpLCBoICE9PSBvKSB7CiAgICAgICAgdmFyIGMgPSBwYXJzZUludCh0aGlzLnNsaWRlcy5lcShoKS5hdHRyKCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleCIpIHx8IGgsIDEwKTsKICAgICAgICBuLmV4dGVuZCh0aGlzLCB7CiAgICAgICAgICBzbmFwSW5kZXg6IHQsCiAgICAgICAgICByZWFsSW5kZXg6IGMsCiAgICAgICAgICBwcmV2aW91c0luZGV4OiBvLAogICAgICAgICAgYWN0aXZlSW5kZXg6IGgKICAgICAgICB9KSwgdGhpcy5lbWl0KCJhY3RpdmVJbmRleENoYW5nZSIpLCB0aGlzLmVtaXQoInNuYXBJbmRleENoYW5nZSIpLCBsICE9PSBjICYmIHRoaXMuZW1pdCgicmVhbEluZGV4Q2hhbmdlIiksICh0aGlzLmluaXRpYWxpemVkIHx8IHRoaXMucnVuQ2FsbGJhY2tzT25Jbml0KSAmJiB0aGlzLmVtaXQoInNsaWRlQ2hhbmdlIik7CiAgICAgIH0gZWxzZSB0ICE9PSBkICYmICh0aGlzLnNuYXBJbmRleCA9IHQsIHRoaXMuZW1pdCgic25hcEluZGV4Q2hhbmdlIikpOwogICAgfSwKICAgIHVwZGF0ZUNsaWNrZWRTbGlkZTogZnVuY3Rpb24gdXBkYXRlQ2xpY2tlZFNsaWRlKGUpIHsKICAgICAgdmFyIHQgPSB0aGlzLnBhcmFtcywKICAgICAgICAgIGkgPSBzKGUudGFyZ2V0KS5jbG9zZXN0KCIuIiArIHQuc2xpZGVDbGFzcylbMF0sCiAgICAgICAgICBhID0gITE7CiAgICAgIGlmIChpKSBmb3IgKHZhciByID0gMDsgciA8IHRoaXMuc2xpZGVzLmxlbmd0aDsgciArPSAxKSB7CiAgICAgICAgdGhpcy5zbGlkZXNbcl0gPT09IGkgJiYgKGEgPSAhMCk7CiAgICAgIH0KICAgICAgaWYgKCFpIHx8ICFhKSByZXR1cm4gdGhpcy5jbGlja2VkU2xpZGUgPSB2b2lkIDAsIHZvaWQgKHRoaXMuY2xpY2tlZEluZGV4ID0gdm9pZCAwKTsKICAgICAgdGhpcy5jbGlja2VkU2xpZGUgPSBpLCB0aGlzLnZpcnR1YWwgJiYgdGhpcy5wYXJhbXMudmlydHVhbC5lbmFibGVkID8gdGhpcy5jbGlja2VkSW5kZXggPSBwYXJzZUludChzKGkpLmF0dHIoImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4IiksIDEwKSA6IHRoaXMuY2xpY2tlZEluZGV4ID0gcyhpKS5pbmRleCgpLCB0LnNsaWRlVG9DbGlja2VkU2xpZGUgJiYgdm9pZCAwICE9PSB0aGlzLmNsaWNrZWRJbmRleCAmJiB0aGlzLmNsaWNrZWRJbmRleCAhPT0gdGhpcy5hY3RpdmVJbmRleCAmJiB0aGlzLnNsaWRlVG9DbGlja2VkU2xpZGUoKTsKICAgIH0KICB9OwogIHZhciBwID0gewogICAgZ2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBnZXRUcmFuc2xhdGUoZSkgewogICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSB0aGlzLmlzSG9yaXpvbnRhbCgpID8gIngiIDogInkiKTsKICAgICAgdmFyIHQgPSB0aGlzLnBhcmFtcywKICAgICAgICAgIGkgPSB0aGlzLnJ0bFRyYW5zbGF0ZSwKICAgICAgICAgIHMgPSB0aGlzLnRyYW5zbGF0ZSwKICAgICAgICAgIGEgPSB0aGlzLiR3cmFwcGVyRWw7CiAgICAgIGlmICh0LnZpcnR1YWxUcmFuc2xhdGUpIHJldHVybiBpID8gLXMgOiBzOwogICAgICBpZiAodC5jc3NNb2RlKSByZXR1cm4gczsKICAgICAgdmFyIHIgPSBuLmdldFRyYW5zbGF0ZShhWzBdLCBlKTsKICAgICAgcmV0dXJuIGkgJiYgKHIgPSAtciksIHIgfHwgMDsKICAgIH0sCiAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZShlLCB0KSB7CiAgICAgIHZhciBpID0gdGhpcy5ydGxUcmFuc2xhdGUsCiAgICAgICAgICBzID0gdGhpcy5wYXJhbXMsCiAgICAgICAgICBhID0gdGhpcy4kd3JhcHBlckVsLAogICAgICAgICAgciA9IHRoaXMud3JhcHBlckVsLAogICAgICAgICAgbiA9IHRoaXMucHJvZ3Jlc3MsCiAgICAgICAgICBvID0gMCwKICAgICAgICAgIGwgPSAwOwogICAgICB0aGlzLmlzSG9yaXpvbnRhbCgpID8gbyA9IGkgPyAtZSA6IGUgOiBsID0gZSwgcy5yb3VuZExlbmd0aHMgJiYgKG8gPSBNYXRoLmZsb29yKG8pLCBsID0gTWF0aC5mbG9vcihsKSksIHMuY3NzTW9kZSA/IHJbdGhpcy5pc0hvcml6b250YWwoKSA/ICJzY3JvbGxMZWZ0IiA6ICJzY3JvbGxUb3AiXSA9IHRoaXMuaXNIb3Jpem9udGFsKCkgPyAtbyA6IC1sIDogcy52aXJ0dWFsVHJhbnNsYXRlIHx8IGEudHJhbnNmb3JtKCJ0cmFuc2xhdGUzZCgiICsgbyArICJweCwgIiArIGwgKyAicHgsIDBweCkiKSwgdGhpcy5wcmV2aW91c1RyYW5zbGF0ZSA9IHRoaXMudHJhbnNsYXRlLCB0aGlzLnRyYW5zbGF0ZSA9IHRoaXMuaXNIb3Jpem9udGFsKCkgPyBvIDogbDsKICAgICAgdmFyIGQgPSB0aGlzLm1heFRyYW5zbGF0ZSgpIC0gdGhpcy5taW5UcmFuc2xhdGUoKTsKICAgICAgKDAgPT09IGQgPyAwIDogKGUgLSB0aGlzLm1pblRyYW5zbGF0ZSgpKSAvIGQpICE9PSBuICYmIHRoaXMudXBkYXRlUHJvZ3Jlc3MoZSksIHRoaXMuZW1pdCgic2V0VHJhbnNsYXRlIiwgdGhpcy50cmFuc2xhdGUsIHQpOwogICAgfSwKICAgIG1pblRyYW5zbGF0ZTogZnVuY3Rpb24gbWluVHJhbnNsYXRlKCkgewogICAgICByZXR1cm4gLXRoaXMuc25hcEdyaWRbMF07CiAgICB9LAogICAgbWF4VHJhbnNsYXRlOiBmdW5jdGlvbiBtYXhUcmFuc2xhdGUoKSB7CiAgICAgIHJldHVybiAtdGhpcy5zbmFwR3JpZFt0aGlzLnNuYXBHcmlkLmxlbmd0aCAtIDFdOwogICAgfSwKICAgIHRyYW5zbGF0ZVRvOiBmdW5jdGlvbiB0cmFuc2xhdGVUbyhlLCB0LCBpLCBzLCBhKSB7CiAgICAgIHZhciByOwogICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSAwKSwgdm9pZCAwID09PSB0ICYmICh0ID0gdGhpcy5wYXJhbXMuc3BlZWQpLCB2b2lkIDAgPT09IGkgJiYgKGkgPSAhMCksIHZvaWQgMCA9PT0gcyAmJiAocyA9ICEwKTsKICAgICAgdmFyIG4gPSB0aGlzLAogICAgICAgICAgbyA9IG4ucGFyYW1zLAogICAgICAgICAgbCA9IG4ud3JhcHBlckVsOwogICAgICBpZiAobi5hbmltYXRpbmcgJiYgby5wcmV2ZW50SW50ZXJhY3Rpb25PblRyYW5zaXRpb24pIHJldHVybiAhMTsKICAgICAgdmFyIGQsCiAgICAgICAgICBoID0gbi5taW5UcmFuc2xhdGUoKSwKICAgICAgICAgIHAgPSBuLm1heFRyYW5zbGF0ZSgpOwoKICAgICAgaWYgKGQgPSBzICYmIGUgPiBoID8gaCA6IHMgJiYgZSA8IHAgPyBwIDogZSwgbi51cGRhdGVQcm9ncmVzcyhkKSwgby5jc3NNb2RlKSB7CiAgICAgICAgdmFyIGMgPSBuLmlzSG9yaXpvbnRhbCgpOwogICAgICAgIHJldHVybiAwID09PSB0ID8gbFtjID8gInNjcm9sbExlZnQiIDogInNjcm9sbFRvcCJdID0gLWQgOiBsLnNjcm9sbFRvID8gbC5zY3JvbGxUbygoKHIgPSB7fSlbYyA/ICJsZWZ0IiA6ICJ0b3AiXSA9IC1kLCByLmJlaGF2aW9yID0gInNtb290aCIsIHIpKSA6IGxbYyA/ICJzY3JvbGxMZWZ0IiA6ICJzY3JvbGxUb3AiXSA9IC1kLCAhMDsKICAgICAgfQoKICAgICAgcmV0dXJuIDAgPT09IHQgPyAobi5zZXRUcmFuc2l0aW9uKDApLCBuLnNldFRyYW5zbGF0ZShkKSwgaSAmJiAobi5lbWl0KCJiZWZvcmVUcmFuc2l0aW9uU3RhcnQiLCB0LCBhKSwgbi5lbWl0KCJ0cmFuc2l0aW9uRW5kIikpKSA6IChuLnNldFRyYW5zaXRpb24odCksIG4uc2V0VHJhbnNsYXRlKGQpLCBpICYmIChuLmVtaXQoImJlZm9yZVRyYW5zaXRpb25TdGFydCIsIHQsIGEpLCBuLmVtaXQoInRyYW5zaXRpb25TdGFydCIpKSwgbi5hbmltYXRpbmcgfHwgKG4uYW5pbWF0aW5nID0gITAsIG4ub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kIHx8IChuLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgbiAmJiAhbi5kZXN0cm95ZWQgJiYgZS50YXJnZXQgPT09IHRoaXMgJiYgKG4uJHdyYXBwZXJFbFswXS5yZW1vdmVFdmVudExpc3RlbmVyKCJ0cmFuc2l0aW9uZW5kIiwgbi5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpLCBuLiR3cmFwcGVyRWxbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2Via2l0VHJhbnNpdGlvbkVuZCIsIG4ub25UcmFuc2xhdGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kKSwgbi5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBudWxsLCBkZWxldGUgbi5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQsIGkgJiYgbi5lbWl0KCJ0cmFuc2l0aW9uRW5kIikpOwogICAgICB9KSwgbi4kd3JhcHBlckVsWzBdLmFkZEV2ZW50TGlzdGVuZXIoInRyYW5zaXRpb25lbmQiLCBuLm9uVHJhbnNsYXRlVG9XcmFwcGVyVHJhbnNpdGlvbkVuZCksIG4uJHdyYXBwZXJFbFswXS5hZGRFdmVudExpc3RlbmVyKCJ3ZWJraXRUcmFuc2l0aW9uRW5kIiwgbi5vblRyYW5zbGF0ZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpKSksICEwOwogICAgfQogIH07CiAgdmFyIGMgPSB7CiAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGUsIHQpIHsKICAgICAgdGhpcy5wYXJhbXMuY3NzTW9kZSB8fCB0aGlzLiR3cmFwcGVyRWwudHJhbnNpdGlvbihlKSwgdGhpcy5lbWl0KCJzZXRUcmFuc2l0aW9uIiwgZSwgdCk7CiAgICB9LAogICAgdHJhbnNpdGlvblN0YXJ0OiBmdW5jdGlvbiB0cmFuc2l0aW9uU3RhcnQoZSwgdCkgewogICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSAhMCk7CiAgICAgIHZhciBpID0gdGhpcy5hY3RpdmVJbmRleCwKICAgICAgICAgIHMgPSB0aGlzLnBhcmFtcywKICAgICAgICAgIGEgPSB0aGlzLnByZXZpb3VzSW5kZXg7CgogICAgICBpZiAoIXMuY3NzTW9kZSkgewogICAgICAgIHMuYXV0b0hlaWdodCAmJiB0aGlzLnVwZGF0ZUF1dG9IZWlnaHQoKTsKICAgICAgICB2YXIgciA9IHQ7CgogICAgICAgIGlmIChyIHx8IChyID0gaSA+IGEgPyAibmV4dCIgOiBpIDwgYSA/ICJwcmV2IiA6ICJyZXNldCIpLCB0aGlzLmVtaXQoInRyYW5zaXRpb25TdGFydCIpLCBlICYmIGkgIT09IGEpIHsKICAgICAgICAgIGlmICgicmVzZXQiID09PSByKSByZXR1cm4gdm9pZCB0aGlzLmVtaXQoInNsaWRlUmVzZXRUcmFuc2l0aW9uU3RhcnQiKTsKICAgICAgICAgIHRoaXMuZW1pdCgic2xpZGVDaGFuZ2VUcmFuc2l0aW9uU3RhcnQiKSwgIm5leHQiID09PSByID8gdGhpcy5lbWl0KCJzbGlkZU5leHRUcmFuc2l0aW9uU3RhcnQiKSA6IHRoaXMuZW1pdCgic2xpZGVQcmV2VHJhbnNpdGlvblN0YXJ0Iik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgdHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gdHJhbnNpdGlvbkVuZChlLCB0KSB7CiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9ICEwKTsKICAgICAgdmFyIGkgPSB0aGlzLmFjdGl2ZUluZGV4LAogICAgICAgICAgcyA9IHRoaXMucHJldmlvdXNJbmRleCwKICAgICAgICAgIGEgPSB0aGlzLnBhcmFtczsKCiAgICAgIGlmICh0aGlzLmFuaW1hdGluZyA9ICExLCAhYS5jc3NNb2RlKSB7CiAgICAgICAgdGhpcy5zZXRUcmFuc2l0aW9uKDApOwogICAgICAgIHZhciByID0gdDsKCiAgICAgICAgaWYgKHIgfHwgKHIgPSBpID4gcyA/ICJuZXh0IiA6IGkgPCBzID8gInByZXYiIDogInJlc2V0IiksIHRoaXMuZW1pdCgidHJhbnNpdGlvbkVuZCIpLCBlICYmIGkgIT09IHMpIHsKICAgICAgICAgIGlmICgicmVzZXQiID09PSByKSByZXR1cm4gdm9pZCB0aGlzLmVtaXQoInNsaWRlUmVzZXRUcmFuc2l0aW9uRW5kIik7CiAgICAgICAgICB0aGlzLmVtaXQoInNsaWRlQ2hhbmdlVHJhbnNpdGlvbkVuZCIpLCAibmV4dCIgPT09IHIgPyB0aGlzLmVtaXQoInNsaWRlTmV4dFRyYW5zaXRpb25FbmQiKSA6IHRoaXMuZW1pdCgic2xpZGVQcmV2VHJhbnNpdGlvbkVuZCIpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CiAgdmFyIHUgPSB7CiAgICBzbGlkZVRvOiBmdW5jdGlvbiBzbGlkZVRvKGUsIHQsIGksIHMpIHsKICAgICAgdmFyIGE7CiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDApLCB2b2lkIDAgPT09IHQgJiYgKHQgPSB0aGlzLnBhcmFtcy5zcGVlZCksIHZvaWQgMCA9PT0gaSAmJiAoaSA9ICEwKTsKICAgICAgdmFyIHIgPSB0aGlzLAogICAgICAgICAgbiA9IGU7CiAgICAgIG4gPCAwICYmIChuID0gMCk7CiAgICAgIHZhciBvID0gci5wYXJhbXMsCiAgICAgICAgICBsID0gci5zbmFwR3JpZCwKICAgICAgICAgIGQgPSByLnNsaWRlc0dyaWQsCiAgICAgICAgICBoID0gci5wcmV2aW91c0luZGV4LAogICAgICAgICAgcCA9IHIuYWN0aXZlSW5kZXgsCiAgICAgICAgICBjID0gci5ydGxUcmFuc2xhdGUsCiAgICAgICAgICB1ID0gci53cmFwcGVyRWw7CiAgICAgIGlmIChyLmFuaW1hdGluZyAmJiBvLnByZXZlbnRJbnRlcmFjdGlvbk9uVHJhbnNpdGlvbikgcmV0dXJuICExOwogICAgICB2YXIgdiA9IE1hdGguZmxvb3IobiAvIG8uc2xpZGVzUGVyR3JvdXApOwogICAgICB2ID49IGwubGVuZ3RoICYmICh2ID0gbC5sZW5ndGggLSAxKSwgKHAgfHwgby5pbml0aWFsU2xpZGUgfHwgMCkgPT09IChoIHx8IDApICYmIGkgJiYgci5lbWl0KCJiZWZvcmVTbGlkZUNoYW5nZVN0YXJ0Iik7CiAgICAgIHZhciBmLAogICAgICAgICAgbSA9IC1sW3ZdOwogICAgICBpZiAoci51cGRhdGVQcm9ncmVzcyhtKSwgby5ub3JtYWxpemVTbGlkZUluZGV4KSBmb3IgKHZhciBnID0gMDsgZyA8IGQubGVuZ3RoOyBnICs9IDEpIHsKICAgICAgICAtTWF0aC5mbG9vcigxMDAgKiBtKSA+PSBNYXRoLmZsb29yKDEwMCAqIGRbZ10pICYmIChuID0gZyk7CiAgICAgIH0KCiAgICAgIGlmIChyLmluaXRpYWxpemVkICYmIG4gIT09IHApIHsKICAgICAgICBpZiAoIXIuYWxsb3dTbGlkZU5leHQgJiYgbSA8IHIudHJhbnNsYXRlICYmIG0gPCByLm1pblRyYW5zbGF0ZSgpKSByZXR1cm4gITE7CiAgICAgICAgaWYgKCFyLmFsbG93U2xpZGVQcmV2ICYmIG0gPiByLnRyYW5zbGF0ZSAmJiBtID4gci5tYXhUcmFuc2xhdGUoKSAmJiAocCB8fCAwKSAhPT0gbikgcmV0dXJuICExOwogICAgICB9CgogICAgICBpZiAoZiA9IG4gPiBwID8gIm5leHQiIDogbiA8IHAgPyAicHJldiIgOiAicmVzZXQiLCBjICYmIC1tID09PSByLnRyYW5zbGF0ZSB8fCAhYyAmJiBtID09PSByLnRyYW5zbGF0ZSkgcmV0dXJuIHIudXBkYXRlQWN0aXZlSW5kZXgobiksIG8uYXV0b0hlaWdodCAmJiByLnVwZGF0ZUF1dG9IZWlnaHQoKSwgci51cGRhdGVTbGlkZXNDbGFzc2VzKCksICJzbGlkZSIgIT09IG8uZWZmZWN0ICYmIHIuc2V0VHJhbnNsYXRlKG0pLCAicmVzZXQiICE9PSBmICYmIChyLnRyYW5zaXRpb25TdGFydChpLCBmKSwgci50cmFuc2l0aW9uRW5kKGksIGYpKSwgITE7CgogICAgICBpZiAoby5jc3NNb2RlKSB7CiAgICAgICAgdmFyIGIgPSByLmlzSG9yaXpvbnRhbCgpOwogICAgICAgIHJldHVybiAwID09PSB0ID8gdVtiID8gInNjcm9sbExlZnQiIDogInNjcm9sbFRvcCJdID0gLW0gOiB1LnNjcm9sbFRvID8gdS5zY3JvbGxUbygoKGEgPSB7fSlbYiA/ICJsZWZ0IiA6ICJ0b3AiXSA9IC1tLCBhLmJlaGF2aW9yID0gInNtb290aCIsIGEpKSA6IHVbYiA/ICJzY3JvbGxMZWZ0IiA6ICJzY3JvbGxUb3AiXSA9IC1tLCAhMDsKICAgICAgfQoKICAgICAgcmV0dXJuIDAgPT09IHQgPyAoci5zZXRUcmFuc2l0aW9uKDApLCByLnNldFRyYW5zbGF0ZShtKSwgci51cGRhdGVBY3RpdmVJbmRleChuKSwgci51cGRhdGVTbGlkZXNDbGFzc2VzKCksIHIuZW1pdCgiYmVmb3JlVHJhbnNpdGlvblN0YXJ0IiwgdCwgcyksIHIudHJhbnNpdGlvblN0YXJ0KGksIGYpLCByLnRyYW5zaXRpb25FbmQoaSwgZikpIDogKHIuc2V0VHJhbnNpdGlvbih0KSwgci5zZXRUcmFuc2xhdGUobSksIHIudXBkYXRlQWN0aXZlSW5kZXgobiksIHIudXBkYXRlU2xpZGVzQ2xhc3NlcygpLCByLmVtaXQoImJlZm9yZVRyYW5zaXRpb25TdGFydCIsIHQsIHMpLCByLnRyYW5zaXRpb25TdGFydChpLCBmKSwgci5hbmltYXRpbmcgfHwgKHIuYW5pbWF0aW5nID0gITAsIHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgfHwgKHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIHIgJiYgIXIuZGVzdHJveWVkICYmIGUudGFyZ2V0ID09PSB0aGlzICYmIChyLiR3cmFwcGVyRWxbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcigidHJhbnNpdGlvbmVuZCIsIHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpLCByLiR3cmFwcGVyRWxbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2Via2l0VHJhbnNpdGlvbkVuZCIsIHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpLCByLm9uU2xpZGVUb1dyYXBwZXJUcmFuc2l0aW9uRW5kID0gbnVsbCwgZGVsZXRlIHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQsIHIudHJhbnNpdGlvbkVuZChpLCBmKSk7CiAgICAgIH0pLCByLiR3cmFwcGVyRWxbMF0uYWRkRXZlbnRMaXN0ZW5lcigidHJhbnNpdGlvbmVuZCIsIHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpLCByLiR3cmFwcGVyRWxbMF0uYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0VHJhbnNpdGlvbkVuZCIsIHIub25TbGlkZVRvV3JhcHBlclRyYW5zaXRpb25FbmQpKSksICEwOwogICAgfSwKICAgIHNsaWRlVG9Mb29wOiBmdW5jdGlvbiBzbGlkZVRvTG9vcChlLCB0LCBpLCBzKSB7CiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IDApLCB2b2lkIDAgPT09IHQgJiYgKHQgPSB0aGlzLnBhcmFtcy5zcGVlZCksIHZvaWQgMCA9PT0gaSAmJiAoaSA9ICEwKTsKICAgICAgdmFyIGEgPSBlOwogICAgICByZXR1cm4gdGhpcy5wYXJhbXMubG9vcCAmJiAoYSArPSB0aGlzLmxvb3BlZFNsaWRlcyksIHRoaXMuc2xpZGVUbyhhLCB0LCBpLCBzKTsKICAgIH0sCiAgICBzbGlkZU5leHQ6IGZ1bmN0aW9uIHNsaWRlTmV4dChlLCB0LCBpKSB7CiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHRoaXMucGFyYW1zLnNwZWVkKSwgdm9pZCAwID09PSB0ICYmICh0ID0gITApOwogICAgICB2YXIgcyA9IHRoaXMucGFyYW1zLAogICAgICAgICAgYSA9IHRoaXMuYW5pbWF0aW5nOwogICAgICByZXR1cm4gcy5sb29wID8gIWEgJiYgKHRoaXMubG9vcEZpeCgpLCB0aGlzLl9jbGllbnRMZWZ0ID0gdGhpcy4kd3JhcHBlckVsWzBdLmNsaWVudExlZnQsIHRoaXMuc2xpZGVUbyh0aGlzLmFjdGl2ZUluZGV4ICsgcy5zbGlkZXNQZXJHcm91cCwgZSwgdCwgaSkpIDogdGhpcy5zbGlkZVRvKHRoaXMuYWN0aXZlSW5kZXggKyBzLnNsaWRlc1Blckdyb3VwLCBlLCB0LCBpKTsKICAgIH0sCiAgICBzbGlkZVByZXY6IGZ1bmN0aW9uIHNsaWRlUHJldihlLCB0LCBpKSB7CiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHRoaXMucGFyYW1zLnNwZWVkKSwgdm9pZCAwID09PSB0ICYmICh0ID0gITApOwogICAgICB2YXIgcyA9IHRoaXMucGFyYW1zLAogICAgICAgICAgYSA9IHRoaXMuYW5pbWF0aW5nLAogICAgICAgICAgciA9IHRoaXMuc25hcEdyaWQsCiAgICAgICAgICBuID0gdGhpcy5zbGlkZXNHcmlkLAogICAgICAgICAgbyA9IHRoaXMucnRsVHJhbnNsYXRlOwoKICAgICAgaWYgKHMubG9vcCkgewogICAgICAgIGlmIChhKSByZXR1cm4gITE7CiAgICAgICAgdGhpcy5sb29wRml4KCksIHRoaXMuX2NsaWVudExlZnQgPSB0aGlzLiR3cmFwcGVyRWxbMF0uY2xpZW50TGVmdDsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbChlKSB7CiAgICAgICAgcmV0dXJuIGUgPCAwID8gLU1hdGguZmxvb3IoTWF0aC5hYnMoZSkpIDogTWF0aC5mbG9vcihlKTsKICAgICAgfQoKICAgICAgdmFyIGQsCiAgICAgICAgICBoID0gbChvID8gdGhpcy50cmFuc2xhdGUgOiAtdGhpcy50cmFuc2xhdGUpLAogICAgICAgICAgcCA9IHIubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGwoZSk7CiAgICAgIH0pLAogICAgICAgICAgYyA9IChuLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBsKGUpOwogICAgICB9KSwgcltwLmluZGV4T2YoaCldLCByW3AuaW5kZXhPZihoKSAtIDFdKTsKICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gYyAmJiBzLmNzc01vZGUgJiYgci5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgIWMgJiYgaCA+PSBlICYmIChjID0gZSk7CiAgICAgIH0pLCB2b2lkIDAgIT09IGMgJiYgKGQgPSBuLmluZGV4T2YoYykpIDwgMCAmJiAoZCA9IHRoaXMuYWN0aXZlSW5kZXggLSAxKSwgdGhpcy5zbGlkZVRvKGQsIGUsIHQsIGkpOwogICAgfSwKICAgIHNsaWRlUmVzZXQ6IGZ1bmN0aW9uIHNsaWRlUmVzZXQoZSwgdCwgaSkgewogICAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIChlID0gdGhpcy5wYXJhbXMuc3BlZWQpLCB2b2lkIDAgPT09IHQgJiYgKHQgPSAhMCksIHRoaXMuc2xpZGVUbyh0aGlzLmFjdGl2ZUluZGV4LCBlLCB0LCBpKTsKICAgIH0sCiAgICBzbGlkZVRvQ2xvc2VzdDogZnVuY3Rpb24gc2xpZGVUb0Nsb3Nlc3QoZSwgdCwgaSwgcykgewogICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSB0aGlzLnBhcmFtcy5zcGVlZCksIHZvaWQgMCA9PT0gdCAmJiAodCA9ICEwKSwgdm9pZCAwID09PSBzICYmIChzID0gLjUpOwogICAgICB2YXIgYSA9IHRoaXMuYWN0aXZlSW5kZXgsCiAgICAgICAgICByID0gTWF0aC5mbG9vcihhIC8gdGhpcy5wYXJhbXMuc2xpZGVzUGVyR3JvdXApLAogICAgICAgICAgbiA9IHRoaXMucnRsVHJhbnNsYXRlID8gdGhpcy50cmFuc2xhdGUgOiAtdGhpcy50cmFuc2xhdGU7CgogICAgICBpZiAobiA+PSB0aGlzLnNuYXBHcmlkW3JdKSB7CiAgICAgICAgdmFyIG8gPSB0aGlzLnNuYXBHcmlkW3JdOwogICAgICAgIG4gLSBvID4gKHRoaXMuc25hcEdyaWRbciArIDFdIC0gbykgKiBzICYmIChhICs9IHRoaXMucGFyYW1zLnNsaWRlc1Blckdyb3VwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgbCA9IHRoaXMuc25hcEdyaWRbciAtIDFdOwogICAgICAgIG4gLSBsIDw9ICh0aGlzLnNuYXBHcmlkW3JdIC0gbCkgKiBzICYmIChhIC09IHRoaXMucGFyYW1zLnNsaWRlc1Blckdyb3VwKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGEgPSBNYXRoLm1heChhLCAwKSwgYSA9IE1hdGgubWluKGEsIHRoaXMuc25hcEdyaWQubGVuZ3RoIC0gMSksIHRoaXMuc2xpZGVUbyhhLCBlLCB0LCBpKTsKICAgIH0sCiAgICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiBmdW5jdGlvbiBzbGlkZVRvQ2xpY2tlZFNsaWRlKCkgewogICAgICB2YXIgZSwKICAgICAgICAgIHQgPSB0aGlzLAogICAgICAgICAgaSA9IHQucGFyYW1zLAogICAgICAgICAgYSA9IHQuJHdyYXBwZXJFbCwKICAgICAgICAgIHIgPSAiYXV0byIgPT09IGkuc2xpZGVzUGVyVmlldyA/IHQuc2xpZGVzUGVyVmlld0R5bmFtaWMoKSA6IGkuc2xpZGVzUGVyVmlldywKICAgICAgICAgIG8gPSB0LmNsaWNrZWRJbmRleDsKCiAgICAgIGlmIChpLmxvb3ApIHsKICAgICAgICBpZiAodC5hbmltYXRpbmcpIHJldHVybjsKICAgICAgICBlID0gcGFyc2VJbnQocyh0LmNsaWNrZWRTbGlkZSkuYXR0cigiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgiKSwgMTApLCBpLmNlbnRlcmVkU2xpZGVzID8gbyA8IHQubG9vcGVkU2xpZGVzIC0gciAvIDIgfHwgbyA+IHQuc2xpZGVzLmxlbmd0aCAtIHQubG9vcGVkU2xpZGVzICsgciAvIDIgPyAodC5sb29wRml4KCksIG8gPSBhLmNoaWxkcmVuKCIuIiArIGkuc2xpZGVDbGFzcyArICdbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9IicgKyBlICsgJyJdOm5vdCguJyArIGkuc2xpZGVEdXBsaWNhdGVDbGFzcyArICIpIikuZXEoMCkuaW5kZXgoKSwgbi5uZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0LnNsaWRlVG8obyk7CiAgICAgICAgfSkpIDogdC5zbGlkZVRvKG8pIDogbyA+IHQuc2xpZGVzLmxlbmd0aCAtIHIgPyAodC5sb29wRml4KCksIG8gPSBhLmNoaWxkcmVuKCIuIiArIGkuc2xpZGVDbGFzcyArICdbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9IicgKyBlICsgJyJdOm5vdCguJyArIGkuc2xpZGVEdXBsaWNhdGVDbGFzcyArICIpIikuZXEoMCkuaW5kZXgoKSwgbi5uZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0LnNsaWRlVG8obyk7CiAgICAgICAgfSkpIDogdC5zbGlkZVRvKG8pOwogICAgICB9IGVsc2UgdC5zbGlkZVRvKG8pOwogICAgfQogIH07CiAgdmFyIHYgPSB7CiAgICBsb29wQ3JlYXRlOiBmdW5jdGlvbiBsb29wQ3JlYXRlKCkgewogICAgICB2YXIgdCA9IHRoaXMsCiAgICAgICAgICBpID0gdC5wYXJhbXMsCiAgICAgICAgICBhID0gdC4kd3JhcHBlckVsOwogICAgICBhLmNoaWxkcmVuKCIuIiArIGkuc2xpZGVDbGFzcyArICIuIiArIGkuc2xpZGVEdXBsaWNhdGVDbGFzcykucmVtb3ZlKCk7CiAgICAgIHZhciByID0gYS5jaGlsZHJlbigiLiIgKyBpLnNsaWRlQ2xhc3MpOwoKICAgICAgaWYgKGkubG9vcEZpbGxHcm91cFdpdGhCbGFuaykgewogICAgICAgIHZhciBuID0gaS5zbGlkZXNQZXJHcm91cCAtIHIubGVuZ3RoICUgaS5zbGlkZXNQZXJHcm91cDsKCiAgICAgICAgaWYgKG4gIT09IGkuc2xpZGVzUGVyR3JvdXApIHsKICAgICAgICAgIGZvciAodmFyIG8gPSAwOyBvIDwgbjsgbyArPSAxKSB7CiAgICAgICAgICAgIHZhciBsID0gcyhlLmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5hZGRDbGFzcyhpLnNsaWRlQ2xhc3MgKyAiICIgKyBpLnNsaWRlQmxhbmtDbGFzcyk7CiAgICAgICAgICAgIGEuYXBwZW5kKGwpOwogICAgICAgICAgfQoKICAgICAgICAgIHIgPSBhLmNoaWxkcmVuKCIuIiArIGkuc2xpZGVDbGFzcyk7CiAgICAgICAgfQogICAgICB9CgogICAgICAiYXV0byIgIT09IGkuc2xpZGVzUGVyVmlldyB8fCBpLmxvb3BlZFNsaWRlcyB8fCAoaS5sb29wZWRTbGlkZXMgPSByLmxlbmd0aCksIHQubG9vcGVkU2xpZGVzID0gTWF0aC5jZWlsKHBhcnNlRmxvYXQoaS5sb29wZWRTbGlkZXMgfHwgaS5zbGlkZXNQZXJWaWV3LCAxMCkpLCB0Lmxvb3BlZFNsaWRlcyArPSBpLmxvb3BBZGRpdGlvbmFsU2xpZGVzLCB0Lmxvb3BlZFNsaWRlcyA+IHIubGVuZ3RoICYmICh0Lmxvb3BlZFNsaWRlcyA9IHIubGVuZ3RoKTsKICAgICAgdmFyIGQgPSBbXSwKICAgICAgICAgIGggPSBbXTsKICAgICAgci5lYWNoKGZ1bmN0aW9uIChlLCBpKSB7CiAgICAgICAgdmFyIGEgPSBzKGkpOwogICAgICAgIGUgPCB0Lmxvb3BlZFNsaWRlcyAmJiBoLnB1c2goaSksIGUgPCByLmxlbmd0aCAmJiBlID49IHIubGVuZ3RoIC0gdC5sb29wZWRTbGlkZXMgJiYgZC5wdXNoKGkpLCBhLmF0dHIoImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4IiwgZSk7CiAgICAgIH0pOwoKICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBoLmxlbmd0aDsgcCArPSAxKSB7CiAgICAgICAgYS5hcHBlbmQocyhoW3BdLmNsb25lTm9kZSghMCkpLmFkZENsYXNzKGkuc2xpZGVEdXBsaWNhdGVDbGFzcykpOwogICAgICB9CgogICAgICBmb3IgKHZhciBjID0gZC5sZW5ndGggLSAxOyBjID49IDA7IGMgLT0gMSkgewogICAgICAgIGEucHJlcGVuZChzKGRbY10uY2xvbmVOb2RlKCEwKSkuYWRkQ2xhc3MoaS5zbGlkZUR1cGxpY2F0ZUNsYXNzKSk7CiAgICAgIH0KICAgIH0sCiAgICBsb29wRml4OiBmdW5jdGlvbiBsb29wRml4KCkgewogICAgICB0aGlzLmVtaXQoImJlZm9yZUxvb3BGaXgiKTsKICAgICAgdmFyIGUsCiAgICAgICAgICB0ID0gdGhpcy5hY3RpdmVJbmRleCwKICAgICAgICAgIGkgPSB0aGlzLnNsaWRlcywKICAgICAgICAgIHMgPSB0aGlzLmxvb3BlZFNsaWRlcywKICAgICAgICAgIGEgPSB0aGlzLmFsbG93U2xpZGVQcmV2LAogICAgICAgICAgciA9IHRoaXMuYWxsb3dTbGlkZU5leHQsCiAgICAgICAgICBuID0gdGhpcy5zbmFwR3JpZCwKICAgICAgICAgIG8gPSB0aGlzLnJ0bFRyYW5zbGF0ZTsKICAgICAgdGhpcy5hbGxvd1NsaWRlUHJldiA9ICEwLCB0aGlzLmFsbG93U2xpZGVOZXh0ID0gITA7CiAgICAgIHZhciBsID0gLW5bdF0gLSB0aGlzLmdldFRyYW5zbGF0ZSgpOwogICAgICBpZiAodCA8IHMpIGUgPSBpLmxlbmd0aCAtIDMgKiBzICsgdCwgZSArPSBzLCB0aGlzLnNsaWRlVG8oZSwgMCwgITEsICEwKSAmJiAwICE9PSBsICYmIHRoaXMuc2V0VHJhbnNsYXRlKChvID8gLXRoaXMudHJhbnNsYXRlIDogdGhpcy50cmFuc2xhdGUpIC0gbCk7ZWxzZSBpZiAodCA+PSBpLmxlbmd0aCAtIHMpIHsKICAgICAgICBlID0gLWkubGVuZ3RoICsgdCArIHMsIGUgKz0gcywgdGhpcy5zbGlkZVRvKGUsIDAsICExLCAhMCkgJiYgMCAhPT0gbCAmJiB0aGlzLnNldFRyYW5zbGF0ZSgobyA/IC10aGlzLnRyYW5zbGF0ZSA6IHRoaXMudHJhbnNsYXRlKSAtIGwpOwogICAgICB9CiAgICAgIHRoaXMuYWxsb3dTbGlkZVByZXYgPSBhLCB0aGlzLmFsbG93U2xpZGVOZXh0ID0gciwgdGhpcy5lbWl0KCJsb29wRml4Iik7CiAgICB9LAogICAgbG9vcERlc3Ryb3k6IGZ1bmN0aW9uIGxvb3BEZXN0cm95KCkgewogICAgICB2YXIgZSA9IHRoaXMuJHdyYXBwZXJFbCwKICAgICAgICAgIHQgPSB0aGlzLnBhcmFtcywKICAgICAgICAgIGkgPSB0aGlzLnNsaWRlczsKICAgICAgZS5jaGlsZHJlbigiLiIgKyB0LnNsaWRlQ2xhc3MgKyAiLiIgKyB0LnNsaWRlRHVwbGljYXRlQ2xhc3MgKyAiLC4iICsgdC5zbGlkZUNsYXNzICsgIi4iICsgdC5zbGlkZUJsYW5rQ2xhc3MpLnJlbW92ZSgpLCBpLnJlbW92ZUF0dHIoImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4Iik7CiAgICB9CiAgfTsKICB2YXIgZiA9IHsKICAgIHNldEdyYWJDdXJzb3I6IGZ1bmN0aW9uIHNldEdyYWJDdXJzb3IoZSkgewogICAgICBpZiAoIShvLnRvdWNoIHx8ICF0aGlzLnBhcmFtcy5zaW11bGF0ZVRvdWNoIHx8IHRoaXMucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgdGhpcy5pc0xvY2tlZCB8fCB0aGlzLnBhcmFtcy5jc3NNb2RlKSkgewogICAgICAgIHZhciB0ID0gdGhpcy5lbDsKICAgICAgICB0LnN0eWxlLmN1cnNvciA9ICJtb3ZlIiwgdC5zdHlsZS5jdXJzb3IgPSBlID8gIi13ZWJraXQtZ3JhYmJpbmciIDogIi13ZWJraXQtZ3JhYiIsIHQuc3R5bGUuY3Vyc29yID0gZSA/ICItbW96LWdyYWJiaW4iIDogIi1tb3otZ3JhYiIsIHQuc3R5bGUuY3Vyc29yID0gZSA/ICJncmFiYmluZyIgOiAiZ3JhYiI7CiAgICAgIH0KICAgIH0sCiAgICB1bnNldEdyYWJDdXJzb3I6IGZ1bmN0aW9uIHVuc2V0R3JhYkN1cnNvcigpIHsKICAgICAgby50b3VjaCB8fCB0aGlzLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIHRoaXMuaXNMb2NrZWQgfHwgdGhpcy5wYXJhbXMuY3NzTW9kZSB8fCAodGhpcy5lbC5zdHlsZS5jdXJzb3IgPSAiIik7CiAgICB9CiAgfTsKICB2YXIgbSwKICAgICAgZywKICAgICAgYiwKICAgICAgdywKICAgICAgeSwKICAgICAgeCwKICAgICAgVCwKICAgICAgRSwKICAgICAgUywKICAgICAgQywKICAgICAgTSwKICAgICAgUCwKICAgICAgeiwKICAgICAgaywKICAgICAgJCwKICAgICAgTCA9IHsKICAgIGFwcGVuZFNsaWRlOiBmdW5jdGlvbiBhcHBlbmRTbGlkZShlKSB7CiAgICAgIHZhciB0ID0gdGhpcy4kd3JhcHBlckVsLAogICAgICAgICAgaSA9IHRoaXMucGFyYW1zOwogICAgICBpZiAoaS5sb29wICYmIHRoaXMubG9vcERlc3Ryb3koKSwgIm9iamVjdCIgPT0gX3R5cGVvZihlKSAmJiAibGVuZ3RoIiBpbiBlKSBmb3IgKHZhciBzID0gMDsgcyA8IGUubGVuZ3RoOyBzICs9IDEpIHsKICAgICAgICBlW3NdICYmIHQuYXBwZW5kKGVbc10pOwogICAgICB9IGVsc2UgdC5hcHBlbmQoZSk7CiAgICAgIGkubG9vcCAmJiB0aGlzLmxvb3BDcmVhdGUoKSwgaS5vYnNlcnZlciAmJiBvLm9ic2VydmVyIHx8IHRoaXMudXBkYXRlKCk7CiAgICB9LAogICAgcHJlcGVuZFNsaWRlOiBmdW5jdGlvbiBwcmVwZW5kU2xpZGUoZSkgewogICAgICB2YXIgdCA9IHRoaXMucGFyYW1zLAogICAgICAgICAgaSA9IHRoaXMuJHdyYXBwZXJFbCwKICAgICAgICAgIHMgPSB0aGlzLmFjdGl2ZUluZGV4OwogICAgICB0Lmxvb3AgJiYgdGhpcy5sb29wRGVzdHJveSgpOwogICAgICB2YXIgYSA9IHMgKyAxOwoKICAgICAgaWYgKCJvYmplY3QiID09IF90eXBlb2YoZSkgJiYgImxlbmd0aCIgaW4gZSkgewogICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgZS5sZW5ndGg7IHIgKz0gMSkgewogICAgICAgICAgZVtyXSAmJiBpLnByZXBlbmQoZVtyXSk7CiAgICAgICAgfQoKICAgICAgICBhID0gcyArIGUubGVuZ3RoOwogICAgICB9IGVsc2UgaS5wcmVwZW5kKGUpOwoKICAgICAgdC5sb29wICYmIHRoaXMubG9vcENyZWF0ZSgpLCB0Lm9ic2VydmVyICYmIG8ub2JzZXJ2ZXIgfHwgdGhpcy51cGRhdGUoKSwgdGhpcy5zbGlkZVRvKGEsIDAsICExKTsKICAgIH0sCiAgICBhZGRTbGlkZTogZnVuY3Rpb24gYWRkU2xpZGUoZSwgdCkgewogICAgICB2YXIgaSA9IHRoaXMuJHdyYXBwZXJFbCwKICAgICAgICAgIHMgPSB0aGlzLnBhcmFtcywKICAgICAgICAgIGEgPSB0aGlzLmFjdGl2ZUluZGV4OwogICAgICBzLmxvb3AgJiYgKGEgLT0gdGhpcy5sb29wZWRTbGlkZXMsIHRoaXMubG9vcERlc3Ryb3koKSwgdGhpcy5zbGlkZXMgPSBpLmNoaWxkcmVuKCIuIiArIHMuc2xpZGVDbGFzcykpOwogICAgICB2YXIgciA9IHRoaXMuc2xpZGVzLmxlbmd0aDsKICAgICAgaWYgKGUgPD0gMCkgdGhpcy5wcmVwZW5kU2xpZGUodCk7ZWxzZSBpZiAoZSA+PSByKSB0aGlzLmFwcGVuZFNsaWRlKHQpO2Vsc2UgewogICAgICAgIGZvciAodmFyIG4gPSBhID4gZSA/IGEgKyAxIDogYSwgbCA9IFtdLCBkID0gciAtIDE7IGQgPj0gZTsgZCAtPSAxKSB7CiAgICAgICAgICB2YXIgaCA9IHRoaXMuc2xpZGVzLmVxKGQpOwogICAgICAgICAgaC5yZW1vdmUoKSwgbC51bnNoaWZ0KGgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKCJvYmplY3QiID09IF90eXBlb2YodCkgJiYgImxlbmd0aCIgaW4gdCkgewogICAgICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCB0Lmxlbmd0aDsgcCArPSAxKSB7CiAgICAgICAgICAgIHRbcF0gJiYgaS5hcHBlbmQodFtwXSk7CiAgICAgICAgICB9CgogICAgICAgICAgbiA9IGEgPiBlID8gYSArIHQubGVuZ3RoIDogYTsKICAgICAgICB9IGVsc2UgaS5hcHBlbmQodCk7CgogICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgbC5sZW5ndGg7IGMgKz0gMSkgewogICAgICAgICAgaS5hcHBlbmQobFtjXSk7CiAgICAgICAgfQoKICAgICAgICBzLmxvb3AgJiYgdGhpcy5sb29wQ3JlYXRlKCksIHMub2JzZXJ2ZXIgJiYgby5vYnNlcnZlciB8fCB0aGlzLnVwZGF0ZSgpLCBzLmxvb3AgPyB0aGlzLnNsaWRlVG8obiArIHRoaXMubG9vcGVkU2xpZGVzLCAwLCAhMSkgOiB0aGlzLnNsaWRlVG8obiwgMCwgITEpOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlU2xpZGU6IGZ1bmN0aW9uIHJlbW92ZVNsaWRlKGUpIHsKICAgICAgdmFyIHQgPSB0aGlzLnBhcmFtcywKICAgICAgICAgIGkgPSB0aGlzLiR3cmFwcGVyRWwsCiAgICAgICAgICBzID0gdGhpcy5hY3RpdmVJbmRleDsKICAgICAgdC5sb29wICYmIChzIC09IHRoaXMubG9vcGVkU2xpZGVzLCB0aGlzLmxvb3BEZXN0cm95KCksIHRoaXMuc2xpZGVzID0gaS5jaGlsZHJlbigiLiIgKyB0LnNsaWRlQ2xhc3MpKTsKICAgICAgdmFyIGEsCiAgICAgICAgICByID0gczsKCiAgICAgIGlmICgib2JqZWN0IiA9PSBfdHlwZW9mKGUpICYmICJsZW5ndGgiIGluIGUpIHsKICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGUubGVuZ3RoOyBuICs9IDEpIHsKICAgICAgICAgIGEgPSBlW25dLCB0aGlzLnNsaWRlc1thXSAmJiB0aGlzLnNsaWRlcy5lcShhKS5yZW1vdmUoKSwgYSA8IHIgJiYgKHIgLT0gMSk7CiAgICAgICAgfQoKICAgICAgICByID0gTWF0aC5tYXgociwgMCk7CiAgICAgIH0gZWxzZSBhID0gZSwgdGhpcy5zbGlkZXNbYV0gJiYgdGhpcy5zbGlkZXMuZXEoYSkucmVtb3ZlKCksIGEgPCByICYmIChyIC09IDEpLCByID0gTWF0aC5tYXgociwgMCk7CgogICAgICB0Lmxvb3AgJiYgdGhpcy5sb29wQ3JlYXRlKCksIHQub2JzZXJ2ZXIgJiYgby5vYnNlcnZlciB8fCB0aGlzLnVwZGF0ZSgpLCB0Lmxvb3AgPyB0aGlzLnNsaWRlVG8ociArIHRoaXMubG9vcGVkU2xpZGVzLCAwLCAhMSkgOiB0aGlzLnNsaWRlVG8ociwgMCwgITEpOwogICAgfSwKICAgIHJlbW92ZUFsbFNsaWRlczogZnVuY3Rpb24gcmVtb3ZlQWxsU2xpZGVzKCkgewogICAgICBmb3IgKHZhciBlID0gW10sIHQgPSAwOyB0IDwgdGhpcy5zbGlkZXMubGVuZ3RoOyB0ICs9IDEpIHsKICAgICAgICBlLnB1c2godCk7CiAgICAgIH0KCiAgICAgIHRoaXMucmVtb3ZlU2xpZGUoZSk7CiAgICB9CiAgfSwKICAgICAgSSA9IChtID0gdC5uYXZpZ2F0b3IucGxhdGZvcm0sIGcgPSB0Lm5hdmlnYXRvci51c2VyQWdlbnQsIGIgPSB7CiAgICBpb3M6ICExLAogICAgYW5kcm9pZDogITEsCiAgICBhbmRyb2lkQ2hyb21lOiAhMSwKICAgIGRlc2t0b3A6ICExLAogICAgaXBob25lOiAhMSwKICAgIGlwb2Q6ICExLAogICAgaXBhZDogITEsCiAgICBlZGdlOiAhMSwKICAgIGllOiAhMSwKICAgIGZpcmVmb3g6ICExLAogICAgbWFjb3M6ICExLAogICAgd2luZG93czogITEsCiAgICBjb3Jkb3ZhOiAhKCF0LmNvcmRvdmEgJiYgIXQucGhvbmVnYXApLAogICAgcGhvbmVnYXA6ICEoIXQuY29yZG92YSAmJiAhdC5waG9uZWdhcCksCiAgICBlbGVjdHJvbjogITEKICB9LCB3ID0gdC5zY3JlZW4ud2lkdGgsIHkgPSB0LnNjcmVlbi5oZWlnaHQsIHggPSBnLm1hdGNoKC8oQW5kcm9pZCk7P1tcc1wvXSsoW1xkLl0rKT8vKSwgVCA9IGcubWF0Y2goLyhpUGFkKS4qT1NccyhbXGRfXSspLyksIEUgPSBnLm1hdGNoKC8oaVBvZCkoLipPU1xzKFtcZF9dKykpPy8pLCBTID0gIVQgJiYgZy5tYXRjaCgvKGlQaG9uZVxzT1N8aU9TKVxzKFtcZF9dKykvKSwgQyA9IGcuaW5kZXhPZigiTVNJRSAiKSA+PSAwIHx8IGcuaW5kZXhPZigiVHJpZGVudC8iKSA+PSAwLCBNID0gZy5pbmRleE9mKCJFZGdlLyIpID49IDAsIFAgPSBnLmluZGV4T2YoIkdlY2tvLyIpID49IDAgJiYgZy5pbmRleE9mKCJGaXJlZm94LyIpID49IDAsIHogPSAiV2luMzIiID09PSBtLCBrID0gZy50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImVsZWN0cm9uIikgPj0gMCwgJCA9ICJNYWNJbnRlbCIgPT09IG0sICFUICYmICQgJiYgby50b3VjaCAmJiAoMTAyNCA9PT0gdyAmJiAxMzY2ID09PSB5IHx8IDgzNCA9PT0gdyAmJiAxMTk0ID09PSB5IHx8IDgzNCA9PT0gdyAmJiAxMTEyID09PSB5IHx8IDc2OCA9PT0gdyAmJiAxMDI0ID09PSB5KSAmJiAoVCA9IGcubWF0Y2goLyhWZXJzaW9uKVwvKFtcZC5dKykvKSwgJCA9ICExKSwgYi5pZSA9IEMsIGIuZWRnZSA9IE0sIGIuZmlyZWZveCA9IFAsIHggJiYgIXogJiYgKGIub3MgPSAiYW5kcm9pZCIsIGIub3NWZXJzaW9uID0geFsyXSwgYi5hbmRyb2lkID0gITAsIGIuYW5kcm9pZENocm9tZSA9IGcudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJjaHJvbWUiKSA+PSAwKSwgKFQgfHwgUyB8fCBFKSAmJiAoYi5vcyA9ICJpb3MiLCBiLmlvcyA9ICEwKSwgUyAmJiAhRSAmJiAoYi5vc1ZlcnNpb24gPSBTWzJdLnJlcGxhY2UoL18vZywgIi4iKSwgYi5pcGhvbmUgPSAhMCksIFQgJiYgKGIub3NWZXJzaW9uID0gVFsyXS5yZXBsYWNlKC9fL2csICIuIiksIGIuaXBhZCA9ICEwKSwgRSAmJiAoYi5vc1ZlcnNpb24gPSBFWzNdID8gRVszXS5yZXBsYWNlKC9fL2csICIuIikgOiBudWxsLCBiLmlwb2QgPSAhMCksIGIuaW9zICYmIGIub3NWZXJzaW9uICYmIGcuaW5kZXhPZigiVmVyc2lvbi8iKSA+PSAwICYmICIxMCIgPT09IGIub3NWZXJzaW9uLnNwbGl0KCIuIilbMF0gJiYgKGIub3NWZXJzaW9uID0gZy50b0xvd2VyQ2FzZSgpLnNwbGl0KCJ2ZXJzaW9uLyIpWzFdLnNwbGl0KCIgIilbMF0pLCBiLndlYlZpZXcgPSAhKCEoUyB8fCBUIHx8IEUpIHx8ICFnLm1hdGNoKC8uKkFwcGxlV2ViS2l0KD8hLipTYWZhcmkpL2kpICYmICF0Lm5hdmlnYXRvci5zdGFuZGFsb25lKSB8fCB0Lm1hdGNoTWVkaWEgJiYgdC5tYXRjaE1lZGlhKCIoZGlzcGxheS1tb2RlOiBzdGFuZGFsb25lKSIpLm1hdGNoZXMsIGIud2VidmlldyA9IGIud2ViVmlldywgYi5zdGFuZGFsb25lID0gYi53ZWJWaWV3LCBiLmRlc2t0b3AgPSAhKGIuaW9zIHx8IGIuYW5kcm9pZCkgfHwgaywgYi5kZXNrdG9wICYmIChiLmVsZWN0cm9uID0gaywgYi5tYWNvcyA9ICQsIGIud2luZG93cyA9IHosIGIubWFjb3MgJiYgKGIub3MgPSAibWFjb3MiKSwgYi53aW5kb3dzICYmIChiLm9zID0gIndpbmRvd3MiKSksIGIucGl4ZWxSYXRpbyA9IHQuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxLCBiKTsKCiAgZnVuY3Rpb24gRChpKSB7CiAgICB2YXIgYSA9IHRoaXMudG91Y2hFdmVudHNEYXRhLAogICAgICAgIHIgPSB0aGlzLnBhcmFtcywKICAgICAgICBvID0gdGhpcy50b3VjaGVzOwoKICAgIGlmICghdGhpcy5hbmltYXRpbmcgfHwgIXIucHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uKSB7CiAgICAgIHZhciBsID0gaTsKICAgICAgbC5vcmlnaW5hbEV2ZW50ICYmIChsID0gbC5vcmlnaW5hbEV2ZW50KTsKICAgICAgdmFyIGQgPSBzKGwudGFyZ2V0KTsKICAgICAgaWYgKCgid3JhcHBlciIgIT09IHIudG91Y2hFdmVudHNUYXJnZXQgfHwgZC5jbG9zZXN0KHRoaXMud3JhcHBlckVsKS5sZW5ndGgpICYmIChhLmlzVG91Y2hFdmVudCA9ICJ0b3VjaHN0YXJ0IiA9PT0gbC50eXBlLCAoYS5pc1RvdWNoRXZlbnQgfHwgISgid2hpY2giIGluIGwpIHx8IDMgIT09IGwud2hpY2gpICYmICEoIWEuaXNUb3VjaEV2ZW50ICYmICJidXR0b24iIGluIGwgJiYgbC5idXR0b24gPiAwIHx8IGEuaXNUb3VjaGVkICYmIGEuaXNNb3ZlZCkpKSBpZiAoci5ub1N3aXBpbmcgJiYgZC5jbG9zZXN0KHIubm9Td2lwaW5nU2VsZWN0b3IgPyByLm5vU3dpcGluZ1NlbGVjdG9yIDogIi4iICsgci5ub1N3aXBpbmdDbGFzcylbMF0pIHRoaXMuYWxsb3dDbGljayA9ICEwO2Vsc2UgaWYgKCFyLnN3aXBlSGFuZGxlciB8fCBkLmNsb3Nlc3Qoci5zd2lwZUhhbmRsZXIpWzBdKSB7CiAgICAgICAgby5jdXJyZW50WCA9ICJ0b3VjaHN0YXJ0IiA9PT0gbC50eXBlID8gbC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIDogbC5wYWdlWCwgby5jdXJyZW50WSA9ICJ0b3VjaHN0YXJ0IiA9PT0gbC50eXBlID8gbC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZIDogbC5wYWdlWTsKICAgICAgICB2YXIgaCA9IG8uY3VycmVudFgsCiAgICAgICAgICAgIHAgPSBvLmN1cnJlbnRZLAogICAgICAgICAgICBjID0gci5lZGdlU3dpcGVEZXRlY3Rpb24gfHwgci5pT1NFZGdlU3dpcGVEZXRlY3Rpb24sCiAgICAgICAgICAgIHUgPSByLmVkZ2VTd2lwZVRocmVzaG9sZCB8fCByLmlPU0VkZ2VTd2lwZVRocmVzaG9sZDsKCiAgICAgICAgaWYgKCFjIHx8ICEoaCA8PSB1IHx8IGggPj0gdC5zY3JlZW4ud2lkdGggLSB1KSkgewogICAgICAgICAgaWYgKG4uZXh0ZW5kKGEsIHsKICAgICAgICAgICAgaXNUb3VjaGVkOiAhMCwKICAgICAgICAgICAgaXNNb3ZlZDogITEsCiAgICAgICAgICAgIGFsbG93VG91Y2hDYWxsYmFja3M6ICEwLAogICAgICAgICAgICBpc1Njcm9sbGluZzogdm9pZCAwLAogICAgICAgICAgICBzdGFydE1vdmluZzogdm9pZCAwCiAgICAgICAgICB9KSwgby5zdGFydFggPSBoLCBvLnN0YXJ0WSA9IHAsIGEudG91Y2hTdGFydFRpbWUgPSBuLm5vdygpLCB0aGlzLmFsbG93Q2xpY2sgPSAhMCwgdGhpcy51cGRhdGVTaXplKCksIHRoaXMuc3dpcGVEaXJlY3Rpb24gPSB2b2lkIDAsIHIudGhyZXNob2xkID4gMCAmJiAoYS5hbGxvd1RocmVzaG9sZE1vdmUgPSAhMSksICJ0b3VjaHN0YXJ0IiAhPT0gbC50eXBlKSB7CiAgICAgICAgICAgIHZhciB2ID0gITA7CiAgICAgICAgICAgIGQuaXMoYS5mb3JtRWxlbWVudHMpICYmICh2ID0gITEpLCBlLmFjdGl2ZUVsZW1lbnQgJiYgcyhlLmFjdGl2ZUVsZW1lbnQpLmlzKGEuZm9ybUVsZW1lbnRzKSAmJiBlLmFjdGl2ZUVsZW1lbnQgIT09IGRbMF0gJiYgZS5hY3RpdmVFbGVtZW50LmJsdXIoKTsKICAgICAgICAgICAgdmFyIGYgPSB2ICYmIHRoaXMuYWxsb3dUb3VjaE1vdmUgJiYgci50b3VjaFN0YXJ0UHJldmVudERlZmF1bHQ7CiAgICAgICAgICAgIChyLnRvdWNoU3RhcnRGb3JjZVByZXZlbnREZWZhdWx0IHx8IGYpICYmIGwucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmVtaXQoInRvdWNoU3RhcnQiLCBsKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIE8odCkgewogICAgdmFyIGkgPSB0aGlzLnRvdWNoRXZlbnRzRGF0YSwKICAgICAgICBhID0gdGhpcy5wYXJhbXMsCiAgICAgICAgciA9IHRoaXMudG91Y2hlcywKICAgICAgICBvID0gdGhpcy5ydGxUcmFuc2xhdGUsCiAgICAgICAgbCA9IHQ7CgogICAgaWYgKGwub3JpZ2luYWxFdmVudCAmJiAobCA9IGwub3JpZ2luYWxFdmVudCksIGkuaXNUb3VjaGVkKSB7CiAgICAgIGlmICghaS5pc1RvdWNoRXZlbnQgfHwgIm1vdXNlbW92ZSIgIT09IGwudHlwZSkgewogICAgICAgIHZhciBkID0gInRvdWNobW92ZSIgPT09IGwudHlwZSAmJiBsLnRhcmdldFRvdWNoZXMgJiYgKGwudGFyZ2V0VG91Y2hlc1swXSB8fCBsLmNoYW5nZWRUb3VjaGVzWzBdKSwKICAgICAgICAgICAgaCA9ICJ0b3VjaG1vdmUiID09PSBsLnR5cGUgPyBkLnBhZ2VYIDogbC5wYWdlWCwKICAgICAgICAgICAgcCA9ICJ0b3VjaG1vdmUiID09PSBsLnR5cGUgPyBkLnBhZ2VZIDogbC5wYWdlWTsKICAgICAgICBpZiAobC5wcmV2ZW50ZWRCeU5lc3RlZFN3aXBlcikgcmV0dXJuIHIuc3RhcnRYID0gaCwgdm9pZCAoci5zdGFydFkgPSBwKTsKICAgICAgICBpZiAoIXRoaXMuYWxsb3dUb3VjaE1vdmUpIHJldHVybiB0aGlzLmFsbG93Q2xpY2sgPSAhMSwgdm9pZCAoaS5pc1RvdWNoZWQgJiYgKG4uZXh0ZW5kKHIsIHsKICAgICAgICAgIHN0YXJ0WDogaCwKICAgICAgICAgIHN0YXJ0WTogcCwKICAgICAgICAgIGN1cnJlbnRYOiBoLAogICAgICAgICAgY3VycmVudFk6IHAKICAgICAgICB9KSwgaS50b3VjaFN0YXJ0VGltZSA9IG4ubm93KCkpKTsKICAgICAgICBpZiAoaS5pc1RvdWNoRXZlbnQgJiYgYS50b3VjaFJlbGVhc2VPbkVkZ2VzICYmICFhLmxvb3ApIGlmICh0aGlzLmlzVmVydGljYWwoKSkgewogICAgICAgICAgaWYgKHAgPCByLnN0YXJ0WSAmJiB0aGlzLnRyYW5zbGF0ZSA8PSB0aGlzLm1heFRyYW5zbGF0ZSgpIHx8IHAgPiByLnN0YXJ0WSAmJiB0aGlzLnRyYW5zbGF0ZSA+PSB0aGlzLm1pblRyYW5zbGF0ZSgpKSByZXR1cm4gaS5pc1RvdWNoZWQgPSAhMSwgdm9pZCAoaS5pc01vdmVkID0gITEpOwogICAgICAgIH0gZWxzZSBpZiAoaCA8IHIuc3RhcnRYICYmIHRoaXMudHJhbnNsYXRlIDw9IHRoaXMubWF4VHJhbnNsYXRlKCkgfHwgaCA+IHIuc3RhcnRYICYmIHRoaXMudHJhbnNsYXRlID49IHRoaXMubWluVHJhbnNsYXRlKCkpIHJldHVybjsKICAgICAgICBpZiAoaS5pc1RvdWNoRXZlbnQgJiYgZS5hY3RpdmVFbGVtZW50ICYmIGwudGFyZ2V0ID09PSBlLmFjdGl2ZUVsZW1lbnQgJiYgcyhsLnRhcmdldCkuaXMoaS5mb3JtRWxlbWVudHMpKSByZXR1cm4gaS5pc01vdmVkID0gITAsIHZvaWQgKHRoaXMuYWxsb3dDbGljayA9ICExKTsKCiAgICAgICAgaWYgKGkuYWxsb3dUb3VjaENhbGxiYWNrcyAmJiB0aGlzLmVtaXQoInRvdWNoTW92ZSIsIGwpLCAhKGwudGFyZ2V0VG91Y2hlcyAmJiBsLnRhcmdldFRvdWNoZXMubGVuZ3RoID4gMSkpIHsKICAgICAgICAgIHIuY3VycmVudFggPSBoLCByLmN1cnJlbnRZID0gcDsKICAgICAgICAgIHZhciBjID0gci5jdXJyZW50WCAtIHIuc3RhcnRYLAogICAgICAgICAgICAgIHUgPSByLmN1cnJlbnRZIC0gci5zdGFydFk7CgogICAgICAgICAgaWYgKCEodGhpcy5wYXJhbXMudGhyZXNob2xkICYmIE1hdGguc3FydChNYXRoLnBvdyhjLCAyKSArIE1hdGgucG93KHUsIDIpKSA8IHRoaXMucGFyYW1zLnRocmVzaG9sZCkpIHsKICAgICAgICAgICAgdmFyIHY7CiAgICAgICAgICAgIGlmICh2b2lkIDAgPT09IGkuaXNTY3JvbGxpbmcpIHRoaXMuaXNIb3Jpem9udGFsKCkgJiYgci5jdXJyZW50WSA9PT0gci5zdGFydFkgfHwgdGhpcy5pc1ZlcnRpY2FsKCkgJiYgci5jdXJyZW50WCA9PT0gci5zdGFydFggPyBpLmlzU2Nyb2xsaW5nID0gITEgOiBjICogYyArIHUgKiB1ID49IDI1ICYmICh2ID0gMTgwICogTWF0aC5hdGFuMihNYXRoLmFicyh1KSwgTWF0aC5hYnMoYykpIC8gTWF0aC5QSSwgaS5pc1Njcm9sbGluZyA9IHRoaXMuaXNIb3Jpem9udGFsKCkgPyB2ID4gYS50b3VjaEFuZ2xlIDogOTAgLSB2ID4gYS50b3VjaEFuZ2xlKTsKICAgICAgICAgICAgaWYgKGkuaXNTY3JvbGxpbmcgJiYgdGhpcy5lbWl0KCJ0b3VjaE1vdmVPcHBvc2l0ZSIsIGwpLCB2b2lkIDAgPT09IGkuc3RhcnRNb3ZpbmcgJiYgKHIuY3VycmVudFggPT09IHIuc3RhcnRYICYmIHIuY3VycmVudFkgPT09IHIuc3RhcnRZIHx8IChpLnN0YXJ0TW92aW5nID0gITApKSwgaS5pc1Njcm9sbGluZykgaS5pc1RvdWNoZWQgPSAhMTtlbHNlIGlmIChpLnN0YXJ0TW92aW5nKSB7CiAgICAgICAgICAgICAgdGhpcy5hbGxvd0NsaWNrID0gITEsIGEuY3NzTW9kZSB8fCBsLnByZXZlbnREZWZhdWx0KCksIGEudG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uICYmICFhLm5lc3RlZCAmJiBsLnN0b3BQcm9wYWdhdGlvbigpLCBpLmlzTW92ZWQgfHwgKGEubG9vcCAmJiB0aGlzLmxvb3BGaXgoKSwgaS5zdGFydFRyYW5zbGF0ZSA9IHRoaXMuZ2V0VHJhbnNsYXRlKCksIHRoaXMuc2V0VHJhbnNpdGlvbigwKSwgdGhpcy5hbmltYXRpbmcgJiYgdGhpcy4kd3JhcHBlckVsLnRyaWdnZXIoIndlYmtpdFRyYW5zaXRpb25FbmQgdHJhbnNpdGlvbmVuZCIpLCBpLmFsbG93TW9tZW50dW1Cb3VuY2UgPSAhMSwgIWEuZ3JhYkN1cnNvciB8fCAhMCAhPT0gdGhpcy5hbGxvd1NsaWRlTmV4dCAmJiAhMCAhPT0gdGhpcy5hbGxvd1NsaWRlUHJldiB8fCB0aGlzLnNldEdyYWJDdXJzb3IoITApLCB0aGlzLmVtaXQoInNsaWRlckZpcnN0TW92ZSIsIGwpKSwgdGhpcy5lbWl0KCJzbGlkZXJNb3ZlIiwgbCksIGkuaXNNb3ZlZCA9ICEwOwogICAgICAgICAgICAgIHZhciBmID0gdGhpcy5pc0hvcml6b250YWwoKSA/IGMgOiB1OwogICAgICAgICAgICAgIHIuZGlmZiA9IGYsIGYgKj0gYS50b3VjaFJhdGlvLCBvICYmIChmID0gLWYpLCB0aGlzLnN3aXBlRGlyZWN0aW9uID0gZiA+IDAgPyAicHJldiIgOiAibmV4dCIsIGkuY3VycmVudFRyYW5zbGF0ZSA9IGYgKyBpLnN0YXJ0VHJhbnNsYXRlOwogICAgICAgICAgICAgIHZhciBtID0gITAsCiAgICAgICAgICAgICAgICAgIGcgPSBhLnJlc2lzdGFuY2VSYXRpbzsKCiAgICAgICAgICAgICAgaWYgKGEudG91Y2hSZWxlYXNlT25FZGdlcyAmJiAoZyA9IDApLCBmID4gMCAmJiBpLmN1cnJlbnRUcmFuc2xhdGUgPiB0aGlzLm1pblRyYW5zbGF0ZSgpID8gKG0gPSAhMSwgYS5yZXNpc3RhbmNlICYmIChpLmN1cnJlbnRUcmFuc2xhdGUgPSB0aGlzLm1pblRyYW5zbGF0ZSgpIC0gMSArIE1hdGgucG93KC10aGlzLm1pblRyYW5zbGF0ZSgpICsgaS5zdGFydFRyYW5zbGF0ZSArIGYsIGcpKSkgOiBmIDwgMCAmJiBpLmN1cnJlbnRUcmFuc2xhdGUgPCB0aGlzLm1heFRyYW5zbGF0ZSgpICYmIChtID0gITEsIGEucmVzaXN0YW5jZSAmJiAoaS5jdXJyZW50VHJhbnNsYXRlID0gdGhpcy5tYXhUcmFuc2xhdGUoKSArIDEgLSBNYXRoLnBvdyh0aGlzLm1heFRyYW5zbGF0ZSgpIC0gaS5zdGFydFRyYW5zbGF0ZSAtIGYsIGcpKSksIG0gJiYgKGwucHJldmVudGVkQnlOZXN0ZWRTd2lwZXIgPSAhMCksICF0aGlzLmFsbG93U2xpZGVOZXh0ICYmICJuZXh0IiA9PT0gdGhpcy5zd2lwZURpcmVjdGlvbiAmJiBpLmN1cnJlbnRUcmFuc2xhdGUgPCBpLnN0YXJ0VHJhbnNsYXRlICYmIChpLmN1cnJlbnRUcmFuc2xhdGUgPSBpLnN0YXJ0VHJhbnNsYXRlKSwgIXRoaXMuYWxsb3dTbGlkZVByZXYgJiYgInByZXYiID09PSB0aGlzLnN3aXBlRGlyZWN0aW9uICYmIGkuY3VycmVudFRyYW5zbGF0ZSA+IGkuc3RhcnRUcmFuc2xhdGUgJiYgKGkuY3VycmVudFRyYW5zbGF0ZSA9IGkuc3RhcnRUcmFuc2xhdGUpLCBhLnRocmVzaG9sZCA+IDApIHsKICAgICAgICAgICAgICAgIGlmICghKE1hdGguYWJzKGYpID4gYS50aHJlc2hvbGQgfHwgaS5hbGxvd1RocmVzaG9sZE1vdmUpKSByZXR1cm4gdm9pZCAoaS5jdXJyZW50VHJhbnNsYXRlID0gaS5zdGFydFRyYW5zbGF0ZSk7CiAgICAgICAgICAgICAgICBpZiAoIWkuYWxsb3dUaHJlc2hvbGRNb3ZlKSByZXR1cm4gaS5hbGxvd1RocmVzaG9sZE1vdmUgPSAhMCwgci5zdGFydFggPSByLmN1cnJlbnRYLCByLnN0YXJ0WSA9IHIuY3VycmVudFksIGkuY3VycmVudFRyYW5zbGF0ZSA9IGkuc3RhcnRUcmFuc2xhdGUsIHZvaWQgKHIuZGlmZiA9IHRoaXMuaXNIb3Jpem9udGFsKCkgPyByLmN1cnJlbnRYIC0gci5zdGFydFggOiByLmN1cnJlbnRZIC0gci5zdGFydFkpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgYS5mb2xsb3dGaW5nZXIgJiYgIWEuY3NzTW9kZSAmJiAoKGEuZnJlZU1vZGUgfHwgYS53YXRjaFNsaWRlc1Byb2dyZXNzIHx8IGEud2F0Y2hTbGlkZXNWaXNpYmlsaXR5KSAmJiAodGhpcy51cGRhdGVBY3RpdmVJbmRleCgpLCB0aGlzLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKSksIGEuZnJlZU1vZGUgJiYgKDAgPT09IGkudmVsb2NpdGllcy5sZW5ndGggJiYgaS52ZWxvY2l0aWVzLnB1c2goewogICAgICAgICAgICAgICAgcG9zaXRpb246IHJbdGhpcy5pc0hvcml6b250YWwoKSA/ICJzdGFydFgiIDogInN0YXJ0WSJdLAogICAgICAgICAgICAgICAgdGltZTogaS50b3VjaFN0YXJ0VGltZQogICAgICAgICAgICAgIH0pLCBpLnZlbG9jaXRpZXMucHVzaCh7CiAgICAgICAgICAgICAgICBwb3NpdGlvbjogclt0aGlzLmlzSG9yaXpvbnRhbCgpID8gImN1cnJlbnRYIiA6ICJjdXJyZW50WSJdLAogICAgICAgICAgICAgICAgdGltZTogbi5ub3coKQogICAgICAgICAgICAgIH0pKSwgdGhpcy51cGRhdGVQcm9ncmVzcyhpLmN1cnJlbnRUcmFuc2xhdGUpLCB0aGlzLnNldFRyYW5zbGF0ZShpLmN1cnJlbnRUcmFuc2xhdGUpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGkuc3RhcnRNb3ZpbmcgJiYgaS5pc1Njcm9sbGluZyAmJiB0aGlzLmVtaXQoInRvdWNoTW92ZU9wcG9zaXRlIiwgbCk7CiAgfQoKICBmdW5jdGlvbiBBKGUpIHsKICAgIHZhciB0ID0gdGhpcywKICAgICAgICBpID0gdC50b3VjaEV2ZW50c0RhdGEsCiAgICAgICAgcyA9IHQucGFyYW1zLAogICAgICAgIGEgPSB0LnRvdWNoZXMsCiAgICAgICAgciA9IHQucnRsVHJhbnNsYXRlLAogICAgICAgIG8gPSB0LiR3cmFwcGVyRWwsCiAgICAgICAgbCA9IHQuc2xpZGVzR3JpZCwKICAgICAgICBkID0gdC5zbmFwR3JpZCwKICAgICAgICBoID0gZTsKICAgIGlmIChoLm9yaWdpbmFsRXZlbnQgJiYgKGggPSBoLm9yaWdpbmFsRXZlbnQpLCBpLmFsbG93VG91Y2hDYWxsYmFja3MgJiYgdC5lbWl0KCJ0b3VjaEVuZCIsIGgpLCBpLmFsbG93VG91Y2hDYWxsYmFja3MgPSAhMSwgIWkuaXNUb3VjaGVkKSByZXR1cm4gaS5pc01vdmVkICYmIHMuZ3JhYkN1cnNvciAmJiB0LnNldEdyYWJDdXJzb3IoITEpLCBpLmlzTW92ZWQgPSAhMSwgdm9pZCAoaS5zdGFydE1vdmluZyA9ICExKTsKICAgIHMuZ3JhYkN1cnNvciAmJiBpLmlzTW92ZWQgJiYgaS5pc1RvdWNoZWQgJiYgKCEwID09PSB0LmFsbG93U2xpZGVOZXh0IHx8ICEwID09PSB0LmFsbG93U2xpZGVQcmV2KSAmJiB0LnNldEdyYWJDdXJzb3IoITEpOwogICAgdmFyIHAsCiAgICAgICAgYyA9IG4ubm93KCksCiAgICAgICAgdSA9IGMgLSBpLnRvdWNoU3RhcnRUaW1lOwogICAgaWYgKHQuYWxsb3dDbGljayAmJiAodC51cGRhdGVDbGlja2VkU2xpZGUoaCksIHQuZW1pdCgidGFwIGNsaWNrIiwgaCksIHUgPCAzMDAgJiYgYyAtIGkubGFzdENsaWNrVGltZSA8IDMwMCAmJiB0LmVtaXQoImRvdWJsZVRhcCBkb3VibGVDbGljayIsIGgpKSwgaS5sYXN0Q2xpY2tUaW1lID0gbi5ub3coKSwgbi5uZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIHQuZGVzdHJveWVkIHx8ICh0LmFsbG93Q2xpY2sgPSAhMCk7CiAgICB9KSwgIWkuaXNUb3VjaGVkIHx8ICFpLmlzTW92ZWQgfHwgIXQuc3dpcGVEaXJlY3Rpb24gfHwgMCA9PT0gYS5kaWZmIHx8IGkuY3VycmVudFRyYW5zbGF0ZSA9PT0gaS5zdGFydFRyYW5zbGF0ZSkgcmV0dXJuIGkuaXNUb3VjaGVkID0gITEsIGkuaXNNb3ZlZCA9ICExLCB2b2lkIChpLnN0YXJ0TW92aW5nID0gITEpOwogICAgaWYgKGkuaXNUb3VjaGVkID0gITEsIGkuaXNNb3ZlZCA9ICExLCBpLnN0YXJ0TW92aW5nID0gITEsIHAgPSBzLmZvbGxvd0ZpbmdlciA/IHIgPyB0LnRyYW5zbGF0ZSA6IC10LnRyYW5zbGF0ZSA6IC1pLmN1cnJlbnRUcmFuc2xhdGUsICFzLmNzc01vZGUpIGlmIChzLmZyZWVNb2RlKSB7CiAgICAgIGlmIChwIDwgLXQubWluVHJhbnNsYXRlKCkpIHJldHVybiB2b2lkIHQuc2xpZGVUbyh0LmFjdGl2ZUluZGV4KTsKICAgICAgaWYgKHAgPiAtdC5tYXhUcmFuc2xhdGUoKSkgcmV0dXJuIHZvaWQgKHQuc2xpZGVzLmxlbmd0aCA8IGQubGVuZ3RoID8gdC5zbGlkZVRvKGQubGVuZ3RoIC0gMSkgOiB0LnNsaWRlVG8odC5zbGlkZXMubGVuZ3RoIC0gMSkpOwoKICAgICAgaWYgKHMuZnJlZU1vZGVNb21lbnR1bSkgewogICAgICAgIGlmIChpLnZlbG9jaXRpZXMubGVuZ3RoID4gMSkgewogICAgICAgICAgdmFyIHYgPSBpLnZlbG9jaXRpZXMucG9wKCksCiAgICAgICAgICAgICAgZiA9IGkudmVsb2NpdGllcy5wb3AoKSwKICAgICAgICAgICAgICBtID0gdi5wb3NpdGlvbiAtIGYucG9zaXRpb24sCiAgICAgICAgICAgICAgZyA9IHYudGltZSAtIGYudGltZTsKICAgICAgICAgIHQudmVsb2NpdHkgPSBtIC8gZywgdC52ZWxvY2l0eSAvPSAyLCBNYXRoLmFicyh0LnZlbG9jaXR5KSA8IHMuZnJlZU1vZGVNaW5pbXVtVmVsb2NpdHkgJiYgKHQudmVsb2NpdHkgPSAwKSwgKGcgPiAxNTAgfHwgbi5ub3coKSAtIHYudGltZSA+IDMwMCkgJiYgKHQudmVsb2NpdHkgPSAwKTsKICAgICAgICB9IGVsc2UgdC52ZWxvY2l0eSA9IDA7CgogICAgICAgIHQudmVsb2NpdHkgKj0gcy5mcmVlTW9kZU1vbWVudHVtVmVsb2NpdHlSYXRpbywgaS52ZWxvY2l0aWVzLmxlbmd0aCA9IDA7CiAgICAgICAgdmFyIGIgPSAxZTMgKiBzLmZyZWVNb2RlTW9tZW50dW1SYXRpbywKICAgICAgICAgICAgdyA9IHQudmVsb2NpdHkgKiBiLAogICAgICAgICAgICB5ID0gdC50cmFuc2xhdGUgKyB3OwogICAgICAgIHIgJiYgKHkgPSAteSk7CiAgICAgICAgdmFyIHgsCiAgICAgICAgICAgIFQsCiAgICAgICAgICAgIEUgPSAhMSwKICAgICAgICAgICAgUyA9IDIwICogTWF0aC5hYnModC52ZWxvY2l0eSkgKiBzLmZyZWVNb2RlTW9tZW50dW1Cb3VuY2VSYXRpbzsKICAgICAgICBpZiAoeSA8IHQubWF4VHJhbnNsYXRlKCkpIHMuZnJlZU1vZGVNb21lbnR1bUJvdW5jZSA/ICh5ICsgdC5tYXhUcmFuc2xhdGUoKSA8IC1TICYmICh5ID0gdC5tYXhUcmFuc2xhdGUoKSAtIFMpLCB4ID0gdC5tYXhUcmFuc2xhdGUoKSwgRSA9ICEwLCBpLmFsbG93TW9tZW50dW1Cb3VuY2UgPSAhMCkgOiB5ID0gdC5tYXhUcmFuc2xhdGUoKSwgcy5sb29wICYmIHMuY2VudGVyZWRTbGlkZXMgJiYgKFQgPSAhMCk7ZWxzZSBpZiAoeSA+IHQubWluVHJhbnNsYXRlKCkpIHMuZnJlZU1vZGVNb21lbnR1bUJvdW5jZSA/ICh5IC0gdC5taW5UcmFuc2xhdGUoKSA+IFMgJiYgKHkgPSB0Lm1pblRyYW5zbGF0ZSgpICsgUyksIHggPSB0Lm1pblRyYW5zbGF0ZSgpLCBFID0gITAsIGkuYWxsb3dNb21lbnR1bUJvdW5jZSA9ICEwKSA6IHkgPSB0Lm1pblRyYW5zbGF0ZSgpLCBzLmxvb3AgJiYgcy5jZW50ZXJlZFNsaWRlcyAmJiAoVCA9ICEwKTtlbHNlIGlmIChzLmZyZWVNb2RlU3RpY2t5KSB7CiAgICAgICAgICBmb3IgKHZhciBDLCBNID0gMDsgTSA8IGQubGVuZ3RoOyBNICs9IDEpIHsKICAgICAgICAgICAgaWYgKGRbTV0gPiAteSkgewogICAgICAgICAgICAgIEMgPSBNOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgeSA9IC0oeSA9IE1hdGguYWJzKGRbQ10gLSB5KSA8IE1hdGguYWJzKGRbQyAtIDFdIC0geSkgfHwgIm5leHQiID09PSB0LnN3aXBlRGlyZWN0aW9uID8gZFtDXSA6IGRbQyAtIDFdKTsKICAgICAgICB9CgogICAgICAgIGlmIChUICYmIHQub25jZSgidHJhbnNpdGlvbkVuZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHQubG9vcEZpeCgpOwogICAgICAgIH0pLCAwICE9PSB0LnZlbG9jaXR5KSB7CiAgICAgICAgICBpZiAoYiA9IHIgPyBNYXRoLmFicygoLXkgLSB0LnRyYW5zbGF0ZSkgLyB0LnZlbG9jaXR5KSA6IE1hdGguYWJzKCh5IC0gdC50cmFuc2xhdGUpIC8gdC52ZWxvY2l0eSksIHMuZnJlZU1vZGVTdGlja3kpIHsKICAgICAgICAgICAgdmFyIFAgPSBNYXRoLmFicygociA/IC15IDogeSkgLSB0LnRyYW5zbGF0ZSksCiAgICAgICAgICAgICAgICB6ID0gdC5zbGlkZXNTaXplc0dyaWRbdC5hY3RpdmVJbmRleF07CiAgICAgICAgICAgIGIgPSBQIDwgeiA/IHMuc3BlZWQgOiBQIDwgMiAqIHogPyAxLjUgKiBzLnNwZWVkIDogMi41ICogcy5zcGVlZDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHMuZnJlZU1vZGVTdGlja3kpIHJldHVybiB2b2lkIHQuc2xpZGVUb0Nsb3Nlc3QoKTsKCiAgICAgICAgcy5mcmVlTW9kZU1vbWVudHVtQm91bmNlICYmIEUgPyAodC51cGRhdGVQcm9ncmVzcyh4KSwgdC5zZXRUcmFuc2l0aW9uKGIpLCB0LnNldFRyYW5zbGF0ZSh5KSwgdC50cmFuc2l0aW9uU3RhcnQoITAsIHQuc3dpcGVEaXJlY3Rpb24pLCB0LmFuaW1hdGluZyA9ICEwLCBvLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24gKCkgewogICAgICAgICAgdCAmJiAhdC5kZXN0cm95ZWQgJiYgaS5hbGxvd01vbWVudHVtQm91bmNlICYmICh0LmVtaXQoIm1vbWVudHVtQm91bmNlIiksIHQuc2V0VHJhbnNpdGlvbihzLnNwZWVkKSwgdC5zZXRUcmFuc2xhdGUoeCksIG8udHJhbnNpdGlvbkVuZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHQgJiYgIXQuZGVzdHJveWVkICYmIHQudHJhbnNpdGlvbkVuZCgpOwogICAgICAgICAgfSkpOwogICAgICAgIH0pKSA6IHQudmVsb2NpdHkgPyAodC51cGRhdGVQcm9ncmVzcyh5KSwgdC5zZXRUcmFuc2l0aW9uKGIpLCB0LnNldFRyYW5zbGF0ZSh5KSwgdC50cmFuc2l0aW9uU3RhcnQoITAsIHQuc3dpcGVEaXJlY3Rpb24pLCB0LmFuaW1hdGluZyB8fCAodC5hbmltYXRpbmcgPSAhMCwgby50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHQgJiYgIXQuZGVzdHJveWVkICYmIHQudHJhbnNpdGlvbkVuZCgpOwogICAgICAgIH0pKSkgOiB0LnVwZGF0ZVByb2dyZXNzKHkpLCB0LnVwZGF0ZUFjdGl2ZUluZGV4KCksIHQudXBkYXRlU2xpZGVzQ2xhc3NlcygpOwogICAgICB9IGVsc2UgaWYgKHMuZnJlZU1vZGVTdGlja3kpIHJldHVybiB2b2lkIHQuc2xpZGVUb0Nsb3Nlc3QoKTsKCiAgICAgICghcy5mcmVlTW9kZU1vbWVudHVtIHx8IHUgPj0gcy5sb25nU3dpcGVzTXMpICYmICh0LnVwZGF0ZVByb2dyZXNzKCksIHQudXBkYXRlQWN0aXZlSW5kZXgoKSwgdC51cGRhdGVTbGlkZXNDbGFzc2VzKCkpOwogICAgfSBlbHNlIHsKICAgICAgZm9yICh2YXIgayA9IDAsICQgPSB0LnNsaWRlc1NpemVzR3JpZFswXSwgTCA9IDA7IEwgPCBsLmxlbmd0aDsgTCArPSBzLnNsaWRlc1Blckdyb3VwKSB7CiAgICAgICAgdm9pZCAwICE9PSBsW0wgKyBzLnNsaWRlc1Blckdyb3VwXSA/IHAgPj0gbFtMXSAmJiBwIDwgbFtMICsgcy5zbGlkZXNQZXJHcm91cF0gJiYgKGsgPSBMLCAkID0gbFtMICsgcy5zbGlkZXNQZXJHcm91cF0gLSBsW0xdKSA6IHAgPj0gbFtMXSAmJiAoayA9IEwsICQgPSBsW2wubGVuZ3RoIC0gMV0gLSBsW2wubGVuZ3RoIC0gMl0pOwogICAgICB9CgogICAgICB2YXIgSSA9IChwIC0gbFtrXSkgLyAkOwoKICAgICAgaWYgKHUgPiBzLmxvbmdTd2lwZXNNcykgewogICAgICAgIGlmICghcy5sb25nU3dpcGVzKSByZXR1cm4gdm9pZCB0LnNsaWRlVG8odC5hY3RpdmVJbmRleCk7CiAgICAgICAgIm5leHQiID09PSB0LnN3aXBlRGlyZWN0aW9uICYmIChJID49IHMubG9uZ1N3aXBlc1JhdGlvID8gdC5zbGlkZVRvKGsgKyBzLnNsaWRlc1Blckdyb3VwKSA6IHQuc2xpZGVUbyhrKSksICJwcmV2IiA9PT0gdC5zd2lwZURpcmVjdGlvbiAmJiAoSSA+IDEgLSBzLmxvbmdTd2lwZXNSYXRpbyA/IHQuc2xpZGVUbyhrICsgcy5zbGlkZXNQZXJHcm91cCkgOiB0LnNsaWRlVG8oaykpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICghcy5zaG9ydFN3aXBlcykgcmV0dXJuIHZvaWQgdC5zbGlkZVRvKHQuYWN0aXZlSW5kZXgpOwogICAgICAgIHQubmF2aWdhdGlvbiAmJiAoaC50YXJnZXQgPT09IHQubmF2aWdhdGlvbi5uZXh0RWwgfHwgaC50YXJnZXQgPT09IHQubmF2aWdhdGlvbi5wcmV2RWwpID8gaC50YXJnZXQgPT09IHQubmF2aWdhdGlvbi5uZXh0RWwgPyB0LnNsaWRlVG8oayArIHMuc2xpZGVzUGVyR3JvdXApIDogdC5zbGlkZVRvKGspIDogKCJuZXh0IiA9PT0gdC5zd2lwZURpcmVjdGlvbiAmJiB0LnNsaWRlVG8oayArIHMuc2xpZGVzUGVyR3JvdXApLCAicHJldiIgPT09IHQuc3dpcGVEaXJlY3Rpb24gJiYgdC5zbGlkZVRvKGspKTsKICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gRygpIHsKICAgIHZhciBlID0gdGhpcy5wYXJhbXMsCiAgICAgICAgdCA9IHRoaXMuZWw7CgogICAgaWYgKCF0IHx8IDAgIT09IHQub2Zmc2V0V2lkdGgpIHsKICAgICAgZS5icmVha3BvaW50cyAmJiB0aGlzLnNldEJyZWFrcG9pbnQoKTsKICAgICAgdmFyIGkgPSB0aGlzLmFsbG93U2xpZGVOZXh0LAogICAgICAgICAgcyA9IHRoaXMuYWxsb3dTbGlkZVByZXYsCiAgICAgICAgICBhID0gdGhpcy5zbmFwR3JpZDsKICAgICAgdGhpcy5hbGxvd1NsaWRlTmV4dCA9ICEwLCB0aGlzLmFsbG93U2xpZGVQcmV2ID0gITAsIHRoaXMudXBkYXRlU2l6ZSgpLCB0aGlzLnVwZGF0ZVNsaWRlcygpLCB0aGlzLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKSwgKCJhdXRvIiA9PT0gZS5zbGlkZXNQZXJWaWV3IHx8IGUuc2xpZGVzUGVyVmlldyA+IDEpICYmIHRoaXMuaXNFbmQgJiYgIXRoaXMucGFyYW1zLmNlbnRlcmVkU2xpZGVzID8gdGhpcy5zbGlkZVRvKHRoaXMuc2xpZGVzLmxlbmd0aCAtIDEsIDAsICExLCAhMCkgOiB0aGlzLnNsaWRlVG8odGhpcy5hY3RpdmVJbmRleCwgMCwgITEsICEwKSwgdGhpcy5hdXRvcGxheSAmJiB0aGlzLmF1dG9wbGF5LnJ1bm5pbmcgJiYgdGhpcy5hdXRvcGxheS5wYXVzZWQgJiYgdGhpcy5hdXRvcGxheS5ydW4oKSwgdGhpcy5hbGxvd1NsaWRlUHJldiA9IHMsIHRoaXMuYWxsb3dTbGlkZU5leHQgPSBpLCB0aGlzLnBhcmFtcy53YXRjaE92ZXJmbG93ICYmIGEgIT09IHRoaXMuc25hcEdyaWQgJiYgdGhpcy5jaGVja092ZXJmbG93KCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBCKGUpIHsKICAgIHRoaXMuYWxsb3dDbGljayB8fCAodGhpcy5wYXJhbXMucHJldmVudENsaWNrcyAmJiBlLnByZXZlbnREZWZhdWx0KCksIHRoaXMucGFyYW1zLnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbiAmJiB0aGlzLmFuaW1hdGluZyAmJiAoZS5zdG9wUHJvcGFnYXRpb24oKSwgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSkpOwogIH0KCiAgZnVuY3Rpb24gSCgpIHsKICAgIHZhciBlID0gdGhpcy53cmFwcGVyRWw7CiAgICB0aGlzLnByZXZpb3VzVHJhbnNsYXRlID0gdGhpcy50cmFuc2xhdGUsIHRoaXMudHJhbnNsYXRlID0gdGhpcy5pc0hvcml6b250YWwoKSA/IC1lLnNjcm9sbExlZnQgOiAtZS5zY3JvbGxUb3AsIC0wID09PSB0aGlzLnRyYW5zbGF0ZSAmJiAodGhpcy50cmFuc2xhdGUgPSAwKSwgdGhpcy51cGRhdGVBY3RpdmVJbmRleCgpLCB0aGlzLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTsKICAgIHZhciB0ID0gdGhpcy5tYXhUcmFuc2xhdGUoKSAtIHRoaXMubWluVHJhbnNsYXRlKCk7CiAgICAoMCA9PT0gdCA/IDAgOiAodGhpcy50cmFuc2xhdGUgLSB0aGlzLm1pblRyYW5zbGF0ZSgpKSAvIHQpICE9PSB0aGlzLnByb2dyZXNzICYmIHRoaXMudXBkYXRlUHJvZ3Jlc3ModGhpcy50cmFuc2xhdGUpLCB0aGlzLmVtaXQoInNldFRyYW5zbGF0ZSIsIHRoaXMudHJhbnNsYXRlLCAhMSk7CiAgfQoKICB2YXIgTiA9ICExOwoKICBmdW5jdGlvbiBYKCkge30KCiAgdmFyIFYgPSB7CiAgICBpbml0OiAhMCwKICAgIGRpcmVjdGlvbjogImhvcml6b250YWwiLAogICAgdG91Y2hFdmVudHNUYXJnZXQ6ICJjb250YWluZXIiLAogICAgaW5pdGlhbFNsaWRlOiAwLAogICAgc3BlZWQ6IDMwMCwKICAgIGNzc01vZGU6ICExLAogICAgdXBkYXRlT25XaW5kb3dSZXNpemU6ICEwLAogICAgcHJldmVudEludGVyYWN0aW9uT25UcmFuc2l0aW9uOiAhMSwKICAgIGVkZ2VTd2lwZURldGVjdGlvbjogITEsCiAgICBlZGdlU3dpcGVUaHJlc2hvbGQ6IDIwLAogICAgZnJlZU1vZGU6ICExLAogICAgZnJlZU1vZGVNb21lbnR1bTogITAsCiAgICBmcmVlTW9kZU1vbWVudHVtUmF0aW86IDEsCiAgICBmcmVlTW9kZU1vbWVudHVtQm91bmNlOiAhMCwKICAgIGZyZWVNb2RlTW9tZW50dW1Cb3VuY2VSYXRpbzogMSwKICAgIGZyZWVNb2RlTW9tZW50dW1WZWxvY2l0eVJhdGlvOiAxLAogICAgZnJlZU1vZGVTdGlja3k6ICExLAogICAgZnJlZU1vZGVNaW5pbXVtVmVsb2NpdHk6IC4wMiwKICAgIGF1dG9IZWlnaHQ6ICExLAogICAgc2V0V3JhcHBlclNpemU6ICExLAogICAgdmlydHVhbFRyYW5zbGF0ZTogITEsCiAgICBlZmZlY3Q6ICJzbGlkZSIsCiAgICBicmVha3BvaW50czogdm9pZCAwLAogICAgc3BhY2VCZXR3ZWVuOiAwLAogICAgc2xpZGVzUGVyVmlldzogMSwKICAgIHNsaWRlc1BlckNvbHVtbjogMSwKICAgIHNsaWRlc1BlckNvbHVtbkZpbGw6ICJjb2x1bW4iLAogICAgc2xpZGVzUGVyR3JvdXA6IDEsCiAgICBjZW50ZXJlZFNsaWRlczogITEsCiAgICBjZW50ZXJlZFNsaWRlc0JvdW5kczogITEsCiAgICBzbGlkZXNPZmZzZXRCZWZvcmU6IDAsCiAgICBzbGlkZXNPZmZzZXRBZnRlcjogMCwKICAgIG5vcm1hbGl6ZVNsaWRlSW5kZXg6ICEwLAogICAgY2VudGVySW5zdWZmaWNpZW50U2xpZGVzOiAhMSwKICAgIHdhdGNoT3ZlcmZsb3c6ICExLAogICAgcm91bmRMZW5ndGhzOiAhMSwKICAgIHRvdWNoUmF0aW86IDEsCiAgICB0b3VjaEFuZ2xlOiA0NSwKICAgIHNpbXVsYXRlVG91Y2g6ICEwLAogICAgc2hvcnRTd2lwZXM6ICEwLAogICAgbG9uZ1N3aXBlczogITAsCiAgICBsb25nU3dpcGVzUmF0aW86IC41LAogICAgbG9uZ1N3aXBlc01zOiAzMDAsCiAgICBmb2xsb3dGaW5nZXI6ICEwLAogICAgYWxsb3dUb3VjaE1vdmU6ICEwLAogICAgdGhyZXNob2xkOiAwLAogICAgdG91Y2hNb3ZlU3RvcFByb3BhZ2F0aW9uOiAhMSwKICAgIHRvdWNoU3RhcnRQcmV2ZW50RGVmYXVsdDogITAsCiAgICB0b3VjaFN0YXJ0Rm9yY2VQcmV2ZW50RGVmYXVsdDogITEsCiAgICB0b3VjaFJlbGVhc2VPbkVkZ2VzOiAhMSwKICAgIHVuaXF1ZU5hdkVsZW1lbnRzOiAhMCwKICAgIHJlc2lzdGFuY2U6ICEwLAogICAgcmVzaXN0YW5jZVJhdGlvOiAuODUsCiAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiAhMSwKICAgIHdhdGNoU2xpZGVzVmlzaWJpbGl0eTogITEsCiAgICBncmFiQ3Vyc29yOiAhMSwKICAgIHByZXZlbnRDbGlja3M6ICEwLAogICAgcHJldmVudENsaWNrc1Byb3BhZ2F0aW9uOiAhMCwKICAgIHNsaWRlVG9DbGlja2VkU2xpZGU6ICExLAogICAgcHJlbG9hZEltYWdlczogITAsCiAgICB1cGRhdGVPbkltYWdlc1JlYWR5OiAhMCwKICAgIGxvb3A6ICExLAogICAgbG9vcEFkZGl0aW9uYWxTbGlkZXM6IDAsCiAgICBsb29wZWRTbGlkZXM6IG51bGwsCiAgICBsb29wRmlsbEdyb3VwV2l0aEJsYW5rOiAhMSwKICAgIGFsbG93U2xpZGVQcmV2OiAhMCwKICAgIGFsbG93U2xpZGVOZXh0OiAhMCwKICAgIHN3aXBlSGFuZGxlcjogbnVsbCwKICAgIG5vU3dpcGluZzogITAsCiAgICBub1N3aXBpbmdDbGFzczogInN3aXBlci1uby1zd2lwaW5nIiwKICAgIG5vU3dpcGluZ1NlbGVjdG9yOiBudWxsLAogICAgcGFzc2l2ZUxpc3RlbmVyczogITAsCiAgICBjb250YWluZXJNb2RpZmllckNsYXNzOiAic3dpcGVyLWNvbnRhaW5lci0iLAogICAgc2xpZGVDbGFzczogInN3aXBlci1zbGlkZSIsCiAgICBzbGlkZUJsYW5rQ2xhc3M6ICJzd2lwZXItc2xpZGUtaW52aXNpYmxlLWJsYW5rIiwKICAgIHNsaWRlQWN0aXZlQ2xhc3M6ICJzd2lwZXItc2xpZGUtYWN0aXZlIiwKICAgIHNsaWRlRHVwbGljYXRlQWN0aXZlQ2xhc3M6ICJzd2lwZXItc2xpZGUtZHVwbGljYXRlLWFjdGl2ZSIsCiAgICBzbGlkZVZpc2libGVDbGFzczogInN3aXBlci1zbGlkZS12aXNpYmxlIiwKICAgIHNsaWRlRHVwbGljYXRlQ2xhc3M6ICJzd2lwZXItc2xpZGUtZHVwbGljYXRlIiwKICAgIHNsaWRlTmV4dENsYXNzOiAic3dpcGVyLXNsaWRlLW5leHQiLAogICAgc2xpZGVEdXBsaWNhdGVOZXh0Q2xhc3M6ICJzd2lwZXItc2xpZGUtZHVwbGljYXRlLW5leHQiLAogICAgc2xpZGVQcmV2Q2xhc3M6ICJzd2lwZXItc2xpZGUtcHJldiIsCiAgICBzbGlkZUR1cGxpY2F0ZVByZXZDbGFzczogInN3aXBlci1zbGlkZS1kdXBsaWNhdGUtcHJldiIsCiAgICB3cmFwcGVyQ2xhc3M6ICJzd2lwZXItd3JhcHBlciIsCiAgICBydW5DYWxsYmFja3NPbkluaXQ6ICEwCiAgfSwKICAgICAgWSA9IHsKICAgIHVwZGF0ZTogaCwKICAgIHRyYW5zbGF0ZTogcCwKICAgIHRyYW5zaXRpb246IGMsCiAgICBzbGlkZTogdSwKICAgIGxvb3A6IHYsCiAgICBncmFiQ3Vyc29yOiBmLAogICAgbWFuaXB1bGF0aW9uOiBMLAogICAgZXZlbnRzOiB7CiAgICAgIGF0dGFjaEV2ZW50czogZnVuY3Rpb24gYXR0YWNoRXZlbnRzKCkgewogICAgICAgIHZhciB0ID0gdGhpcy5wYXJhbXMsCiAgICAgICAgICAgIGkgPSB0aGlzLnRvdWNoRXZlbnRzLAogICAgICAgICAgICBzID0gdGhpcy5lbCwKICAgICAgICAgICAgYSA9IHRoaXMud3JhcHBlckVsOwogICAgICAgIHRoaXMub25Ub3VjaFN0YXJ0ID0gRC5iaW5kKHRoaXMpLCB0aGlzLm9uVG91Y2hNb3ZlID0gTy5iaW5kKHRoaXMpLCB0aGlzLm9uVG91Y2hFbmQgPSBBLmJpbmQodGhpcyksIHQuY3NzTW9kZSAmJiAodGhpcy5vblNjcm9sbCA9IEguYmluZCh0aGlzKSksIHRoaXMub25DbGljayA9IEIuYmluZCh0aGlzKTsKICAgICAgICB2YXIgciA9ICEhdC5uZXN0ZWQ7CiAgICAgICAgaWYgKCFvLnRvdWNoICYmIG8ucG9pbnRlckV2ZW50cykgcy5hZGRFdmVudExpc3RlbmVyKGkuc3RhcnQsIHRoaXMub25Ub3VjaFN0YXJ0LCAhMSksIGUuYWRkRXZlbnRMaXN0ZW5lcihpLm1vdmUsIHRoaXMub25Ub3VjaE1vdmUsIHIpLCBlLmFkZEV2ZW50TGlzdGVuZXIoaS5lbmQsIHRoaXMub25Ub3VjaEVuZCwgITEpO2Vsc2UgewogICAgICAgICAgaWYgKG8udG91Y2gpIHsKICAgICAgICAgICAgdmFyIG4gPSAhKCJ0b3VjaHN0YXJ0IiAhPT0gaS5zdGFydCB8fCAhby5wYXNzaXZlTGlzdGVuZXIgfHwgIXQucGFzc2l2ZUxpc3RlbmVycykgJiYgewogICAgICAgICAgICAgIHBhc3NpdmU6ICEwLAogICAgICAgICAgICAgIGNhcHR1cmU6ICExCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcihpLnN0YXJ0LCB0aGlzLm9uVG91Y2hTdGFydCwgbiksIHMuYWRkRXZlbnRMaXN0ZW5lcihpLm1vdmUsIHRoaXMub25Ub3VjaE1vdmUsIG8ucGFzc2l2ZUxpc3RlbmVyID8gewogICAgICAgICAgICAgIHBhc3NpdmU6ICExLAogICAgICAgICAgICAgIGNhcHR1cmU6IHIKICAgICAgICAgICAgfSA6IHIpLCBzLmFkZEV2ZW50TGlzdGVuZXIoaS5lbmQsIHRoaXMub25Ub3VjaEVuZCwgbiksIGkuY2FuY2VsICYmIHMuYWRkRXZlbnRMaXN0ZW5lcihpLmNhbmNlbCwgdGhpcy5vblRvdWNoRW5kLCBuKSwgTiB8fCAoZS5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0IiwgWCksIE4gPSAhMCk7CiAgICAgICAgICB9CgogICAgICAgICAgKHQuc2ltdWxhdGVUb3VjaCAmJiAhSS5pb3MgJiYgIUkuYW5kcm9pZCB8fCB0LnNpbXVsYXRlVG91Y2ggJiYgIW8udG91Y2ggJiYgSS5pb3MpICYmIChzLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIHRoaXMub25Ub3VjaFN0YXJ0LCAhMSksIGUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgdGhpcy5vblRvdWNoTW92ZSwgciksIGUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIHRoaXMub25Ub3VjaEVuZCwgITEpKTsKICAgICAgICB9CiAgICAgICAgKHQucHJldmVudENsaWNrcyB8fCB0LnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbikgJiYgcy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHRoaXMub25DbGljaywgITApLCB0LmNzc01vZGUgJiYgYS5hZGRFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLm9uU2Nyb2xsKSwgdC51cGRhdGVPbldpbmRvd1Jlc2l6ZSA/IHRoaXMub24oSS5pb3MgfHwgSS5hbmRyb2lkID8gInJlc2l6ZSBvcmllbnRhdGlvbmNoYW5nZSBvYnNlcnZlclVwZGF0ZSIgOiAicmVzaXplIG9ic2VydmVyVXBkYXRlIiwgRywgITApIDogdGhpcy5vbigib2JzZXJ2ZXJVcGRhdGUiLCBHLCAhMCk7CiAgICAgIH0sCiAgICAgIGRldGFjaEV2ZW50czogZnVuY3Rpb24gZGV0YWNoRXZlbnRzKCkgewogICAgICAgIHZhciB0ID0gdGhpcy5wYXJhbXMsCiAgICAgICAgICAgIGkgPSB0aGlzLnRvdWNoRXZlbnRzLAogICAgICAgICAgICBzID0gdGhpcy5lbCwKICAgICAgICAgICAgYSA9IHRoaXMud3JhcHBlckVsLAogICAgICAgICAgICByID0gISF0Lm5lc3RlZDsKICAgICAgICBpZiAoIW8udG91Y2ggJiYgby5wb2ludGVyRXZlbnRzKSBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5zdGFydCwgdGhpcy5vblRvdWNoU3RhcnQsICExKSwgZS5yZW1vdmVFdmVudExpc3RlbmVyKGkubW92ZSwgdGhpcy5vblRvdWNoTW92ZSwgciksIGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLmVuZCwgdGhpcy5vblRvdWNoRW5kLCAhMSk7ZWxzZSB7CiAgICAgICAgICBpZiAoby50b3VjaCkgewogICAgICAgICAgICB2YXIgbiA9ICEoIm9uVG91Y2hTdGFydCIgIT09IGkuc3RhcnQgfHwgIW8ucGFzc2l2ZUxpc3RlbmVyIHx8ICF0LnBhc3NpdmVMaXN0ZW5lcnMpICYmIHsKICAgICAgICAgICAgICBwYXNzaXZlOiAhMCwKICAgICAgICAgICAgICBjYXB0dXJlOiAhMQogICAgICAgICAgICB9OwogICAgICAgICAgICBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5zdGFydCwgdGhpcy5vblRvdWNoU3RhcnQsIG4pLCBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5tb3ZlLCB0aGlzLm9uVG91Y2hNb3ZlLCByKSwgcy5yZW1vdmVFdmVudExpc3RlbmVyKGkuZW5kLCB0aGlzLm9uVG91Y2hFbmQsIG4pLCBpLmNhbmNlbCAmJiBzLnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5jYW5jZWwsIHRoaXMub25Ub3VjaEVuZCwgbik7CiAgICAgICAgICB9CgogICAgICAgICAgKHQuc2ltdWxhdGVUb3VjaCAmJiAhSS5pb3MgJiYgIUkuYW5kcm9pZCB8fCB0LnNpbXVsYXRlVG91Y2ggJiYgIW8udG91Y2ggJiYgSS5pb3MpICYmIChzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsIHRoaXMub25Ub3VjaFN0YXJ0LCAhMSksIGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgdGhpcy5vblRvdWNoTW92ZSwgciksIGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIHRoaXMub25Ub3VjaEVuZCwgITEpKTsKICAgICAgICB9CiAgICAgICAgKHQucHJldmVudENsaWNrcyB8fCB0LnByZXZlbnRDbGlja3NQcm9wYWdhdGlvbikgJiYgcy5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsIHRoaXMub25DbGljaywgITApLCB0LmNzc01vZGUgJiYgYS5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzLm9uU2Nyb2xsKSwgdGhpcy5vZmYoSS5pb3MgfHwgSS5hbmRyb2lkID8gInJlc2l6ZSBvcmllbnRhdGlvbmNoYW5nZSBvYnNlcnZlclVwZGF0ZSIgOiAicmVzaXplIG9ic2VydmVyVXBkYXRlIiwgRyk7CiAgICAgIH0KICAgIH0sCiAgICBicmVha3BvaW50czogewogICAgICBzZXRCcmVha3BvaW50OiBmdW5jdGlvbiBzZXRCcmVha3BvaW50KCkgewogICAgICAgIHZhciBlID0gdGhpcy5hY3RpdmVJbmRleCwKICAgICAgICAgICAgdCA9IHRoaXMuaW5pdGlhbGl6ZWQsCiAgICAgICAgICAgIGkgPSB0aGlzLmxvb3BlZFNsaWRlczsKICAgICAgICB2b2lkIDAgPT09IGkgJiYgKGkgPSAwKTsKICAgICAgICB2YXIgcyA9IHRoaXMucGFyYW1zLAogICAgICAgICAgICBhID0gdGhpcy4kZWwsCiAgICAgICAgICAgIHIgPSBzLmJyZWFrcG9pbnRzOwoKICAgICAgICBpZiAociAmJiAoIXIgfHwgMCAhPT0gT2JqZWN0LmtleXMocikubGVuZ3RoKSkgewogICAgICAgICAgdmFyIG8gPSB0aGlzLmdldEJyZWFrcG9pbnQocik7CgogICAgICAgICAgaWYgKG8gJiYgdGhpcy5jdXJyZW50QnJlYWtwb2ludCAhPT0gbykgewogICAgICAgICAgICB2YXIgbCA9IG8gaW4gciA/IHJbb10gOiB2b2lkIDA7CiAgICAgICAgICAgIGwgJiYgWyJzbGlkZXNQZXJWaWV3IiwgInNwYWNlQmV0d2VlbiIsICJzbGlkZXNQZXJHcm91cCIsICJzbGlkZXNQZXJDb2x1bW4iXS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgdmFyIHQgPSBsW2VdOwogICAgICAgICAgICAgIHZvaWQgMCAhPT0gdCAmJiAobFtlXSA9ICJzbGlkZXNQZXJWaWV3IiAhPT0gZSB8fCAiQVVUTyIgIT09IHQgJiYgImF1dG8iICE9PSB0ID8gInNsaWRlc1BlclZpZXciID09PSBlID8gcGFyc2VGbG9hdCh0KSA6IHBhcnNlSW50KHQsIDEwKSA6ICJhdXRvIik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgZCA9IGwgfHwgdGhpcy5vcmlnaW5hbFBhcmFtcywKICAgICAgICAgICAgICAgIGggPSBzLnNsaWRlc1BlckNvbHVtbiA+IDEsCiAgICAgICAgICAgICAgICBwID0gZC5zbGlkZXNQZXJDb2x1bW4gPiAxOwogICAgICAgICAgICBoICYmICFwID8gYS5yZW1vdmVDbGFzcyhzLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyAibXVsdGlyb3cgIiArIHMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArICJtdWx0aXJvdy1jb2x1bW4iKSA6ICFoICYmIHAgJiYgKGEuYWRkQ2xhc3Mocy5jb250YWluZXJNb2RpZmllckNsYXNzICsgIm11bHRpcm93IiksICJjb2x1bW4iID09PSBkLnNsaWRlc1BlckNvbHVtbkZpbGwgJiYgYS5hZGRDbGFzcyhzLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyAibXVsdGlyb3ctY29sdW1uIikpOwogICAgICAgICAgICB2YXIgYyA9IGQuZGlyZWN0aW9uICYmIGQuZGlyZWN0aW9uICE9PSBzLmRpcmVjdGlvbiwKICAgICAgICAgICAgICAgIHUgPSBzLmxvb3AgJiYgKGQuc2xpZGVzUGVyVmlldyAhPT0gcy5zbGlkZXNQZXJWaWV3IHx8IGMpOwogICAgICAgICAgICBjICYmIHQgJiYgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oKSwgbi5leHRlbmQodGhpcy5wYXJhbXMsIGQpLCBuLmV4dGVuZCh0aGlzLCB7CiAgICAgICAgICAgICAgYWxsb3dUb3VjaE1vdmU6IHRoaXMucGFyYW1zLmFsbG93VG91Y2hNb3ZlLAogICAgICAgICAgICAgIGFsbG93U2xpZGVOZXh0OiB0aGlzLnBhcmFtcy5hbGxvd1NsaWRlTmV4dCwKICAgICAgICAgICAgICBhbGxvd1NsaWRlUHJldjogdGhpcy5wYXJhbXMuYWxsb3dTbGlkZVByZXYKICAgICAgICAgICAgfSksIHRoaXMuY3VycmVudEJyZWFrcG9pbnQgPSBvLCB1ICYmIHQgJiYgKHRoaXMubG9vcERlc3Ryb3koKSwgdGhpcy5sb29wQ3JlYXRlKCksIHRoaXMudXBkYXRlU2xpZGVzKCksIHRoaXMuc2xpZGVUbyhlIC0gaSArIHRoaXMubG9vcGVkU2xpZGVzLCAwLCAhMSkpLCB0aGlzLmVtaXQoImJyZWFrcG9pbnQiLCBkKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGdldEJyZWFrcG9pbnQ6IGZ1bmN0aW9uIGdldEJyZWFrcG9pbnQoZSkgewogICAgICAgIGlmIChlKSB7CiAgICAgICAgICB2YXIgaSA9ICExLAogICAgICAgICAgICAgIHMgPSBbXTsKICAgICAgICAgIE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcy5wdXNoKGUpOwogICAgICAgICAgfSksIHMuc29ydChmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoZSwgMTApIC0gcGFyc2VJbnQodCwgMTApOwogICAgICAgICAgfSk7CgogICAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCBzLmxlbmd0aDsgYSArPSAxKSB7CiAgICAgICAgICAgIHZhciByID0gc1thXTsKICAgICAgICAgICAgciA8PSB0LmlubmVyV2lkdGggJiYgKGkgPSByKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gaSB8fCAibWF4IjsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjaGVja092ZXJmbG93OiB7CiAgICAgIGNoZWNrT3ZlcmZsb3c6IGZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3coKSB7CiAgICAgICAgdmFyIGUgPSB0aGlzLnBhcmFtcywKICAgICAgICAgICAgdCA9IHRoaXMuaXNMb2NrZWQsCiAgICAgICAgICAgIGkgPSB0aGlzLnNsaWRlcy5sZW5ndGggPiAwICYmIGUuc2xpZGVzT2Zmc2V0QmVmb3JlICsgZS5zcGFjZUJldHdlZW4gKiAodGhpcy5zbGlkZXMubGVuZ3RoIC0gMSkgKyB0aGlzLnNsaWRlc1swXS5vZmZzZXRXaWR0aCAqIHRoaXMuc2xpZGVzLmxlbmd0aDsKICAgICAgICBlLnNsaWRlc09mZnNldEJlZm9yZSAmJiBlLnNsaWRlc09mZnNldEFmdGVyICYmIGkgPyB0aGlzLmlzTG9ja2VkID0gaSA8PSB0aGlzLnNpemUgOiB0aGlzLmlzTG9ja2VkID0gMSA9PT0gdGhpcy5zbmFwR3JpZC5sZW5ndGgsIHRoaXMuYWxsb3dTbGlkZU5leHQgPSAhdGhpcy5pc0xvY2tlZCwgdGhpcy5hbGxvd1NsaWRlUHJldiA9ICF0aGlzLmlzTG9ja2VkLCB0ICE9PSB0aGlzLmlzTG9ja2VkICYmIHRoaXMuZW1pdCh0aGlzLmlzTG9ja2VkID8gImxvY2siIDogInVubG9jayIpLCB0ICYmIHQgIT09IHRoaXMuaXNMb2NrZWQgJiYgKHRoaXMuaXNFbmQgPSAhMSwgdGhpcy5uYXZpZ2F0aW9uLnVwZGF0ZSgpKTsKICAgICAgfQogICAgfSwKICAgIGNsYXNzZXM6IHsKICAgICAgYWRkQ2xhc3NlczogZnVuY3Rpb24gYWRkQ2xhc3NlcygpIHsKICAgICAgICB2YXIgZSA9IHRoaXMuY2xhc3NOYW1lcywKICAgICAgICAgICAgdCA9IHRoaXMucGFyYW1zLAogICAgICAgICAgICBpID0gdGhpcy5ydGwsCiAgICAgICAgICAgIHMgPSB0aGlzLiRlbCwKICAgICAgICAgICAgYSA9IFtdOwogICAgICAgIGEucHVzaCgiaW5pdGlhbGl6ZWQiKSwgYS5wdXNoKHQuZGlyZWN0aW9uKSwgdC5mcmVlTW9kZSAmJiBhLnB1c2goImZyZWUtbW9kZSIpLCB0LmF1dG9IZWlnaHQgJiYgYS5wdXNoKCJhdXRvaGVpZ2h0IiksIGkgJiYgYS5wdXNoKCJydGwiKSwgdC5zbGlkZXNQZXJDb2x1bW4gPiAxICYmIChhLnB1c2goIm11bHRpcm93IiksICJjb2x1bW4iID09PSB0LnNsaWRlc1BlckNvbHVtbkZpbGwgJiYgYS5wdXNoKCJtdWx0aXJvdy1jb2x1bW4iKSksIEkuYW5kcm9pZCAmJiBhLnB1c2goImFuZHJvaWQiKSwgSS5pb3MgJiYgYS5wdXNoKCJpb3MiKSwgdC5jc3NNb2RlICYmIGEucHVzaCgiY3NzLW1vZGUiKSwgYS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgICBlLnB1c2godC5jb250YWluZXJNb2RpZmllckNsYXNzICsgaSk7CiAgICAgICAgfSksIHMuYWRkQ2xhc3MoZS5qb2luKCIgIikpOwogICAgICB9LAogICAgICByZW1vdmVDbGFzc2VzOiBmdW5jdGlvbiByZW1vdmVDbGFzc2VzKCkgewogICAgICAgIHZhciBlID0gdGhpcy4kZWwsCiAgICAgICAgICAgIHQgPSB0aGlzLmNsYXNzTmFtZXM7CiAgICAgICAgZS5yZW1vdmVDbGFzcyh0LmpvaW4oIiAiKSk7CiAgICAgIH0KICAgIH0sCiAgICBpbWFnZXM6IHsKICAgICAgbG9hZEltYWdlOiBmdW5jdGlvbiBsb2FkSW1hZ2UoZSwgaSwgcywgYSwgciwgbikgewogICAgICAgIHZhciBvOwoKICAgICAgICBmdW5jdGlvbiBsKCkgewogICAgICAgICAgbiAmJiBuKCk7CiAgICAgICAgfQoKICAgICAgICBlLmNvbXBsZXRlICYmIHIgPyBsKCkgOiBpID8gKChvID0gbmV3IHQuSW1hZ2UoKSkub25sb2FkID0gbCwgby5vbmVycm9yID0gbCwgYSAmJiAoby5zaXplcyA9IGEpLCBzICYmIChvLnNyY3NldCA9IHMpLCBpICYmIChvLnNyYyA9IGkpKSA6IGwoKTsKICAgICAgfSwKICAgICAgcHJlbG9hZEltYWdlczogZnVuY3Rpb24gcHJlbG9hZEltYWdlcygpIHsKICAgICAgICB2YXIgZSA9IHRoaXM7CgogICAgICAgIGZ1bmN0aW9uIHQoKSB7CiAgICAgICAgICBudWxsICE9IGUgJiYgZSAmJiAhZS5kZXN0cm95ZWQgJiYgKHZvaWQgMCAhPT0gZS5pbWFnZXNMb2FkZWQgJiYgKGUuaW1hZ2VzTG9hZGVkICs9IDEpLCBlLmltYWdlc0xvYWRlZCA9PT0gZS5pbWFnZXNUb0xvYWQubGVuZ3RoICYmIChlLnBhcmFtcy51cGRhdGVPbkltYWdlc1JlYWR5ICYmIGUudXBkYXRlKCksIGUuZW1pdCgiaW1hZ2VzUmVhZHkiKSkpOwogICAgICAgIH0KCiAgICAgICAgZS5pbWFnZXNUb0xvYWQgPSBlLiRlbC5maW5kKCJpbWciKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlLmltYWdlc1RvTG9hZC5sZW5ndGg7IGkgKz0gMSkgewogICAgICAgICAgdmFyIHMgPSBlLmltYWdlc1RvTG9hZFtpXTsKICAgICAgICAgIGUubG9hZEltYWdlKHMsIHMuY3VycmVudFNyYyB8fCBzLmdldEF0dHJpYnV0ZSgic3JjIiksIHMuc3Jjc2V0IHx8IHMuZ2V0QXR0cmlidXRlKCJzcmNzZXQiKSwgcy5zaXplcyB8fCBzLmdldEF0dHJpYnV0ZSgic2l6ZXMiKSwgITAsIHQpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgICAgIEYgPSB7fSwKICAgICAgVyA9IGZ1bmN0aW9uIChlKSB7CiAgICBmdW5jdGlvbiB0KCkgewogICAgICBmb3IgKHZhciBpLCBhLCByLCBsID0gW10sIGQgPSBhcmd1bWVudHMubGVuZ3RoOyBkLS07KSB7CiAgICAgICAgbFtkXSA9IGFyZ3VtZW50c1tkXTsKICAgICAgfQoKICAgICAgMSA9PT0gbC5sZW5ndGggJiYgbFswXS5jb25zdHJ1Y3RvciAmJiBsWzBdLmNvbnN0cnVjdG9yID09PSBPYmplY3QgPyByID0gbFswXSA6IChhID0gKGkgPSBsKVswXSwgciA9IGlbMV0pLCByIHx8IChyID0ge30pLCByID0gbi5leHRlbmQoe30sIHIpLCBhICYmICFyLmVsICYmIChyLmVsID0gYSksIGUuY2FsbCh0aGlzLCByKSwgT2JqZWN0LmtleXMoWSkuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIE9iamVjdC5rZXlzKFlbZV0pLmZvckVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICAgIHQucHJvdG90eXBlW2ldIHx8ICh0LnByb3RvdHlwZVtpXSA9IFlbZV1baV0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdmFyIGggPSB0aGlzOwogICAgICB2b2lkIDAgPT09IGgubW9kdWxlcyAmJiAoaC5tb2R1bGVzID0ge30pLCBPYmplY3Qua2V5cyhoLm1vZHVsZXMpLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IGgubW9kdWxlc1tlXTsKCiAgICAgICAgaWYgKHQucGFyYW1zKSB7CiAgICAgICAgICB2YXIgaSA9IE9iamVjdC5rZXlzKHQucGFyYW1zKVswXSwKICAgICAgICAgICAgICBzID0gdC5wYXJhbXNbaV07CiAgICAgICAgICBpZiAoIm9iamVjdCIgIT0gX3R5cGVvZihzKSB8fCBudWxsID09PSBzKSByZXR1cm47CiAgICAgICAgICBpZiAoIShpIGluIHIgJiYgImVuYWJsZWQiIGluIHMpKSByZXR1cm47CiAgICAgICAgICAhMCA9PT0gcltpXSAmJiAocltpXSA9IHsKICAgICAgICAgICAgZW5hYmxlZDogITAKICAgICAgICAgIH0pLCAib2JqZWN0IiAhPSBfdHlwZW9mKHJbaV0pIHx8ICJlbmFibGVkIiBpbiByW2ldIHx8IChyW2ldLmVuYWJsZWQgPSAhMCksIHJbaV0gfHwgKHJbaV0gPSB7CiAgICAgICAgICAgIGVuYWJsZWQ6ICExCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB2YXIgcCA9IG4uZXh0ZW5kKHt9LCBWKTsKICAgICAgaC51c2VNb2R1bGVzUGFyYW1zKHApLCBoLnBhcmFtcyA9IG4uZXh0ZW5kKHt9LCBwLCBGLCByKSwgaC5vcmlnaW5hbFBhcmFtcyA9IG4uZXh0ZW5kKHt9LCBoLnBhcmFtcyksIGgucGFzc2VkUGFyYW1zID0gbi5leHRlbmQoe30sIHIpLCBoLiQgPSBzOwogICAgICB2YXIgYyA9IHMoaC5wYXJhbXMuZWwpOwoKICAgICAgaWYgKGEgPSBjWzBdKSB7CiAgICAgICAgaWYgKGMubGVuZ3RoID4gMSkgewogICAgICAgICAgdmFyIHUgPSBbXTsKICAgICAgICAgIHJldHVybiBjLmVhY2goZnVuY3Rpb24gKGUsIGkpIHsKICAgICAgICAgICAgdmFyIHMgPSBuLmV4dGVuZCh7fSwgciwgewogICAgICAgICAgICAgIGVsOiBpCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB1LnB1c2gobmV3IHQocykpOwogICAgICAgICAgfSksIHU7CiAgICAgICAgfQoKICAgICAgICB2YXIgdiwgZiwgbTsKICAgICAgICByZXR1cm4gYS5zd2lwZXIgPSBoLCBjLmRhdGEoInN3aXBlciIsIGgpLCBhICYmIGEuc2hhZG93Um9vdCAmJiBhLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvciA/ICh2ID0gcyhhLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcigiLiIgKyBoLnBhcmFtcy53cmFwcGVyQ2xhc3MpKSkuY2hpbGRyZW4gPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGMuY2hpbGRyZW4oZSk7CiAgICAgICAgfSA6IHYgPSBjLmNoaWxkcmVuKCIuIiArIGgucGFyYW1zLndyYXBwZXJDbGFzcyksIG4uZXh0ZW5kKGgsIHsKICAgICAgICAgICRlbDogYywKICAgICAgICAgIGVsOiBhLAogICAgICAgICAgJHdyYXBwZXJFbDogdiwKICAgICAgICAgIHdyYXBwZXJFbDogdlswXSwKICAgICAgICAgIGNsYXNzTmFtZXM6IFtdLAogICAgICAgICAgc2xpZGVzOiBzKCksCiAgICAgICAgICBzbGlkZXNHcmlkOiBbXSwKICAgICAgICAgIHNuYXBHcmlkOiBbXSwKICAgICAgICAgIHNsaWRlc1NpemVzR3JpZDogW10sCiAgICAgICAgICBpc0hvcml6b250YWw6IGZ1bmN0aW9uIGlzSG9yaXpvbnRhbCgpIHsKICAgICAgICAgICAgcmV0dXJuICJob3Jpem9udGFsIiA9PT0gaC5wYXJhbXMuZGlyZWN0aW9uOwogICAgICAgICAgfSwKICAgICAgICAgIGlzVmVydGljYWw6IGZ1bmN0aW9uIGlzVmVydGljYWwoKSB7CiAgICAgICAgICAgIHJldHVybiAidmVydGljYWwiID09PSBoLnBhcmFtcy5kaXJlY3Rpb247CiAgICAgICAgICB9LAogICAgICAgICAgcnRsOiAicnRsIiA9PT0gYS5kaXIudG9Mb3dlckNhc2UoKSB8fCAicnRsIiA9PT0gYy5jc3MoImRpcmVjdGlvbiIpLAogICAgICAgICAgcnRsVHJhbnNsYXRlOiAiaG9yaXpvbnRhbCIgPT09IGgucGFyYW1zLmRpcmVjdGlvbiAmJiAoInJ0bCIgPT09IGEuZGlyLnRvTG93ZXJDYXNlKCkgfHwgInJ0bCIgPT09IGMuY3NzKCJkaXJlY3Rpb24iKSksCiAgICAgICAgICB3cm9uZ1JUTDogIi13ZWJraXQtYm94IiA9PT0gdi5jc3MoImRpc3BsYXkiKSwKICAgICAgICAgIGFjdGl2ZUluZGV4OiAwLAogICAgICAgICAgcmVhbEluZGV4OiAwLAogICAgICAgICAgaXNCZWdpbm5pbmc6ICEwLAogICAgICAgICAgaXNFbmQ6ICExLAogICAgICAgICAgdHJhbnNsYXRlOiAwLAogICAgICAgICAgcHJldmlvdXNUcmFuc2xhdGU6IDAsCiAgICAgICAgICBwcm9ncmVzczogMCwKICAgICAgICAgIHZlbG9jaXR5OiAwLAogICAgICAgICAgYW5pbWF0aW5nOiAhMSwKICAgICAgICAgIGFsbG93U2xpZGVOZXh0OiBoLnBhcmFtcy5hbGxvd1NsaWRlTmV4dCwKICAgICAgICAgIGFsbG93U2xpZGVQcmV2OiBoLnBhcmFtcy5hbGxvd1NsaWRlUHJldiwKICAgICAgICAgIHRvdWNoRXZlbnRzOiAoZiA9IFsidG91Y2hzdGFydCIsICJ0b3VjaG1vdmUiLCAidG91Y2hlbmQiLCAidG91Y2hjYW5jZWwiXSwgbSA9IFsibW91c2Vkb3duIiwgIm1vdXNlbW92ZSIsICJtb3VzZXVwIl0sIG8ucG9pbnRlckV2ZW50cyAmJiAobSA9IFsicG9pbnRlcmRvd24iLCAicG9pbnRlcm1vdmUiLCAicG9pbnRlcnVwIl0pLCBoLnRvdWNoRXZlbnRzVG91Y2ggPSB7CiAgICAgICAgICAgIHN0YXJ0OiBmWzBdLAogICAgICAgICAgICBtb3ZlOiBmWzFdLAogICAgICAgICAgICBlbmQ6IGZbMl0sCiAgICAgICAgICAgIGNhbmNlbDogZlszXQogICAgICAgICAgfSwgaC50b3VjaEV2ZW50c0Rlc2t0b3AgPSB7CiAgICAgICAgICAgIHN0YXJ0OiBtWzBdLAogICAgICAgICAgICBtb3ZlOiBtWzFdLAogICAgICAgICAgICBlbmQ6IG1bMl0KICAgICAgICAgIH0sIG8udG91Y2ggfHwgIWgucGFyYW1zLnNpbXVsYXRlVG91Y2ggPyBoLnRvdWNoRXZlbnRzVG91Y2ggOiBoLnRvdWNoRXZlbnRzRGVza3RvcCksCiAgICAgICAgICB0b3VjaEV2ZW50c0RhdGE6IHsKICAgICAgICAgICAgaXNUb3VjaGVkOiB2b2lkIDAsCiAgICAgICAgICAgIGlzTW92ZWQ6IHZvaWQgMCwKICAgICAgICAgICAgYWxsb3dUb3VjaENhbGxiYWNrczogdm9pZCAwLAogICAgICAgICAgICB0b3VjaFN0YXJ0VGltZTogdm9pZCAwLAogICAgICAgICAgICBpc1Njcm9sbGluZzogdm9pZCAwLAogICAgICAgICAgICBjdXJyZW50VHJhbnNsYXRlOiB2b2lkIDAsCiAgICAgICAgICAgIHN0YXJ0VHJhbnNsYXRlOiB2b2lkIDAsCiAgICAgICAgICAgIGFsbG93VGhyZXNob2xkTW92ZTogdm9pZCAwLAogICAgICAgICAgICBmb3JtRWxlbWVudHM6ICJpbnB1dCwgc2VsZWN0LCBvcHRpb24sIHRleHRhcmVhLCBidXR0b24sIHZpZGVvIiwKICAgICAgICAgICAgbGFzdENsaWNrVGltZTogbi5ub3coKSwKICAgICAgICAgICAgY2xpY2tUaW1lb3V0OiB2b2lkIDAsCiAgICAgICAgICAgIHZlbG9jaXRpZXM6IFtdLAogICAgICAgICAgICBhbGxvd01vbWVudHVtQm91bmNlOiB2b2lkIDAsCiAgICAgICAgICAgIGlzVG91Y2hFdmVudDogdm9pZCAwLAogICAgICAgICAgICBzdGFydE1vdmluZzogdm9pZCAwCiAgICAgICAgICB9LAogICAgICAgICAgYWxsb3dDbGljazogITAsCiAgICAgICAgICBhbGxvd1RvdWNoTW92ZTogaC5wYXJhbXMuYWxsb3dUb3VjaE1vdmUsCiAgICAgICAgICB0b3VjaGVzOiB7CiAgICAgICAgICAgIHN0YXJ0WDogMCwKICAgICAgICAgICAgc3RhcnRZOiAwLAogICAgICAgICAgICBjdXJyZW50WDogMCwKICAgICAgICAgICAgY3VycmVudFk6IDAsCiAgICAgICAgICAgIGRpZmY6IDAKICAgICAgICAgIH0sCiAgICAgICAgICBpbWFnZXNUb0xvYWQ6IFtdLAogICAgICAgICAgaW1hZ2VzTG9hZGVkOiAwCiAgICAgICAgfSksIGgudXNlTW9kdWxlcygpLCBoLnBhcmFtcy5pbml0ICYmIGguaW5pdCgpLCBoOwogICAgICB9CiAgICB9CgogICAgZSAmJiAodC5fX3Byb3RvX18gPSBlKSwgdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGUgJiYgZS5wcm90b3R5cGUpLCB0LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHQ7CiAgICB2YXIgaSA9IHsKICAgICAgZXh0ZW5kZWREZWZhdWx0czogewogICAgICAgIGNvbmZpZ3VyYWJsZTogITAKICAgICAgfSwKICAgICAgZGVmYXVsdHM6IHsKICAgICAgICBjb25maWd1cmFibGU6ICEwCiAgICAgIH0sCiAgICAgIENsYXNzOiB7CiAgICAgICAgY29uZmlndXJhYmxlOiAhMAogICAgICB9LAogICAgICAkOiB7CiAgICAgICAgY29uZmlndXJhYmxlOiAhMAogICAgICB9CiAgICB9OwogICAgcmV0dXJuIHQucHJvdG90eXBlLnNsaWRlc1BlclZpZXdEeW5hbWljID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IHRoaXMucGFyYW1zLAogICAgICAgICAgdCA9IHRoaXMuc2xpZGVzLAogICAgICAgICAgaSA9IHRoaXMuc2xpZGVzR3JpZCwKICAgICAgICAgIHMgPSB0aGlzLnNpemUsCiAgICAgICAgICBhID0gdGhpcy5hY3RpdmVJbmRleCwKICAgICAgICAgIHIgPSAxOwoKICAgICAgaWYgKGUuY2VudGVyZWRTbGlkZXMpIHsKICAgICAgICBmb3IgKHZhciBuLCBvID0gdFthXS5zd2lwZXJTbGlkZVNpemUsIGwgPSBhICsgMTsgbCA8IHQubGVuZ3RoOyBsICs9IDEpIHsKICAgICAgICAgIHRbbF0gJiYgIW4gJiYgKHIgKz0gMSwgKG8gKz0gdFtsXS5zd2lwZXJTbGlkZVNpemUpID4gcyAmJiAobiA9ICEwKSk7CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBkID0gYSAtIDE7IGQgPj0gMDsgZCAtPSAxKSB7CiAgICAgICAgICB0W2RdICYmICFuICYmIChyICs9IDEsIChvICs9IHRbZF0uc3dpcGVyU2xpZGVTaXplKSA+IHMgJiYgKG4gPSAhMCkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGZvciAodmFyIGggPSBhICsgMTsgaCA8IHQubGVuZ3RoOyBoICs9IDEpIHsKICAgICAgICBpW2hdIC0gaVthXSA8IHMgJiYgKHIgKz0gMSk7CiAgICAgIH0KCiAgICAgIHJldHVybiByOwogICAgfSwgdC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IHRoaXM7CgogICAgICBpZiAoZSAmJiAhZS5kZXN0cm95ZWQpIHsKICAgICAgICB2YXIgdCA9IGUuc25hcEdyaWQsCiAgICAgICAgICAgIGkgPSBlLnBhcmFtczsKICAgICAgICBpLmJyZWFrcG9pbnRzICYmIGUuc2V0QnJlYWtwb2ludCgpLCBlLnVwZGF0ZVNpemUoKSwgZS51cGRhdGVTbGlkZXMoKSwgZS51cGRhdGVQcm9ncmVzcygpLCBlLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKSwgZS5wYXJhbXMuZnJlZU1vZGUgPyAocygpLCBlLnBhcmFtcy5hdXRvSGVpZ2h0ICYmIGUudXBkYXRlQXV0b0hlaWdodCgpKSA6ICgoImF1dG8iID09PSBlLnBhcmFtcy5zbGlkZXNQZXJWaWV3IHx8IGUucGFyYW1zLnNsaWRlc1BlclZpZXcgPiAxKSAmJiBlLmlzRW5kICYmICFlLnBhcmFtcy5jZW50ZXJlZFNsaWRlcyA/IGUuc2xpZGVUbyhlLnNsaWRlcy5sZW5ndGggLSAxLCAwLCAhMSwgITApIDogZS5zbGlkZVRvKGUuYWN0aXZlSW5kZXgsIDAsICExLCAhMCkpIHx8IHMoKSwgaS53YXRjaE92ZXJmbG93ICYmIHQgIT09IGUuc25hcEdyaWQgJiYgZS5jaGVja092ZXJmbG93KCksIGUuZW1pdCgidXBkYXRlIik7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHMoKSB7CiAgICAgICAgdmFyIHQgPSBlLnJ0bFRyYW5zbGF0ZSA/IC0xICogZS50cmFuc2xhdGUgOiBlLnRyYW5zbGF0ZSwKICAgICAgICAgICAgaSA9IE1hdGgubWluKE1hdGgubWF4KHQsIGUubWF4VHJhbnNsYXRlKCkpLCBlLm1pblRyYW5zbGF0ZSgpKTsKICAgICAgICBlLnNldFRyYW5zbGF0ZShpKSwgZS51cGRhdGVBY3RpdmVJbmRleCgpLCBlLnVwZGF0ZVNsaWRlc0NsYXNzZXMoKTsKICAgICAgfQogICAgfSwgdC5wcm90b3R5cGUuY2hhbmdlRGlyZWN0aW9uID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdm9pZCAwID09PSB0ICYmICh0ID0gITApOwogICAgICB2YXIgaSA9IHRoaXMucGFyYW1zLmRpcmVjdGlvbjsKICAgICAgcmV0dXJuIGUgfHwgKGUgPSAiaG9yaXpvbnRhbCIgPT09IGkgPyAidmVydGljYWwiIDogImhvcml6b250YWwiKSwgZSA9PT0gaSB8fCAiaG9yaXpvbnRhbCIgIT09IGUgJiYgInZlcnRpY2FsIiAhPT0gZSA/IHRoaXMgOiAodGhpcy4kZWwucmVtb3ZlQ2xhc3MoIiIgKyB0aGlzLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgaSkuYWRkQ2xhc3MoIiIgKyB0aGlzLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgZSksIHRoaXMucGFyYW1zLmRpcmVjdGlvbiA9IGUsIHRoaXMuc2xpZGVzLmVhY2goZnVuY3Rpb24gKHQsIGkpIHsKICAgICAgICAidmVydGljYWwiID09PSBlID8gaS5zdHlsZS53aWR0aCA9ICIiIDogaS5zdHlsZS5oZWlnaHQgPSAiIjsKICAgICAgfSksIHRoaXMuZW1pdCgiY2hhbmdlRGlyZWN0aW9uIiksIHQgJiYgdGhpcy51cGRhdGUoKSwgdGhpcyk7CiAgICB9LCB0LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmluaXRpYWxpemVkIHx8ICh0aGlzLmVtaXQoImJlZm9yZUluaXQiKSwgdGhpcy5wYXJhbXMuYnJlYWtwb2ludHMgJiYgdGhpcy5zZXRCcmVha3BvaW50KCksIHRoaXMuYWRkQ2xhc3NlcygpLCB0aGlzLnBhcmFtcy5sb29wICYmIHRoaXMubG9vcENyZWF0ZSgpLCB0aGlzLnVwZGF0ZVNpemUoKSwgdGhpcy51cGRhdGVTbGlkZXMoKSwgdGhpcy5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiB0aGlzLmNoZWNrT3ZlcmZsb3coKSwgdGhpcy5wYXJhbXMuZ3JhYkN1cnNvciAmJiB0aGlzLnNldEdyYWJDdXJzb3IoKSwgdGhpcy5wYXJhbXMucHJlbG9hZEltYWdlcyAmJiB0aGlzLnByZWxvYWRJbWFnZXMoKSwgdGhpcy5wYXJhbXMubG9vcCA/IHRoaXMuc2xpZGVUbyh0aGlzLnBhcmFtcy5pbml0aWFsU2xpZGUgKyB0aGlzLmxvb3BlZFNsaWRlcywgMCwgdGhpcy5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0KSA6IHRoaXMuc2xpZGVUbyh0aGlzLnBhcmFtcy5pbml0aWFsU2xpZGUsIDAsIHRoaXMucGFyYW1zLnJ1bkNhbGxiYWNrc09uSW5pdCksIHRoaXMuYXR0YWNoRXZlbnRzKCksIHRoaXMuaW5pdGlhbGl6ZWQgPSAhMCwgdGhpcy5lbWl0KCJpbml0IikpOwogICAgfSwgdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9ICEwKSwgdm9pZCAwID09PSB0ICYmICh0ID0gITApOwogICAgICB2YXIgaSA9IHRoaXMsCiAgICAgICAgICBzID0gaS5wYXJhbXMsCiAgICAgICAgICBhID0gaS4kZWwsCiAgICAgICAgICByID0gaS4kd3JhcHBlckVsLAogICAgICAgICAgbyA9IGkuc2xpZGVzOwogICAgICByZXR1cm4gdm9pZCAwID09PSBpLnBhcmFtcyB8fCBpLmRlc3Ryb3llZCA/IG51bGwgOiAoaS5lbWl0KCJiZWZvcmVEZXN0cm95IiksIGkuaW5pdGlhbGl6ZWQgPSAhMSwgaS5kZXRhY2hFdmVudHMoKSwgcy5sb29wICYmIGkubG9vcERlc3Ryb3koKSwgdCAmJiAoaS5yZW1vdmVDbGFzc2VzKCksIGEucmVtb3ZlQXR0cigic3R5bGUiKSwgci5yZW1vdmVBdHRyKCJzdHlsZSIpLCBvICYmIG8ubGVuZ3RoICYmIG8ucmVtb3ZlQ2xhc3MoW3Muc2xpZGVWaXNpYmxlQ2xhc3MsIHMuc2xpZGVBY3RpdmVDbGFzcywgcy5zbGlkZU5leHRDbGFzcywgcy5zbGlkZVByZXZDbGFzc10uam9pbigiICIpKS5yZW1vdmVBdHRyKCJzdHlsZSIpLnJlbW92ZUF0dHIoImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4IikpLCBpLmVtaXQoImRlc3Ryb3kiKSwgT2JqZWN0LmtleXMoaS5ldmVudHNMaXN0ZW5lcnMpLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBpLm9mZihlKTsKICAgICAgfSksICExICE9PSBlICYmIChpLiRlbFswXS5zd2lwZXIgPSBudWxsLCBpLiRlbC5kYXRhKCJzd2lwZXIiLCBudWxsKSwgbi5kZWxldGVQcm9wcyhpKSksIGkuZGVzdHJveWVkID0gITAsIG51bGwpOwogICAgfSwgdC5leHRlbmREZWZhdWx0cyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIG4uZXh0ZW5kKEYsIGUpOwogICAgfSwgaS5leHRlbmRlZERlZmF1bHRzLmdldCA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIEY7CiAgICB9LCBpLmRlZmF1bHRzLmdldCA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFY7CiAgICB9LCBpLkNsYXNzLmdldCA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGU7CiAgICB9LCBpLiQuZ2V0ID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gczsKICAgIH0sIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHQsIGkpLCB0OwogIH0obCksCiAgICAgIFIgPSB7CiAgICBuYW1lOiAiZGV2aWNlIiwKICAgIHByb3RvOiB7CiAgICAgIGRldmljZTogSQogICAgfSwKICAgIHN0YXRpYzogewogICAgICBkZXZpY2U6IEkKICAgIH0KICB9LAogICAgICBxID0gewogICAgbmFtZTogInN1cHBvcnQiLAogICAgcHJvdG86IHsKICAgICAgc3VwcG9ydDogbwogICAgfSwKICAgIHN0YXRpYzogewogICAgICBzdXBwb3J0OiBvCiAgICB9CiAgfSwKICAgICAgaiA9IHsKICAgIGlzRWRnZTogISF0Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0VkZ2UvZyksCiAgICBpc1NhZmFyaTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IHQubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpOwogICAgICByZXR1cm4gZS5pbmRleE9mKCJzYWZhcmkiKSA+PSAwICYmIGUuaW5kZXhPZigiY2hyb21lIikgPCAwICYmIGUuaW5kZXhPZigiYW5kcm9pZCIpIDwgMDsKICAgIH0oKSwKICAgIGlzVWlXZWJWaWV3OiAvKGlQaG9uZXxpUG9kfGlQYWQpLipBcHBsZVdlYktpdCg/IS4qU2FmYXJpKS9pLnRlc3QodC5uYXZpZ2F0b3IudXNlckFnZW50KQogIH0sCiAgICAgIEsgPSB7CiAgICBuYW1lOiAiYnJvd3NlciIsCiAgICBwcm90bzogewogICAgICBicm93c2VyOiBqCiAgICB9LAogICAgc3RhdGljOiB7CiAgICAgIGJyb3dzZXI6IGoKICAgIH0KICB9LAogICAgICBVID0gewogICAgbmFtZTogInJlc2l6ZSIsCiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHsKICAgICAgdmFyIGUgPSB0aGlzOwogICAgICBuLmV4dGVuZChlLCB7CiAgICAgICAgcmVzaXplOiB7CiAgICAgICAgICByZXNpemVIYW5kbGVyOiBmdW5jdGlvbiByZXNpemVIYW5kbGVyKCkgewogICAgICAgICAgICBlICYmICFlLmRlc3Ryb3llZCAmJiBlLmluaXRpYWxpemVkICYmIChlLmVtaXQoImJlZm9yZVJlc2l6ZSIpLCBlLmVtaXQoInJlc2l6ZSIpKTsKICAgICAgICAgIH0sCiAgICAgICAgICBvcmllbnRhdGlvbkNoYW5nZUhhbmRsZXI6IGZ1bmN0aW9uIG9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcigpIHsKICAgICAgICAgICAgZSAmJiAhZS5kZXN0cm95ZWQgJiYgZS5pbml0aWFsaXplZCAmJiBlLmVtaXQoIm9yaWVudGF0aW9uY2hhbmdlIik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbjogewogICAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICAgIHQuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5yZXNpemUucmVzaXplSGFuZGxlciksIHQuYWRkRXZlbnRMaXN0ZW5lcigib3JpZW50YXRpb25jaGFuZ2UiLCB0aGlzLnJlc2l6ZS5vcmllbnRhdGlvbkNoYW5nZUhhbmRsZXIpOwogICAgICB9LAogICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5yZXNpemUucmVzaXplSGFuZGxlciksIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigib3JpZW50YXRpb25jaGFuZ2UiLCB0aGlzLnJlc2l6ZS5vcmllbnRhdGlvbkNoYW5nZUhhbmRsZXIpOwogICAgICB9CiAgICB9CiAgfSwKICAgICAgXyA9IHsKICAgIGZ1bmM6IHQuTXV0YXRpb25PYnNlcnZlciB8fCB0LldlYmtpdE11dGF0aW9uT2JzZXJ2ZXIsCiAgICBhdHRhY2g6IGZ1bmN0aW9uIGF0dGFjaChlLCBpKSB7CiAgICAgIHZvaWQgMCA9PT0gaSAmJiAoaSA9IHt9KTsKICAgICAgdmFyIHMgPSB0aGlzLAogICAgICAgICAgYSA9IG5ldyAoMCwgXy5mdW5jKShmdW5jdGlvbiAoZSkgewogICAgICAgIGlmICgxICE9PSBlLmxlbmd0aCkgewogICAgICAgICAgdmFyIGkgPSBmdW5jdGlvbiBpKCkgewogICAgICAgICAgICBzLmVtaXQoIm9ic2VydmVyVXBkYXRlIiwgZVswXSk7CiAgICAgICAgICB9OwoKICAgICAgICAgIHQucmVxdWVzdEFuaW1hdGlvbkZyYW1lID8gdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaSkgOiB0LnNldFRpbWVvdXQoaSwgMCk7CiAgICAgICAgfSBlbHNlIHMuZW1pdCgib2JzZXJ2ZXJVcGRhdGUiLCBlWzBdKTsKICAgICAgfSk7CiAgICAgIGEub2JzZXJ2ZShlLCB7CiAgICAgICAgYXR0cmlidXRlczogdm9pZCAwID09PSBpLmF0dHJpYnV0ZXMgfHwgaS5hdHRyaWJ1dGVzLAogICAgICAgIGNoaWxkTGlzdDogdm9pZCAwID09PSBpLmNoaWxkTGlzdCB8fCBpLmNoaWxkTGlzdCwKICAgICAgICBjaGFyYWN0ZXJEYXRhOiB2b2lkIDAgPT09IGkuY2hhcmFjdGVyRGF0YSB8fCBpLmNoYXJhY3RlckRhdGEKICAgICAgfSksIHMub2JzZXJ2ZXIub2JzZXJ2ZXJzLnB1c2goYSk7CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgaWYgKG8ub2JzZXJ2ZXIgJiYgdGhpcy5wYXJhbXMub2JzZXJ2ZXIpIHsKICAgICAgICBpZiAodGhpcy5wYXJhbXMub2JzZXJ2ZVBhcmVudHMpIGZvciAodmFyIGUgPSB0aGlzLiRlbC5wYXJlbnRzKCksIHQgPSAwOyB0IDwgZS5sZW5ndGg7IHQgKz0gMSkgewogICAgICAgICAgdGhpcy5vYnNlcnZlci5hdHRhY2goZVt0XSk7CiAgICAgICAgfQogICAgICAgIHRoaXMub2JzZXJ2ZXIuYXR0YWNoKHRoaXMuJGVsWzBdLCB7CiAgICAgICAgICBjaGlsZExpc3Q6IHRoaXMucGFyYW1zLm9ic2VydmVTbGlkZUNoaWxkcmVuCiAgICAgICAgfSksIHRoaXMub2JzZXJ2ZXIuYXR0YWNoKHRoaXMuJHdyYXBwZXJFbFswXSwgewogICAgICAgICAgYXR0cmlidXRlczogITEKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLmRpc2Nvbm5lY3QoKTsKICAgICAgfSksIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZXJzID0gW107CiAgICB9CiAgfSwKICAgICAgWiA9IHsKICAgIG5hbWU6ICJvYnNlcnZlciIsCiAgICBwYXJhbXM6IHsKICAgICAgb2JzZXJ2ZXI6ICExLAogICAgICBvYnNlcnZlUGFyZW50czogITEsCiAgICAgIG9ic2VydmVTbGlkZUNoaWxkcmVuOiAhMQogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICBuLmV4dGVuZCh0aGlzLCB7CiAgICAgICAgb2JzZXJ2ZXI6IHsKICAgICAgICAgIGluaXQ6IF8uaW5pdC5iaW5kKHRoaXMpLAogICAgICAgICAgYXR0YWNoOiBfLmF0dGFjaC5iaW5kKHRoaXMpLAogICAgICAgICAgZGVzdHJveTogXy5kZXN0cm95LmJpbmQodGhpcyksCiAgICAgICAgICBvYnNlcnZlcnM6IFtdCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbjogewogICAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICAgIHRoaXMub2JzZXJ2ZXIuaW5pdCgpOwogICAgICB9LAogICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgIHRoaXMub2JzZXJ2ZXIuZGVzdHJveSgpOwogICAgICB9CiAgICB9CiAgfSwKICAgICAgUSA9IHsKICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKGUpIHsKICAgICAgdmFyIHQgPSB0aGlzLAogICAgICAgICAgaSA9IHQucGFyYW1zLAogICAgICAgICAgcyA9IGkuc2xpZGVzUGVyVmlldywKICAgICAgICAgIGEgPSBpLnNsaWRlc1Blckdyb3VwLAogICAgICAgICAgciA9IGkuY2VudGVyZWRTbGlkZXMsCiAgICAgICAgICBvID0gdC5wYXJhbXMudmlydHVhbCwKICAgICAgICAgIGwgPSBvLmFkZFNsaWRlc0JlZm9yZSwKICAgICAgICAgIGQgPSBvLmFkZFNsaWRlc0FmdGVyLAogICAgICAgICAgaCA9IHQudmlydHVhbCwKICAgICAgICAgIHAgPSBoLmZyb20sCiAgICAgICAgICBjID0gaC50bywKICAgICAgICAgIHUgPSBoLnNsaWRlcywKICAgICAgICAgIHYgPSBoLnNsaWRlc0dyaWQsCiAgICAgICAgICBmID0gaC5yZW5kZXJTbGlkZSwKICAgICAgICAgIG0gPSBoLm9mZnNldDsKICAgICAgdC51cGRhdGVBY3RpdmVJbmRleCgpOwogICAgICB2YXIgZywKICAgICAgICAgIGIsCiAgICAgICAgICB3LAogICAgICAgICAgeSA9IHQuYWN0aXZlSW5kZXggfHwgMDsKICAgICAgZyA9IHQucnRsVHJhbnNsYXRlID8gInJpZ2h0IiA6IHQuaXNIb3Jpem9udGFsKCkgPyAibGVmdCIgOiAidG9wIiwgciA/IChiID0gTWF0aC5mbG9vcihzIC8gMikgKyBhICsgbCwgdyA9IE1hdGguZmxvb3IocyAvIDIpICsgYSArIGQpIDogKGIgPSBzICsgKGEgLSAxKSArIGwsIHcgPSBhICsgZCk7CiAgICAgIHZhciB4ID0gTWF0aC5tYXgoKHkgfHwgMCkgLSB3LCAwKSwKICAgICAgICAgIFQgPSBNYXRoLm1pbigoeSB8fCAwKSArIGIsIHUubGVuZ3RoIC0gMSksCiAgICAgICAgICBFID0gKHQuc2xpZGVzR3JpZFt4XSB8fCAwKSAtICh0LnNsaWRlc0dyaWRbMF0gfHwgMCk7CgogICAgICBmdW5jdGlvbiBTKCkgewogICAgICAgIHQudXBkYXRlU2xpZGVzKCksIHQudXBkYXRlUHJvZ3Jlc3MoKSwgdC51cGRhdGVTbGlkZXNDbGFzc2VzKCksIHQubGF6eSAmJiB0LnBhcmFtcy5sYXp5LmVuYWJsZWQgJiYgdC5sYXp5LmxvYWQoKTsKICAgICAgfQoKICAgICAgaWYgKG4uZXh0ZW5kKHQudmlydHVhbCwgewogICAgICAgIGZyb206IHgsCiAgICAgICAgdG86IFQsCiAgICAgICAgb2Zmc2V0OiBFLAogICAgICAgIHNsaWRlc0dyaWQ6IHQuc2xpZGVzR3JpZAogICAgICB9KSwgcCA9PT0geCAmJiBjID09PSBUICYmICFlKSByZXR1cm4gdC5zbGlkZXNHcmlkICE9PSB2ICYmIEUgIT09IG0gJiYgdC5zbGlkZXMuY3NzKGcsIEUgKyAicHgiKSwgdm9pZCB0LnVwZGF0ZVByb2dyZXNzKCk7CiAgICAgIGlmICh0LnBhcmFtcy52aXJ0dWFsLnJlbmRlckV4dGVybmFsKSByZXR1cm4gdC5wYXJhbXMudmlydHVhbC5yZW5kZXJFeHRlcm5hbC5jYWxsKHQsIHsKICAgICAgICBvZmZzZXQ6IEUsCiAgICAgICAgZnJvbTogeCwKICAgICAgICB0bzogVCwKICAgICAgICBzbGlkZXM6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGZvciAodmFyIGUgPSBbXSwgdCA9IHg7IHQgPD0gVDsgdCArPSAxKSB7CiAgICAgICAgICAgIGUucHVzaCh1W3RdKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gZTsKICAgICAgICB9KCkKICAgICAgfSksIHZvaWQgUygpOwogICAgICB2YXIgQyA9IFtdLAogICAgICAgICAgTSA9IFtdOwogICAgICBpZiAoZSkgdC4kd3JhcHBlckVsLmZpbmQoIi4iICsgdC5wYXJhbXMuc2xpZGVDbGFzcykucmVtb3ZlKCk7ZWxzZSBmb3IgKHZhciBQID0gcDsgUCA8PSBjOyBQICs9IDEpIHsKICAgICAgICAoUCA8IHggfHwgUCA+IFQpICYmIHQuJHdyYXBwZXJFbC5maW5kKCIuIiArIHQucGFyYW1zLnNsaWRlQ2xhc3MgKyAnW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PSInICsgUCArICciXScpLnJlbW92ZSgpOwogICAgICB9CgogICAgICBmb3IgKHZhciB6ID0gMDsgeiA8IHUubGVuZ3RoOyB6ICs9IDEpIHsKICAgICAgICB6ID49IHggJiYgeiA8PSBUICYmICh2b2lkIDAgPT09IGMgfHwgZSA/IE0ucHVzaCh6KSA6ICh6ID4gYyAmJiBNLnB1c2goeiksIHogPCBwICYmIEMucHVzaCh6KSkpOwogICAgICB9CgogICAgICBNLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICB0LiR3cmFwcGVyRWwuYXBwZW5kKGYodVtlXSwgZSkpOwogICAgICB9KSwgQy5zb3J0KGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgcmV0dXJuIHQgLSBlOwogICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdC4kd3JhcHBlckVsLnByZXBlbmQoZih1W2VdLCBlKSk7CiAgICAgIH0pLCB0LiR3cmFwcGVyRWwuY2hpbGRyZW4oIi5zd2lwZXItc2xpZGUiKS5jc3MoZywgRSArICJweCIpLCBTKCk7CiAgICB9LAogICAgcmVuZGVyU2xpZGU6IGZ1bmN0aW9uIHJlbmRlclNsaWRlKGUsIHQpIHsKICAgICAgdmFyIGkgPSB0aGlzLnBhcmFtcy52aXJ0dWFsOwogICAgICBpZiAoaS5jYWNoZSAmJiB0aGlzLnZpcnR1YWwuY2FjaGVbdF0pIHJldHVybiB0aGlzLnZpcnR1YWwuY2FjaGVbdF07CiAgICAgIHZhciBhID0gaS5yZW5kZXJTbGlkZSA/IHMoaS5yZW5kZXJTbGlkZS5jYWxsKHRoaXMsIGUsIHQpKSA6IHMoJzxkaXYgY2xhc3M9IicgKyB0aGlzLnBhcmFtcy5zbGlkZUNsYXNzICsgJyIgZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9IicgKyB0ICsgJyI+JyArIGUgKyAiPC9kaXY+Iik7CiAgICAgIHJldHVybiBhLmF0dHIoImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4IikgfHwgYS5hdHRyKCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleCIsIHQpLCBpLmNhY2hlICYmICh0aGlzLnZpcnR1YWwuY2FjaGVbdF0gPSBhKSwgYTsKICAgIH0sCiAgICBhcHBlbmRTbGlkZTogZnVuY3Rpb24gYXBwZW5kU2xpZGUoZSkgewogICAgICBpZiAoIm9iamVjdCIgPT0gX3R5cGVvZihlKSAmJiAibGVuZ3RoIiBpbiBlKSBmb3IgKHZhciB0ID0gMDsgdCA8IGUubGVuZ3RoOyB0ICs9IDEpIHsKICAgICAgICBlW3RdICYmIHRoaXMudmlydHVhbC5zbGlkZXMucHVzaChlW3RdKTsKICAgICAgfSBlbHNlIHRoaXMudmlydHVhbC5zbGlkZXMucHVzaChlKTsKICAgICAgdGhpcy52aXJ0dWFsLnVwZGF0ZSghMCk7CiAgICB9LAogICAgcHJlcGVuZFNsaWRlOiBmdW5jdGlvbiBwcmVwZW5kU2xpZGUoZSkgewogICAgICB2YXIgdCA9IHRoaXMuYWN0aXZlSW5kZXgsCiAgICAgICAgICBpID0gdCArIDEsCiAgICAgICAgICBzID0gMTsKCiAgICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSB7CiAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCBlLmxlbmd0aDsgYSArPSAxKSB7CiAgICAgICAgICBlW2FdICYmIHRoaXMudmlydHVhbC5zbGlkZXMudW5zaGlmdChlW2FdKTsKICAgICAgICB9CgogICAgICAgIGkgPSB0ICsgZS5sZW5ndGgsIHMgPSBlLmxlbmd0aDsKICAgICAgfSBlbHNlIHRoaXMudmlydHVhbC5zbGlkZXMudW5zaGlmdChlKTsKCiAgICAgIGlmICh0aGlzLnBhcmFtcy52aXJ0dWFsLmNhY2hlKSB7CiAgICAgICAgdmFyIHIgPSB0aGlzLnZpcnR1YWwuY2FjaGUsCiAgICAgICAgICAgIG4gPSB7fTsKICAgICAgICBPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdCA9IHJbZV0sCiAgICAgICAgICAgICAgaSA9IHQuYXR0cigiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgiKTsKICAgICAgICAgIGkgJiYgdC5hdHRyKCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleCIsIHBhcnNlSW50KGksIDEwKSArIDEpLCBuW3BhcnNlSW50KGUsIDEwKSArIHNdID0gdDsKICAgICAgICB9KSwgdGhpcy52aXJ0dWFsLmNhY2hlID0gbjsKICAgICAgfQoKICAgICAgdGhpcy52aXJ0dWFsLnVwZGF0ZSghMCksIHRoaXMuc2xpZGVUbyhpLCAwKTsKICAgIH0sCiAgICByZW1vdmVTbGlkZTogZnVuY3Rpb24gcmVtb3ZlU2xpZGUoZSkgewogICAgICBpZiAobnVsbCAhPSBlKSB7CiAgICAgICAgdmFyIHQgPSB0aGlzLmFjdGl2ZUluZGV4OwogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSBmb3IgKHZhciBpID0gZS5sZW5ndGggLSAxOyBpID49IDA7IGkgLT0gMSkgewogICAgICAgICAgdGhpcy52aXJ0dWFsLnNsaWRlcy5zcGxpY2UoZVtpXSwgMSksIHRoaXMucGFyYW1zLnZpcnR1YWwuY2FjaGUgJiYgZGVsZXRlIHRoaXMudmlydHVhbC5jYWNoZVtlW2ldXSwgZVtpXSA8IHQgJiYgKHQgLT0gMSksIHQgPSBNYXRoLm1heCh0LCAwKTsKICAgICAgICB9IGVsc2UgdGhpcy52aXJ0dWFsLnNsaWRlcy5zcGxpY2UoZSwgMSksIHRoaXMucGFyYW1zLnZpcnR1YWwuY2FjaGUgJiYgZGVsZXRlIHRoaXMudmlydHVhbC5jYWNoZVtlXSwgZSA8IHQgJiYgKHQgLT0gMSksIHQgPSBNYXRoLm1heCh0LCAwKTsKICAgICAgICB0aGlzLnZpcnR1YWwudXBkYXRlKCEwKSwgdGhpcy5zbGlkZVRvKHQsIDApOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlQWxsU2xpZGVzOiBmdW5jdGlvbiByZW1vdmVBbGxTbGlkZXMoKSB7CiAgICAgIHRoaXMudmlydHVhbC5zbGlkZXMgPSBbXSwgdGhpcy5wYXJhbXMudmlydHVhbC5jYWNoZSAmJiAodGhpcy52aXJ0dWFsLmNhY2hlID0ge30pLCB0aGlzLnZpcnR1YWwudXBkYXRlKCEwKSwgdGhpcy5zbGlkZVRvKDAsIDApOwogICAgfQogIH0sCiAgICAgIEogPSB7CiAgICBuYW1lOiAidmlydHVhbCIsCiAgICBwYXJhbXM6IHsKICAgICAgdmlydHVhbDogewogICAgICAgIGVuYWJsZWQ6ICExLAogICAgICAgIHNsaWRlczogW10sCiAgICAgICAgY2FjaGU6ICEwLAogICAgICAgIHJlbmRlclNsaWRlOiBudWxsLAogICAgICAgIHJlbmRlckV4dGVybmFsOiBudWxsLAogICAgICAgIGFkZFNsaWRlc0JlZm9yZTogMCwKICAgICAgICBhZGRTbGlkZXNBZnRlcjogMAogICAgICB9CiAgICB9LAogICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7CiAgICAgIG4uZXh0ZW5kKHRoaXMsIHsKICAgICAgICB2aXJ0dWFsOiB7CiAgICAgICAgICB1cGRhdGU6IFEudXBkYXRlLmJpbmQodGhpcyksCiAgICAgICAgICBhcHBlbmRTbGlkZTogUS5hcHBlbmRTbGlkZS5iaW5kKHRoaXMpLAogICAgICAgICAgcHJlcGVuZFNsaWRlOiBRLnByZXBlbmRTbGlkZS5iaW5kKHRoaXMpLAogICAgICAgICAgcmVtb3ZlU2xpZGU6IFEucmVtb3ZlU2xpZGUuYmluZCh0aGlzKSwKICAgICAgICAgIHJlbW92ZUFsbFNsaWRlczogUS5yZW1vdmVBbGxTbGlkZXMuYmluZCh0aGlzKSwKICAgICAgICAgIHJlbmRlclNsaWRlOiBRLnJlbmRlclNsaWRlLmJpbmQodGhpcyksCiAgICAgICAgICBzbGlkZXM6IHRoaXMucGFyYW1zLnZpcnR1YWwuc2xpZGVzLAogICAgICAgICAgY2FjaGU6IHt9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbjogewogICAgICBiZWZvcmVJbml0OiBmdW5jdGlvbiBiZWZvcmVJbml0KCkgewogICAgICAgIGlmICh0aGlzLnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIHsKICAgICAgICAgIHRoaXMuY2xhc3NOYW1lcy5wdXNoKHRoaXMucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyAidmlydHVhbCIpOwogICAgICAgICAgdmFyIGUgPSB7CiAgICAgICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6ICEwCiAgICAgICAgICB9OwogICAgICAgICAgbi5leHRlbmQodGhpcy5wYXJhbXMsIGUpLCBuLmV4dGVuZCh0aGlzLm9yaWdpbmFsUGFyYW1zLCBlKSwgdGhpcy5wYXJhbXMuaW5pdGlhbFNsaWRlIHx8IHRoaXMudmlydHVhbC51cGRhdGUoKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkgewogICAgICAgIHRoaXMucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCAmJiB0aGlzLnZpcnR1YWwudXBkYXRlKCk7CiAgICAgIH0KICAgIH0KICB9LAogICAgICBlZSA9IHsKICAgIGhhbmRsZTogZnVuY3Rpb24gaGFuZGxlKGkpIHsKICAgICAgdmFyIHMgPSB0aGlzLnJ0bFRyYW5zbGF0ZSwKICAgICAgICAgIGEgPSBpOwogICAgICBhLm9yaWdpbmFsRXZlbnQgJiYgKGEgPSBhLm9yaWdpbmFsRXZlbnQpOwogICAgICB2YXIgciA9IGEua2V5Q29kZSB8fCBhLmNoYXJDb2RlOwogICAgICBpZiAoIXRoaXMuYWxsb3dTbGlkZU5leHQgJiYgKHRoaXMuaXNIb3Jpem9udGFsKCkgJiYgMzkgPT09IHIgfHwgdGhpcy5pc1ZlcnRpY2FsKCkgJiYgNDAgPT09IHIgfHwgMzQgPT09IHIpKSByZXR1cm4gITE7CiAgICAgIGlmICghdGhpcy5hbGxvd1NsaWRlUHJldiAmJiAodGhpcy5pc0hvcml6b250YWwoKSAmJiAzNyA9PT0gciB8fCB0aGlzLmlzVmVydGljYWwoKSAmJiAzOCA9PT0gciB8fCAzMyA9PT0gcikpIHJldHVybiAhMTsKCiAgICAgIGlmICghKGEuc2hpZnRLZXkgfHwgYS5hbHRLZXkgfHwgYS5jdHJsS2V5IHx8IGEubWV0YUtleSB8fCBlLmFjdGl2ZUVsZW1lbnQgJiYgZS5hY3RpdmVFbGVtZW50Lm5vZGVOYW1lICYmICgiaW5wdXQiID09PSBlLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSB8fCAidGV4dGFyZWEiID09PSBlLmFjdGl2ZUVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkpKSB7CiAgICAgICAgaWYgKHRoaXMucGFyYW1zLmtleWJvYXJkLm9ubHlJblZpZXdwb3J0ICYmICgzMyA9PT0gciB8fCAzNCA9PT0gciB8fCAzNyA9PT0gciB8fCAzOSA9PT0gciB8fCAzOCA9PT0gciB8fCA0MCA9PT0gcikpIHsKICAgICAgICAgIHZhciBuID0gITE7CiAgICAgICAgICBpZiAodGhpcy4kZWwucGFyZW50cygiLiIgKyB0aGlzLnBhcmFtcy5zbGlkZUNsYXNzKS5sZW5ndGggPiAwICYmIDAgPT09IHRoaXMuJGVsLnBhcmVudHMoIi4iICsgdGhpcy5wYXJhbXMuc2xpZGVBY3RpdmVDbGFzcykubGVuZ3RoKSByZXR1cm47CiAgICAgICAgICB2YXIgbyA9IHQuaW5uZXJXaWR0aCwKICAgICAgICAgICAgICBsID0gdC5pbm5lckhlaWdodCwKICAgICAgICAgICAgICBkID0gdGhpcy4kZWwub2Zmc2V0KCk7CiAgICAgICAgICBzICYmIChkLmxlZnQgLT0gdGhpcy4kZWxbMF0uc2Nyb2xsTGVmdCk7CgogICAgICAgICAgZm9yICh2YXIgaCA9IFtbZC5sZWZ0LCBkLnRvcF0sIFtkLmxlZnQgKyB0aGlzLndpZHRoLCBkLnRvcF0sIFtkLmxlZnQsIGQudG9wICsgdGhpcy5oZWlnaHRdLCBbZC5sZWZ0ICsgdGhpcy53aWR0aCwgZC50b3AgKyB0aGlzLmhlaWdodF1dLCBwID0gMDsgcCA8IGgubGVuZ3RoOyBwICs9IDEpIHsKICAgICAgICAgICAgdmFyIGMgPSBoW3BdOwogICAgICAgICAgICBjWzBdID49IDAgJiYgY1swXSA8PSBvICYmIGNbMV0gPj0gMCAmJiBjWzFdIDw9IGwgJiYgKG4gPSAhMCk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCFuKSByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB0aGlzLmlzSG9yaXpvbnRhbCgpID8gKDMzICE9PSByICYmIDM0ICE9PSByICYmIDM3ICE9PSByICYmIDM5ICE9PSByIHx8IChhLnByZXZlbnREZWZhdWx0ID8gYS5wcmV2ZW50RGVmYXVsdCgpIDogYS5yZXR1cm5WYWx1ZSA9ICExKSwgKDM0ICE9PSByICYmIDM5ICE9PSByIHx8IHMpICYmICgzMyAhPT0gciAmJiAzNyAhPT0gciB8fCAhcykgfHwgdGhpcy5zbGlkZU5leHQoKSwgKDMzICE9PSByICYmIDM3ICE9PSByIHx8IHMpICYmICgzNCAhPT0gciAmJiAzOSAhPT0gciB8fCAhcykgfHwgdGhpcy5zbGlkZVByZXYoKSkgOiAoMzMgIT09IHIgJiYgMzQgIT09IHIgJiYgMzggIT09IHIgJiYgNDAgIT09IHIgfHwgKGEucHJldmVudERlZmF1bHQgPyBhLnByZXZlbnREZWZhdWx0KCkgOiBhLnJldHVyblZhbHVlID0gITEpLCAzNCAhPT0gciAmJiA0MCAhPT0gciB8fCB0aGlzLnNsaWRlTmV4dCgpLCAzMyAhPT0gciAmJiAzOCAhPT0gciB8fCB0aGlzLnNsaWRlUHJldigpKSwgdGhpcy5lbWl0KCJrZXlQcmVzcyIsIHIpOwogICAgICB9CiAgICB9LAogICAgZW5hYmxlOiBmdW5jdGlvbiBlbmFibGUoKSB7CiAgICAgIHRoaXMua2V5Ym9hcmQuZW5hYmxlZCB8fCAocyhlKS5vbigia2V5ZG93biIsIHRoaXMua2V5Ym9hcmQuaGFuZGxlKSwgdGhpcy5rZXlib2FyZC5lbmFibGVkID0gITApOwogICAgfSwKICAgIGRpc2FibGU6IGZ1bmN0aW9uIGRpc2FibGUoKSB7CiAgICAgIHRoaXMua2V5Ym9hcmQuZW5hYmxlZCAmJiAocyhlKS5vZmYoImtleWRvd24iLCB0aGlzLmtleWJvYXJkLmhhbmRsZSksIHRoaXMua2V5Ym9hcmQuZW5hYmxlZCA9ICExKTsKICAgIH0KICB9LAogICAgICB0ZSA9IHsKICAgIG5hbWU6ICJrZXlib2FyZCIsCiAgICBwYXJhbXM6IHsKICAgICAga2V5Ym9hcmQ6IHsKICAgICAgICBlbmFibGVkOiAhMSwKICAgICAgICBvbmx5SW5WaWV3cG9ydDogITAKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICBuLmV4dGVuZCh0aGlzLCB7CiAgICAgICAga2V5Ym9hcmQ6IHsKICAgICAgICAgIGVuYWJsZWQ6ICExLAogICAgICAgICAgZW5hYmxlOiBlZS5lbmFibGUuYmluZCh0aGlzKSwKICAgICAgICAgIGRpc2FibGU6IGVlLmRpc2FibGUuYmluZCh0aGlzKSwKICAgICAgICAgIGhhbmRsZTogZWUuaGFuZGxlLmJpbmQodGhpcykKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uOiB7CiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgICAgdGhpcy5wYXJhbXMua2V5Ym9hcmQuZW5hYmxlZCAmJiB0aGlzLmtleWJvYXJkLmVuYWJsZSgpOwogICAgICB9LAogICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgIHRoaXMua2V5Ym9hcmQuZW5hYmxlZCAmJiB0aGlzLmtleWJvYXJkLmRpc2FibGUoKTsKICAgICAgfQogICAgfQogIH07CgogIHZhciBpZSA9IHsKICAgIGxhc3RTY3JvbGxUaW1lOiBuLm5vdygpLAogICAgbGFzdEV2ZW50QmVmb3JlU25hcDogdm9pZCAwLAogICAgcmVjZW50V2hlZWxFdmVudHM6IFtdLAogICAgZXZlbnQ6IGZ1bmN0aW9uIGV2ZW50KCkgewogICAgICByZXR1cm4gdC5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoImZpcmVmb3giKSA+IC0xID8gIkRPTU1vdXNlU2Nyb2xsIiA6IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgdCA9ICJvbndoZWVsIiBpbiBlOwoKICAgICAgICBpZiAoIXQpIHsKICAgICAgICAgIHZhciBpID0gZS5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgIGkuc2V0QXR0cmlidXRlKCJvbndoZWVsIiwgInJldHVybjsiKSwgdCA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGkub253aGVlbDsKICAgICAgICB9CgogICAgICAgIHJldHVybiAhdCAmJiBlLmltcGxlbWVudGF0aW9uICYmIGUuaW1wbGVtZW50YXRpb24uaGFzRmVhdHVyZSAmJiAhMCAhPT0gZS5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKCIiLCAiIikgJiYgKHQgPSBlLmltcGxlbWVudGF0aW9uLmhhc0ZlYXR1cmUoIkV2ZW50cy53aGVlbCIsICIzLjAiKSksIHQ7CiAgICAgIH0oKSA/ICJ3aGVlbCIgOiAibW91c2V3aGVlbCI7CiAgICB9LAogICAgbm9ybWFsaXplOiBmdW5jdGlvbiBub3JtYWxpemUoZSkgewogICAgICB2YXIgdCA9IDAsCiAgICAgICAgICBpID0gMCwKICAgICAgICAgIHMgPSAwLAogICAgICAgICAgYSA9IDA7CiAgICAgIHJldHVybiAiZGV0YWlsIiBpbiBlICYmIChpID0gZS5kZXRhaWwpLCAid2hlZWxEZWx0YSIgaW4gZSAmJiAoaSA9IC1lLndoZWVsRGVsdGEgLyAxMjApLCAid2hlZWxEZWx0YVkiIGluIGUgJiYgKGkgPSAtZS53aGVlbERlbHRhWSAvIDEyMCksICJ3aGVlbERlbHRhWCIgaW4gZSAmJiAodCA9IC1lLndoZWVsRGVsdGFYIC8gMTIwKSwgImF4aXMiIGluIGUgJiYgZS5heGlzID09PSBlLkhPUklaT05UQUxfQVhJUyAmJiAodCA9IGksIGkgPSAwKSwgcyA9IDEwICogdCwgYSA9IDEwICogaSwgImRlbHRhWSIgaW4gZSAmJiAoYSA9IGUuZGVsdGFZKSwgImRlbHRhWCIgaW4gZSAmJiAocyA9IGUuZGVsdGFYKSwgZS5zaGlmdEtleSAmJiAhcyAmJiAocyA9IGEsIGEgPSAwKSwgKHMgfHwgYSkgJiYgZS5kZWx0YU1vZGUgJiYgKDEgPT09IGUuZGVsdGFNb2RlID8gKHMgKj0gNDAsIGEgKj0gNDApIDogKHMgKj0gODAwLCBhICo9IDgwMCkpLCBzICYmICF0ICYmICh0ID0gcyA8IDEgPyAtMSA6IDEpLCBhICYmICFpICYmIChpID0gYSA8IDEgPyAtMSA6IDEpLCB7CiAgICAgICAgc3Bpblg6IHQsCiAgICAgICAgc3Bpblk6IGksCiAgICAgICAgcGl4ZWxYOiBzLAogICAgICAgIHBpeGVsWTogYQogICAgICB9OwogICAgfSwKICAgIGhhbmRsZU1vdXNlRW50ZXI6IGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoKSB7CiAgICAgIHRoaXMubW91c2VFbnRlcmVkID0gITA7CiAgICB9LAogICAgaGFuZGxlTW91c2VMZWF2ZTogZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZSgpIHsKICAgICAgdGhpcy5tb3VzZUVudGVyZWQgPSAhMTsKICAgIH0sCiAgICBoYW5kbGU6IGZ1bmN0aW9uIGhhbmRsZShlKSB7CiAgICAgIHZhciB0ID0gZSwKICAgICAgICAgIGkgPSB0aGlzLAogICAgICAgICAgcyA9IGkucGFyYW1zLm1vdXNld2hlZWw7CiAgICAgIGlmIChpLnBhcmFtcy5jc3NNb2RlICYmIHQucHJldmVudERlZmF1bHQoKSwgIWkubW91c2VFbnRlcmVkICYmICFzLnJlbGVhc2VPbkVkZ2VzKSByZXR1cm4gITA7CiAgICAgIHQub3JpZ2luYWxFdmVudCAmJiAodCA9IHQub3JpZ2luYWxFdmVudCk7CiAgICAgIHZhciBhID0gMCwKICAgICAgICAgIHIgPSBpLnJ0bFRyYW5zbGF0ZSA/IC0xIDogMSwKICAgICAgICAgIG8gPSBpZS5ub3JtYWxpemUodCk7CiAgICAgIGlmIChzLmZvcmNlVG9BeGlzKSB7CiAgICAgICAgaWYgKGkuaXNIb3Jpem9udGFsKCkpIHsKICAgICAgICAgIGlmICghKE1hdGguYWJzKG8ucGl4ZWxYKSA+IE1hdGguYWJzKG8ucGl4ZWxZKSkpIHJldHVybiAhMDsKICAgICAgICAgIGEgPSBvLnBpeGVsWCAqIHI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICghKE1hdGguYWJzKG8ucGl4ZWxZKSA+IE1hdGguYWJzKG8ucGl4ZWxYKSkpIHJldHVybiAhMDsKICAgICAgICAgIGEgPSBvLnBpeGVsWTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBhID0gTWF0aC5hYnMoby5waXhlbFgpID4gTWF0aC5hYnMoby5waXhlbFkpID8gLW8ucGl4ZWxYICogciA6IC1vLnBpeGVsWTsKICAgICAgaWYgKDAgPT09IGEpIHJldHVybiAhMDsKCiAgICAgIGlmIChzLmludmVydCAmJiAoYSA9IC1hKSwgaS5wYXJhbXMuZnJlZU1vZGUpIHsKICAgICAgICB2YXIgbCA9IHsKICAgICAgICAgIHRpbWU6IG4ubm93KCksCiAgICAgICAgICBkZWx0YTogTWF0aC5hYnMoYSksCiAgICAgICAgICBkaXJlY3Rpb246IE1hdGguc2lnbihhKQogICAgICAgIH0sCiAgICAgICAgICAgIGQgPSBpLm1vdXNld2hlZWwubGFzdEV2ZW50QmVmb3JlU25hcCwKICAgICAgICAgICAgaCA9IGQgJiYgbC50aW1lIDwgZC50aW1lICsgNTAwICYmIGwuZGVsdGEgPD0gZC5kZWx0YSAmJiBsLmRpcmVjdGlvbiA9PT0gZC5kaXJlY3Rpb247CgogICAgICAgIGlmICghaCkgewogICAgICAgICAgaS5tb3VzZXdoZWVsLmxhc3RFdmVudEJlZm9yZVNuYXAgPSB2b2lkIDAsIGkucGFyYW1zLmxvb3AgJiYgaS5sb29wRml4KCk7CiAgICAgICAgICB2YXIgcCA9IGkuZ2V0VHJhbnNsYXRlKCkgKyBhICogcy5zZW5zaXRpdml0eSwKICAgICAgICAgICAgICBjID0gaS5pc0JlZ2lubmluZywKICAgICAgICAgICAgICB1ID0gaS5pc0VuZDsKCiAgICAgICAgICBpZiAocCA+PSBpLm1pblRyYW5zbGF0ZSgpICYmIChwID0gaS5taW5UcmFuc2xhdGUoKSksIHAgPD0gaS5tYXhUcmFuc2xhdGUoKSAmJiAocCA9IGkubWF4VHJhbnNsYXRlKCkpLCBpLnNldFRyYW5zaXRpb24oMCksIGkuc2V0VHJhbnNsYXRlKHApLCBpLnVwZGF0ZVByb2dyZXNzKCksIGkudXBkYXRlQWN0aXZlSW5kZXgoKSwgaS51cGRhdGVTbGlkZXNDbGFzc2VzKCksICghYyAmJiBpLmlzQmVnaW5uaW5nIHx8ICF1ICYmIGkuaXNFbmQpICYmIGkudXBkYXRlU2xpZGVzQ2xhc3NlcygpLCBpLnBhcmFtcy5mcmVlTW9kZVN0aWNreSkgewogICAgICAgICAgICBjbGVhclRpbWVvdXQoaS5tb3VzZXdoZWVsLnRpbWVvdXQpLCBpLm1vdXNld2hlZWwudGltZW91dCA9IHZvaWQgMDsKICAgICAgICAgICAgdmFyIHYgPSBpLm1vdXNld2hlZWwucmVjZW50V2hlZWxFdmVudHM7CiAgICAgICAgICAgIHYubGVuZ3RoID49IDE1ICYmIHYuc2hpZnQoKTsKICAgICAgICAgICAgdmFyIGYgPSB2Lmxlbmd0aCA/IHZbdi5sZW5ndGggLSAxXSA6IHZvaWQgMCwKICAgICAgICAgICAgICAgIG0gPSB2WzBdOwogICAgICAgICAgICBpZiAodi5wdXNoKGwpLCBmICYmIChsLmRlbHRhID4gZi5kZWx0YSB8fCBsLmRpcmVjdGlvbiAhPT0gZi5kaXJlY3Rpb24pKSB2LnNwbGljZSgwKTtlbHNlIGlmICh2Lmxlbmd0aCA+PSAxNSAmJiBsLnRpbWUgLSBtLnRpbWUgPCA1MDAgJiYgbS5kZWx0YSAtIGwuZGVsdGEgPj0gMSAmJiBsLmRlbHRhIDw9IDYpIHsKICAgICAgICAgICAgICB2YXIgZyA9IGEgPiAwID8gLjggOiAuMjsKICAgICAgICAgICAgICBpLm1vdXNld2hlZWwubGFzdEV2ZW50QmVmb3JlU25hcCA9IGwsIHYuc3BsaWNlKDApLCBpLm1vdXNld2hlZWwudGltZW91dCA9IG4ubmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgaS5zbGlkZVRvQ2xvc2VzdChpLnBhcmFtcy5zcGVlZCwgITAsIHZvaWQgMCwgZyk7CiAgICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaS5tb3VzZXdoZWVsLnRpbWVvdXQgfHwgKGkubW91c2V3aGVlbC50aW1lb3V0ID0gbi5uZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgaS5tb3VzZXdoZWVsLmxhc3RFdmVudEJlZm9yZVNuYXAgPSBsLCB2LnNwbGljZSgwKSwgaS5zbGlkZVRvQ2xvc2VzdChpLnBhcmFtcy5zcGVlZCwgITAsIHZvaWQgMCwgLjUpOwogICAgICAgICAgICB9LCA1MDApKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaCB8fCBpLmVtaXQoInNjcm9sbCIsIHQpLCBpLnBhcmFtcy5hdXRvcGxheSAmJiBpLnBhcmFtcy5hdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uICYmIGkuYXV0b3BsYXkuc3RvcCgpLCBwID09PSBpLm1pblRyYW5zbGF0ZSgpIHx8IHAgPT09IGkubWF4VHJhbnNsYXRlKCkpIHJldHVybiAhMDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGIgPSB7CiAgICAgICAgICB0aW1lOiBuLm5vdygpLAogICAgICAgICAgZGVsdGE6IE1hdGguYWJzKGEpLAogICAgICAgICAgZGlyZWN0aW9uOiBNYXRoLnNpZ24oYSksCiAgICAgICAgICByYXc6IGUKICAgICAgICB9LAogICAgICAgICAgICB3ID0gaS5tb3VzZXdoZWVsLnJlY2VudFdoZWVsRXZlbnRzOwogICAgICAgIHcubGVuZ3RoID49IDIgJiYgdy5zaGlmdCgpOwogICAgICAgIHZhciB5ID0gdy5sZW5ndGggPyB3W3cubGVuZ3RoIC0gMV0gOiB2b2lkIDA7CiAgICAgICAgaWYgKHcucHVzaChiKSwgeSA/IChiLmRpcmVjdGlvbiAhPT0geS5kaXJlY3Rpb24gfHwgYi5kZWx0YSA+IHkuZGVsdGEpICYmIGkubW91c2V3aGVlbC5hbmltYXRlU2xpZGVyKGIpIDogaS5tb3VzZXdoZWVsLmFuaW1hdGVTbGlkZXIoYiksIGkubW91c2V3aGVlbC5yZWxlYXNlU2Nyb2xsKGIpKSByZXR1cm4gITA7CiAgICAgIH0KCiAgICAgIHJldHVybiB0LnByZXZlbnREZWZhdWx0ID8gdC5wcmV2ZW50RGVmYXVsdCgpIDogdC5yZXR1cm5WYWx1ZSA9ICExLCAhMTsKICAgIH0sCiAgICBhbmltYXRlU2xpZGVyOiBmdW5jdGlvbiBhbmltYXRlU2xpZGVyKGUpIHsKICAgICAgcmV0dXJuIGUuZGVsdGEgPj0gNiAmJiBuLm5vdygpIC0gdGhpcy5tb3VzZXdoZWVsLmxhc3RTY3JvbGxUaW1lIDwgNjAgfHwgKGUuZGlyZWN0aW9uIDwgMCA/IHRoaXMuaXNFbmQgJiYgIXRoaXMucGFyYW1zLmxvb3AgfHwgdGhpcy5hbmltYXRpbmcgfHwgKHRoaXMuc2xpZGVOZXh0KCksIHRoaXMuZW1pdCgic2Nyb2xsIiwgZS5yYXcpKSA6IHRoaXMuaXNCZWdpbm5pbmcgJiYgIXRoaXMucGFyYW1zLmxvb3AgfHwgdGhpcy5hbmltYXRpbmcgfHwgKHRoaXMuc2xpZGVQcmV2KCksIHRoaXMuZW1pdCgic2Nyb2xsIiwgZS5yYXcpKSwgdGhpcy5tb3VzZXdoZWVsLmxhc3RTY3JvbGxUaW1lID0gbmV3IHQuRGF0ZSgpLmdldFRpbWUoKSwgITEpOwogICAgfSwKICAgIHJlbGVhc2VTY3JvbGw6IGZ1bmN0aW9uIHJlbGVhc2VTY3JvbGwoZSkgewogICAgICB2YXIgdCA9IHRoaXMucGFyYW1zLm1vdXNld2hlZWw7CgogICAgICBpZiAoZS5kaXJlY3Rpb24gPCAwKSB7CiAgICAgICAgaWYgKHRoaXMuaXNFbmQgJiYgIXRoaXMucGFyYW1zLmxvb3AgJiYgdC5yZWxlYXNlT25FZGdlcykgcmV0dXJuICEwOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNCZWdpbm5pbmcgJiYgIXRoaXMucGFyYW1zLmxvb3AgJiYgdC5yZWxlYXNlT25FZGdlcykgcmV0dXJuICEwOwoKICAgICAgcmV0dXJuICExOwogICAgfSwKICAgIGVuYWJsZTogZnVuY3Rpb24gZW5hYmxlKCkgewogICAgICB2YXIgZSA9IGllLmV2ZW50KCk7CiAgICAgIGlmICh0aGlzLnBhcmFtcy5jc3NNb2RlKSByZXR1cm4gdGhpcy53cmFwcGVyRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCB0aGlzLm1vdXNld2hlZWwuaGFuZGxlKSwgITA7CiAgICAgIGlmICghZSkgcmV0dXJuICExOwogICAgICBpZiAodGhpcy5tb3VzZXdoZWVsLmVuYWJsZWQpIHJldHVybiAhMTsKICAgICAgdmFyIHQgPSB0aGlzLiRlbDsKICAgICAgcmV0dXJuICJjb250YWluZXIiICE9PSB0aGlzLnBhcmFtcy5tb3VzZXdoZWVsLmV2ZW50c1RhcmdlZCAmJiAodCA9IHModGhpcy5wYXJhbXMubW91c2V3aGVlbC5ldmVudHNUYXJnZWQpKSwgdC5vbigibW91c2VlbnRlciIsIHRoaXMubW91c2V3aGVlbC5oYW5kbGVNb3VzZUVudGVyKSwgdC5vbigibW91c2VsZWF2ZSIsIHRoaXMubW91c2V3aGVlbC5oYW5kbGVNb3VzZUxlYXZlKSwgdC5vbihlLCB0aGlzLm1vdXNld2hlZWwuaGFuZGxlKSwgdGhpcy5tb3VzZXdoZWVsLmVuYWJsZWQgPSAhMCwgITA7CiAgICB9LAogICAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZSgpIHsKICAgICAgdmFyIGUgPSBpZS5ldmVudCgpOwogICAgICBpZiAodGhpcy5wYXJhbXMuY3NzTW9kZSkgcmV0dXJuIHRoaXMud3JhcHBlckVsLmFkZEV2ZW50TGlzdGVuZXIoZSwgdGhpcy5tb3VzZXdoZWVsLmhhbmRsZSksICEwOwogICAgICBpZiAoIWUpIHJldHVybiAhMTsKICAgICAgaWYgKCF0aGlzLm1vdXNld2hlZWwuZW5hYmxlZCkgcmV0dXJuICExOwogICAgICB2YXIgdCA9IHRoaXMuJGVsOwogICAgICByZXR1cm4gImNvbnRhaW5lciIgIT09IHRoaXMucGFyYW1zLm1vdXNld2hlZWwuZXZlbnRzVGFyZ2VkICYmICh0ID0gcyh0aGlzLnBhcmFtcy5tb3VzZXdoZWVsLmV2ZW50c1RhcmdlZCkpLCB0Lm9mZihlLCB0aGlzLm1vdXNld2hlZWwuaGFuZGxlKSwgdGhpcy5tb3VzZXdoZWVsLmVuYWJsZWQgPSAhMSwgITA7CiAgICB9CiAgfSwKICAgICAgc2UgPSB7CiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgdmFyIGUgPSB0aGlzLnBhcmFtcy5uYXZpZ2F0aW9uOwoKICAgICAgaWYgKCF0aGlzLnBhcmFtcy5sb29wKSB7CiAgICAgICAgdmFyIHQgPSB0aGlzLm5hdmlnYXRpb24sCiAgICAgICAgICAgIGkgPSB0LiRuZXh0RWwsCiAgICAgICAgICAgIHMgPSB0LiRwcmV2RWw7CiAgICAgICAgcyAmJiBzLmxlbmd0aCA+IDAgJiYgKHRoaXMuaXNCZWdpbm5pbmcgPyBzLmFkZENsYXNzKGUuZGlzYWJsZWRDbGFzcykgOiBzLnJlbW92ZUNsYXNzKGUuZGlzYWJsZWRDbGFzcyksIHNbdGhpcy5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiB0aGlzLmlzTG9ja2VkID8gImFkZENsYXNzIiA6ICJyZW1vdmVDbGFzcyJdKGUubG9ja0NsYXNzKSksIGkgJiYgaS5sZW5ndGggPiAwICYmICh0aGlzLmlzRW5kID8gaS5hZGRDbGFzcyhlLmRpc2FibGVkQ2xhc3MpIDogaS5yZW1vdmVDbGFzcyhlLmRpc2FibGVkQ2xhc3MpLCBpW3RoaXMucGFyYW1zLndhdGNoT3ZlcmZsb3cgJiYgdGhpcy5pc0xvY2tlZCA/ICJhZGRDbGFzcyIgOiAicmVtb3ZlQ2xhc3MiXShlLmxvY2tDbGFzcykpOwogICAgICB9CiAgICB9LAogICAgb25QcmV2Q2xpY2s6IGZ1bmN0aW9uIG9uUHJldkNsaWNrKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLmlzQmVnaW5uaW5nICYmICF0aGlzLnBhcmFtcy5sb29wIHx8IHRoaXMuc2xpZGVQcmV2KCk7CiAgICB9LAogICAgb25OZXh0Q2xpY2s6IGZ1bmN0aW9uIG9uTmV4dENsaWNrKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpLCB0aGlzLmlzRW5kICYmICF0aGlzLnBhcmFtcy5sb29wIHx8IHRoaXMuc2xpZGVOZXh0KCk7CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICB0LAogICAgICAgICAgaSA9IHRoaXMucGFyYW1zLm5hdmlnYXRpb247CiAgICAgIChpLm5leHRFbCB8fCBpLnByZXZFbCkgJiYgKGkubmV4dEVsICYmIChlID0gcyhpLm5leHRFbCksIHRoaXMucGFyYW1zLnVuaXF1ZU5hdkVsZW1lbnRzICYmICJzdHJpbmciID09IHR5cGVvZiBpLm5leHRFbCAmJiBlLmxlbmd0aCA+IDEgJiYgMSA9PT0gdGhpcy4kZWwuZmluZChpLm5leHRFbCkubGVuZ3RoICYmIChlID0gdGhpcy4kZWwuZmluZChpLm5leHRFbCkpKSwgaS5wcmV2RWwgJiYgKHQgPSBzKGkucHJldkVsKSwgdGhpcy5wYXJhbXMudW5pcXVlTmF2RWxlbWVudHMgJiYgInN0cmluZyIgPT0gdHlwZW9mIGkucHJldkVsICYmIHQubGVuZ3RoID4gMSAmJiAxID09PSB0aGlzLiRlbC5maW5kKGkucHJldkVsKS5sZW5ndGggJiYgKHQgPSB0aGlzLiRlbC5maW5kKGkucHJldkVsKSkpLCBlICYmIGUubGVuZ3RoID4gMCAmJiBlLm9uKCJjbGljayIsIHRoaXMubmF2aWdhdGlvbi5vbk5leHRDbGljayksIHQgJiYgdC5sZW5ndGggPiAwICYmIHQub24oImNsaWNrIiwgdGhpcy5uYXZpZ2F0aW9uLm9uUHJldkNsaWNrKSwgbi5leHRlbmQodGhpcy5uYXZpZ2F0aW9uLCB7CiAgICAgICAgJG5leHRFbDogZSwKICAgICAgICBuZXh0RWw6IGUgJiYgZVswXSwKICAgICAgICAkcHJldkVsOiB0LAogICAgICAgIHByZXZFbDogdCAmJiB0WzBdCiAgICAgIH0pKTsKICAgIH0sCiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICB2YXIgZSA9IHRoaXMubmF2aWdhdGlvbiwKICAgICAgICAgIHQgPSBlLiRuZXh0RWwsCiAgICAgICAgICBpID0gZS4kcHJldkVsOwogICAgICB0ICYmIHQubGVuZ3RoICYmICh0Lm9mZigiY2xpY2siLCB0aGlzLm5hdmlnYXRpb24ub25OZXh0Q2xpY2spLCB0LnJlbW92ZUNsYXNzKHRoaXMucGFyYW1zLm5hdmlnYXRpb24uZGlzYWJsZWRDbGFzcykpLCBpICYmIGkubGVuZ3RoICYmIChpLm9mZigiY2xpY2siLCB0aGlzLm5hdmlnYXRpb24ub25QcmV2Q2xpY2spLCBpLnJlbW92ZUNsYXNzKHRoaXMucGFyYW1zLm5hdmlnYXRpb24uZGlzYWJsZWRDbGFzcykpOwogICAgfQogIH0sCiAgICAgIGFlID0gewogICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7CiAgICAgIHZhciBlID0gdGhpcy5ydGwsCiAgICAgICAgICB0ID0gdGhpcy5wYXJhbXMucGFnaW5hdGlvbjsKCiAgICAgIGlmICh0LmVsICYmIHRoaXMucGFnaW5hdGlvbi5lbCAmJiB0aGlzLnBhZ2luYXRpb24uJGVsICYmIDAgIT09IHRoaXMucGFnaW5hdGlvbi4kZWwubGVuZ3RoKSB7CiAgICAgICAgdmFyIGksCiAgICAgICAgICAgIGEgPSB0aGlzLnZpcnR1YWwgJiYgdGhpcy5wYXJhbXMudmlydHVhbC5lbmFibGVkID8gdGhpcy52aXJ0dWFsLnNsaWRlcy5sZW5ndGggOiB0aGlzLnNsaWRlcy5sZW5ndGgsCiAgICAgICAgICAgIHIgPSB0aGlzLnBhZ2luYXRpb24uJGVsLAogICAgICAgICAgICBuID0gdGhpcy5wYXJhbXMubG9vcCA/IE1hdGguY2VpbCgoYSAtIDIgKiB0aGlzLmxvb3BlZFNsaWRlcykgLyB0aGlzLnBhcmFtcy5zbGlkZXNQZXJHcm91cCkgOiB0aGlzLnNuYXBHcmlkLmxlbmd0aDsKCiAgICAgICAgaWYgKHRoaXMucGFyYW1zLmxvb3AgPyAoKGkgPSBNYXRoLmNlaWwoKHRoaXMuYWN0aXZlSW5kZXggLSB0aGlzLmxvb3BlZFNsaWRlcykgLyB0aGlzLnBhcmFtcy5zbGlkZXNQZXJHcm91cCkpID4gYSAtIDEgLSAyICogdGhpcy5sb29wZWRTbGlkZXMgJiYgKGkgLT0gYSAtIDIgKiB0aGlzLmxvb3BlZFNsaWRlcyksIGkgPiBuIC0gMSAmJiAoaSAtPSBuKSwgaSA8IDAgJiYgImJ1bGxldHMiICE9PSB0aGlzLnBhcmFtcy5wYWdpbmF0aW9uVHlwZSAmJiAoaSA9IG4gKyBpKSkgOiBpID0gdm9pZCAwICE9PSB0aGlzLnNuYXBJbmRleCA/IHRoaXMuc25hcEluZGV4IDogdGhpcy5hY3RpdmVJbmRleCB8fCAwLCAiYnVsbGV0cyIgPT09IHQudHlwZSAmJiB0aGlzLnBhZ2luYXRpb24uYnVsbGV0cyAmJiB0aGlzLnBhZ2luYXRpb24uYnVsbGV0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICB2YXIgbywKICAgICAgICAgICAgICBsLAogICAgICAgICAgICAgIGQsCiAgICAgICAgICAgICAgaCA9IHRoaXMucGFnaW5hdGlvbi5idWxsZXRzOwogICAgICAgICAgaWYgKHQuZHluYW1pY0J1bGxldHMgJiYgKHRoaXMucGFnaW5hdGlvbi5idWxsZXRTaXplID0gaC5lcSgwKVt0aGlzLmlzSG9yaXpvbnRhbCgpID8gIm91dGVyV2lkdGgiIDogIm91dGVySGVpZ2h0Il0oITApLCByLmNzcyh0aGlzLmlzSG9yaXpvbnRhbCgpID8gIndpZHRoIiA6ICJoZWlnaHQiLCB0aGlzLnBhZ2luYXRpb24uYnVsbGV0U2l6ZSAqICh0LmR5bmFtaWNNYWluQnVsbGV0cyArIDQpICsgInB4IiksIHQuZHluYW1pY01haW5CdWxsZXRzID4gMSAmJiB2b2lkIDAgIT09IHRoaXMucHJldmlvdXNJbmRleCAmJiAodGhpcy5wYWdpbmF0aW9uLmR5bmFtaWNCdWxsZXRJbmRleCArPSBpIC0gdGhpcy5wcmV2aW91c0luZGV4LCB0aGlzLnBhZ2luYXRpb24uZHluYW1pY0J1bGxldEluZGV4ID4gdC5keW5hbWljTWFpbkJ1bGxldHMgLSAxID8gdGhpcy5wYWdpbmF0aW9uLmR5bmFtaWNCdWxsZXRJbmRleCA9IHQuZHluYW1pY01haW5CdWxsZXRzIC0gMSA6IHRoaXMucGFnaW5hdGlvbi5keW5hbWljQnVsbGV0SW5kZXggPCAwICYmICh0aGlzLnBhZ2luYXRpb24uZHluYW1pY0J1bGxldEluZGV4ID0gMCkpLCBvID0gaSAtIHRoaXMucGFnaW5hdGlvbi5keW5hbWljQnVsbGV0SW5kZXgsIGQgPSAoKGwgPSBvICsgKE1hdGgubWluKGgubGVuZ3RoLCB0LmR5bmFtaWNNYWluQnVsbGV0cykgLSAxKSkgKyBvKSAvIDIpLCBoLnJlbW92ZUNsYXNzKHQuYnVsbGV0QWN0aXZlQ2xhc3MgKyAiICIgKyB0LmJ1bGxldEFjdGl2ZUNsYXNzICsgIi1uZXh0ICIgKyB0LmJ1bGxldEFjdGl2ZUNsYXNzICsgIi1uZXh0LW5leHQgIiArIHQuYnVsbGV0QWN0aXZlQ2xhc3MgKyAiLXByZXYgIiArIHQuYnVsbGV0QWN0aXZlQ2xhc3MgKyAiLXByZXYtcHJldiAiICsgdC5idWxsZXRBY3RpdmVDbGFzcyArICItbWFpbiIpLCByLmxlbmd0aCA+IDEpIGguZWFjaChmdW5jdGlvbiAoZSwgYSkgewogICAgICAgICAgICB2YXIgciA9IHMoYSksCiAgICAgICAgICAgICAgICBuID0gci5pbmRleCgpOwogICAgICAgICAgICBuID09PSBpICYmIHIuYWRkQ2xhc3ModC5idWxsZXRBY3RpdmVDbGFzcyksIHQuZHluYW1pY0J1bGxldHMgJiYgKG4gPj0gbyAmJiBuIDw9IGwgJiYgci5hZGRDbGFzcyh0LmJ1bGxldEFjdGl2ZUNsYXNzICsgIi1tYWluIiksIG4gPT09IG8gJiYgci5wcmV2KCkuYWRkQ2xhc3ModC5idWxsZXRBY3RpdmVDbGFzcyArICItcHJldiIpLnByZXYoKS5hZGRDbGFzcyh0LmJ1bGxldEFjdGl2ZUNsYXNzICsgIi1wcmV2LXByZXYiKSwgbiA9PT0gbCAmJiByLm5leHQoKS5hZGRDbGFzcyh0LmJ1bGxldEFjdGl2ZUNsYXNzICsgIi1uZXh0IikubmV4dCgpLmFkZENsYXNzKHQuYnVsbGV0QWN0aXZlQ2xhc3MgKyAiLW5leHQtbmV4dCIpKTsKICAgICAgICAgIH0pO2Vsc2UgewogICAgICAgICAgICB2YXIgcCA9IGguZXEoaSksCiAgICAgICAgICAgICAgICBjID0gcC5pbmRleCgpOwoKICAgICAgICAgICAgaWYgKHAuYWRkQ2xhc3ModC5idWxsZXRBY3RpdmVDbGFzcyksIHQuZHluYW1pY0J1bGxldHMpIHsKICAgICAgICAgICAgICBmb3IgKHZhciB1ID0gaC5lcShvKSwgdiA9IGguZXEobCksIGYgPSBvOyBmIDw9IGw7IGYgKz0gMSkgewogICAgICAgICAgICAgICAgaC5lcShmKS5hZGRDbGFzcyh0LmJ1bGxldEFjdGl2ZUNsYXNzICsgIi1tYWluIik7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAodGhpcy5wYXJhbXMubG9vcCkgewogICAgICAgICAgICAgICAgaWYgKGMgPj0gaC5sZW5ndGggLSB0LmR5bmFtaWNNYWluQnVsbGV0cykgewogICAgICAgICAgICAgICAgICBmb3IgKHZhciBtID0gdC5keW5hbWljTWFpbkJ1bGxldHM7IG0gPj0gMDsgbSAtPSAxKSB7CiAgICAgICAgICAgICAgICAgICAgaC5lcShoLmxlbmd0aCAtIG0pLmFkZENsYXNzKHQuYnVsbGV0QWN0aXZlQ2xhc3MgKyAiLW1haW4iKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgaC5lcShoLmxlbmd0aCAtIHQuZHluYW1pY01haW5CdWxsZXRzIC0gMSkuYWRkQ2xhc3ModC5idWxsZXRBY3RpdmVDbGFzcyArICItcHJldiIpOwogICAgICAgICAgICAgICAgfSBlbHNlIHUucHJldigpLmFkZENsYXNzKHQuYnVsbGV0QWN0aXZlQ2xhc3MgKyAiLXByZXYiKS5wcmV2KCkuYWRkQ2xhc3ModC5idWxsZXRBY3RpdmVDbGFzcyArICItcHJldi1wcmV2IiksIHYubmV4dCgpLmFkZENsYXNzKHQuYnVsbGV0QWN0aXZlQ2xhc3MgKyAiLW5leHQiKS5uZXh0KCkuYWRkQ2xhc3ModC5idWxsZXRBY3RpdmVDbGFzcyArICItbmV4dC1uZXh0Iik7CiAgICAgICAgICAgICAgfSBlbHNlIHUucHJldigpLmFkZENsYXNzKHQuYnVsbGV0QWN0aXZlQ2xhc3MgKyAiLXByZXYiKS5wcmV2KCkuYWRkQ2xhc3ModC5idWxsZXRBY3RpdmVDbGFzcyArICItcHJldi1wcmV2IiksIHYubmV4dCgpLmFkZENsYXNzKHQuYnVsbGV0QWN0aXZlQ2xhc3MgKyAiLW5leHQiKS5uZXh0KCkuYWRkQ2xhc3ModC5idWxsZXRBY3RpdmVDbGFzcyArICItbmV4dC1uZXh0Iik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodC5keW5hbWljQnVsbGV0cykgewogICAgICAgICAgICB2YXIgZyA9IE1hdGgubWluKGgubGVuZ3RoLCB0LmR5bmFtaWNNYWluQnVsbGV0cyArIDQpLAogICAgICAgICAgICAgICAgYiA9ICh0aGlzLnBhZ2luYXRpb24uYnVsbGV0U2l6ZSAqIGcgLSB0aGlzLnBhZ2luYXRpb24uYnVsbGV0U2l6ZSkgLyAyIC0gZCAqIHRoaXMucGFnaW5hdGlvbi5idWxsZXRTaXplLAogICAgICAgICAgICAgICAgdyA9IGUgPyAicmlnaHQiIDogImxlZnQiOwogICAgICAgICAgICBoLmNzcyh0aGlzLmlzSG9yaXpvbnRhbCgpID8gdyA6ICJ0b3AiLCBiICsgInB4Iik7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoImZyYWN0aW9uIiA9PT0gdC50eXBlICYmIChyLmZpbmQoIi4iICsgdC5jdXJyZW50Q2xhc3MpLnRleHQodC5mb3JtYXRGcmFjdGlvbkN1cnJlbnQoaSArIDEpKSwgci5maW5kKCIuIiArIHQudG90YWxDbGFzcykudGV4dCh0LmZvcm1hdEZyYWN0aW9uVG90YWwobikpKSwgInByb2dyZXNzYmFyIiA9PT0gdC50eXBlKSB7CiAgICAgICAgICB2YXIgeTsKICAgICAgICAgIHkgPSB0LnByb2dyZXNzYmFyT3Bwb3NpdGUgPyB0aGlzLmlzSG9yaXpvbnRhbCgpID8gInZlcnRpY2FsIiA6ICJob3Jpem9udGFsIiA6IHRoaXMuaXNIb3Jpem9udGFsKCkgPyAiaG9yaXpvbnRhbCIgOiAidmVydGljYWwiOwogICAgICAgICAgdmFyIHggPSAoaSArIDEpIC8gbiwKICAgICAgICAgICAgICBUID0gMSwKICAgICAgICAgICAgICBFID0gMTsKICAgICAgICAgICJob3Jpem9udGFsIiA9PT0geSA/IFQgPSB4IDogRSA9IHgsIHIuZmluZCgiLiIgKyB0LnByb2dyZXNzYmFyRmlsbENsYXNzKS50cmFuc2Zvcm0oInRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZVgoIiArIFQgKyAiKSBzY2FsZVkoIiArIEUgKyAiKSIpLnRyYW5zaXRpb24odGhpcy5wYXJhbXMuc3BlZWQpOwogICAgICAgIH0KCiAgICAgICAgImN1c3RvbSIgPT09IHQudHlwZSAmJiB0LnJlbmRlckN1c3RvbSA/IChyLmh0bWwodC5yZW5kZXJDdXN0b20odGhpcywgaSArIDEsIG4pKSwgdGhpcy5lbWl0KCJwYWdpbmF0aW9uUmVuZGVyIiwgdGhpcywgclswXSkpIDogdGhpcy5lbWl0KCJwYWdpbmF0aW9uVXBkYXRlIiwgdGhpcywgclswXSksIHJbdGhpcy5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiB0aGlzLmlzTG9ja2VkID8gImFkZENsYXNzIiA6ICJyZW1vdmVDbGFzcyJdKHQubG9ja0NsYXNzKTsKICAgICAgfQogICAgfSwKICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgZSA9IHRoaXMucGFyYW1zLnBhZ2luYXRpb247CgogICAgICBpZiAoZS5lbCAmJiB0aGlzLnBhZ2luYXRpb24uZWwgJiYgdGhpcy5wYWdpbmF0aW9uLiRlbCAmJiAwICE9PSB0aGlzLnBhZ2luYXRpb24uJGVsLmxlbmd0aCkgewogICAgICAgIHZhciB0ID0gdGhpcy52aXJ0dWFsICYmIHRoaXMucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IHRoaXMudmlydHVhbC5zbGlkZXMubGVuZ3RoIDogdGhpcy5zbGlkZXMubGVuZ3RoLAogICAgICAgICAgICBpID0gdGhpcy5wYWdpbmF0aW9uLiRlbCwKICAgICAgICAgICAgcyA9ICIiOwoKICAgICAgICBpZiAoImJ1bGxldHMiID09PSBlLnR5cGUpIHsKICAgICAgICAgIGZvciAodmFyIGEgPSB0aGlzLnBhcmFtcy5sb29wID8gTWF0aC5jZWlsKCh0IC0gMiAqIHRoaXMubG9vcGVkU2xpZGVzKSAvIHRoaXMucGFyYW1zLnNsaWRlc1Blckdyb3VwKSA6IHRoaXMuc25hcEdyaWQubGVuZ3RoLCByID0gMDsgciA8IGE7IHIgKz0gMSkgewogICAgICAgICAgICBlLnJlbmRlckJ1bGxldCA/IHMgKz0gZS5yZW5kZXJCdWxsZXQuY2FsbCh0aGlzLCByLCBlLmJ1bGxldENsYXNzKSA6IHMgKz0gIjwiICsgZS5idWxsZXRFbGVtZW50ICsgJyBjbGFzcz0iJyArIGUuYnVsbGV0Q2xhc3MgKyAnIj48LycgKyBlLmJ1bGxldEVsZW1lbnQgKyAiPiI7CiAgICAgICAgICB9CgogICAgICAgICAgaS5odG1sKHMpLCB0aGlzLnBhZ2luYXRpb24uYnVsbGV0cyA9IGkuZmluZCgiLiIgKyBlLmJ1bGxldENsYXNzKTsKICAgICAgICB9CgogICAgICAgICJmcmFjdGlvbiIgPT09IGUudHlwZSAmJiAocyA9IGUucmVuZGVyRnJhY3Rpb24gPyBlLnJlbmRlckZyYWN0aW9uLmNhbGwodGhpcywgZS5jdXJyZW50Q2xhc3MsIGUudG90YWxDbGFzcykgOiAnPHNwYW4gY2xhc3M9IicgKyBlLmN1cnJlbnRDbGFzcyArICciPjwvc3Bhbj4gLyA8c3BhbiBjbGFzcz0iJyArIGUudG90YWxDbGFzcyArICciPjwvc3Bhbj4nLCBpLmh0bWwocykpLCAicHJvZ3Jlc3NiYXIiID09PSBlLnR5cGUgJiYgKHMgPSBlLnJlbmRlclByb2dyZXNzYmFyID8gZS5yZW5kZXJQcm9ncmVzc2Jhci5jYWxsKHRoaXMsIGUucHJvZ3Jlc3NiYXJGaWxsQ2xhc3MpIDogJzxzcGFuIGNsYXNzPSInICsgZS5wcm9ncmVzc2JhckZpbGxDbGFzcyArICciPjwvc3Bhbj4nLCBpLmh0bWwocykpLCAiY3VzdG9tIiAhPT0gZS50eXBlICYmIHRoaXMuZW1pdCgicGFnaW5hdGlvblJlbmRlciIsIHRoaXMucGFnaW5hdGlvbi4kZWxbMF0pOwogICAgICB9CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIGUgPSB0aGlzLAogICAgICAgICAgdCA9IGUucGFyYW1zLnBhZ2luYXRpb247CgogICAgICBpZiAodC5lbCkgewogICAgICAgIHZhciBpID0gcyh0LmVsKTsKICAgICAgICAwICE9PSBpLmxlbmd0aCAmJiAoZS5wYXJhbXMudW5pcXVlTmF2RWxlbWVudHMgJiYgInN0cmluZyIgPT0gdHlwZW9mIHQuZWwgJiYgaS5sZW5ndGggPiAxICYmIDEgPT09IGUuJGVsLmZpbmQodC5lbCkubGVuZ3RoICYmIChpID0gZS4kZWwuZmluZCh0LmVsKSksICJidWxsZXRzIiA9PT0gdC50eXBlICYmIHQuY2xpY2thYmxlICYmIGkuYWRkQ2xhc3ModC5jbGlja2FibGVDbGFzcyksIGkuYWRkQ2xhc3ModC5tb2RpZmllckNsYXNzICsgdC50eXBlKSwgImJ1bGxldHMiID09PSB0LnR5cGUgJiYgdC5keW5hbWljQnVsbGV0cyAmJiAoaS5hZGRDbGFzcygiIiArIHQubW9kaWZpZXJDbGFzcyArIHQudHlwZSArICItZHluYW1pYyIpLCBlLnBhZ2luYXRpb24uZHluYW1pY0J1bGxldEluZGV4ID0gMCwgdC5keW5hbWljTWFpbkJ1bGxldHMgPCAxICYmICh0LmR5bmFtaWNNYWluQnVsbGV0cyA9IDEpKSwgInByb2dyZXNzYmFyIiA9PT0gdC50eXBlICYmIHQucHJvZ3Jlc3NiYXJPcHBvc2l0ZSAmJiBpLmFkZENsYXNzKHQucHJvZ3Jlc3NiYXJPcHBvc2l0ZUNsYXNzKSwgdC5jbGlja2FibGUgJiYgaS5vbigiY2xpY2siLCAiLiIgKyB0LmJ1bGxldENsYXNzLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgdC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgdmFyIGkgPSBzKHRoaXMpLmluZGV4KCkgKiBlLnBhcmFtcy5zbGlkZXNQZXJHcm91cDsKICAgICAgICAgIGUucGFyYW1zLmxvb3AgJiYgKGkgKz0gZS5sb29wZWRTbGlkZXMpLCBlLnNsaWRlVG8oaSk7CiAgICAgICAgfSksIG4uZXh0ZW5kKGUucGFnaW5hdGlvbiwgewogICAgICAgICAgJGVsOiBpLAogICAgICAgICAgZWw6IGlbMF0KICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0sCiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICB2YXIgZSA9IHRoaXMucGFyYW1zLnBhZ2luYXRpb247CgogICAgICBpZiAoZS5lbCAmJiB0aGlzLnBhZ2luYXRpb24uZWwgJiYgdGhpcy5wYWdpbmF0aW9uLiRlbCAmJiAwICE9PSB0aGlzLnBhZ2luYXRpb24uJGVsLmxlbmd0aCkgewogICAgICAgIHZhciB0ID0gdGhpcy5wYWdpbmF0aW9uLiRlbDsKICAgICAgICB0LnJlbW92ZUNsYXNzKGUuaGlkZGVuQ2xhc3MpLCB0LnJlbW92ZUNsYXNzKGUubW9kaWZpZXJDbGFzcyArIGUudHlwZSksIHRoaXMucGFnaW5hdGlvbi5idWxsZXRzICYmIHRoaXMucGFnaW5hdGlvbi5idWxsZXRzLnJlbW92ZUNsYXNzKGUuYnVsbGV0QWN0aXZlQ2xhc3MpLCBlLmNsaWNrYWJsZSAmJiB0Lm9mZigiY2xpY2siLCAiLiIgKyBlLmJ1bGxldENsYXNzKTsKICAgICAgfQogICAgfQogIH0sCiAgICAgIHJlID0gewogICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7CiAgICAgIGlmICh0aGlzLnBhcmFtcy5zY3JvbGxiYXIuZWwgJiYgdGhpcy5zY3JvbGxiYXIuZWwpIHsKICAgICAgICB2YXIgZSA9IHRoaXMuc2Nyb2xsYmFyLAogICAgICAgICAgICB0ID0gdGhpcy5ydGxUcmFuc2xhdGUsCiAgICAgICAgICAgIGkgPSB0aGlzLnByb2dyZXNzLAogICAgICAgICAgICBzID0gZS5kcmFnU2l6ZSwKICAgICAgICAgICAgYSA9IGUudHJhY2tTaXplLAogICAgICAgICAgICByID0gZS4kZHJhZ0VsLAogICAgICAgICAgICBuID0gZS4kZWwsCiAgICAgICAgICAgIG8gPSB0aGlzLnBhcmFtcy5zY3JvbGxiYXIsCiAgICAgICAgICAgIGwgPSBzLAogICAgICAgICAgICBkID0gKGEgLSBzKSAqIGk7CiAgICAgICAgdCA/IChkID0gLWQpID4gMCA/IChsID0gcyAtIGQsIGQgPSAwKSA6IC1kICsgcyA+IGEgJiYgKGwgPSBhICsgZCkgOiBkIDwgMCA/IChsID0gcyArIGQsIGQgPSAwKSA6IGQgKyBzID4gYSAmJiAobCA9IGEgLSBkKSwgdGhpcy5pc0hvcml6b250YWwoKSA/IChyLnRyYW5zZm9ybSgidHJhbnNsYXRlM2QoIiArIGQgKyAicHgsIDAsIDApIiksIHJbMF0uc3R5bGUud2lkdGggPSBsICsgInB4IikgOiAoci50cmFuc2Zvcm0oInRyYW5zbGF0ZTNkKDBweCwgIiArIGQgKyAicHgsIDApIiksIHJbMF0uc3R5bGUuaGVpZ2h0ID0gbCArICJweCIpLCBvLmhpZGUgJiYgKGNsZWFyVGltZW91dCh0aGlzLnNjcm9sbGJhci50aW1lb3V0KSwgblswXS5zdHlsZS5vcGFjaXR5ID0gMSwgdGhpcy5zY3JvbGxiYXIudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgblswXS5zdHlsZS5vcGFjaXR5ID0gMCwgbi50cmFuc2l0aW9uKDQwMCk7CiAgICAgICAgfSwgMWUzKSk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGUpIHsKICAgICAgdGhpcy5wYXJhbXMuc2Nyb2xsYmFyLmVsICYmIHRoaXMuc2Nyb2xsYmFyLmVsICYmIHRoaXMuc2Nyb2xsYmFyLiRkcmFnRWwudHJhbnNpdGlvbihlKTsKICAgIH0sCiAgICB1cGRhdGVTaXplOiBmdW5jdGlvbiB1cGRhdGVTaXplKCkgewogICAgICBpZiAodGhpcy5wYXJhbXMuc2Nyb2xsYmFyLmVsICYmIHRoaXMuc2Nyb2xsYmFyLmVsKSB7CiAgICAgICAgdmFyIGUgPSB0aGlzLnNjcm9sbGJhciwKICAgICAgICAgICAgdCA9IGUuJGRyYWdFbCwKICAgICAgICAgICAgaSA9IGUuJGVsOwogICAgICAgIHRbMF0uc3R5bGUud2lkdGggPSAiIiwgdFswXS5zdHlsZS5oZWlnaHQgPSAiIjsKICAgICAgICB2YXIgcywKICAgICAgICAgICAgYSA9IHRoaXMuaXNIb3Jpem9udGFsKCkgPyBpWzBdLm9mZnNldFdpZHRoIDogaVswXS5vZmZzZXRIZWlnaHQsCiAgICAgICAgICAgIHIgPSB0aGlzLnNpemUgLyB0aGlzLnZpcnR1YWxTaXplLAogICAgICAgICAgICBvID0gciAqIChhIC8gdGhpcy5zaXplKTsKICAgICAgICBzID0gImF1dG8iID09PSB0aGlzLnBhcmFtcy5zY3JvbGxiYXIuZHJhZ1NpemUgPyBhICogciA6IHBhcnNlSW50KHRoaXMucGFyYW1zLnNjcm9sbGJhci5kcmFnU2l6ZSwgMTApLCB0aGlzLmlzSG9yaXpvbnRhbCgpID8gdFswXS5zdHlsZS53aWR0aCA9IHMgKyAicHgiIDogdFswXS5zdHlsZS5oZWlnaHQgPSBzICsgInB4IiwgaVswXS5zdHlsZS5kaXNwbGF5ID0gciA+PSAxID8gIm5vbmUiIDogIiIsIHRoaXMucGFyYW1zLnNjcm9sbGJhci5oaWRlICYmIChpWzBdLnN0eWxlLm9wYWNpdHkgPSAwKSwgbi5leHRlbmQoZSwgewogICAgICAgICAgdHJhY2tTaXplOiBhLAogICAgICAgICAgZGl2aWRlcjogciwKICAgICAgICAgIG1vdmVEaXZpZGVyOiBvLAogICAgICAgICAgZHJhZ1NpemU6IHMKICAgICAgICB9KSwgZS4kZWxbdGhpcy5wYXJhbXMud2F0Y2hPdmVyZmxvdyAmJiB0aGlzLmlzTG9ja2VkID8gImFkZENsYXNzIiA6ICJyZW1vdmVDbGFzcyJdKHRoaXMucGFyYW1zLnNjcm9sbGJhci5sb2NrQ2xhc3MpOwogICAgICB9CiAgICB9LAogICAgZ2V0UG9pbnRlclBvc2l0aW9uOiBmdW5jdGlvbiBnZXRQb2ludGVyUG9zaXRpb24oZSkgewogICAgICByZXR1cm4gdGhpcy5pc0hvcml6b250YWwoKSA/ICJ0b3VjaHN0YXJ0IiA9PT0gZS50eXBlIHx8ICJ0b3VjaG1vdmUiID09PSBlLnR5cGUgPyBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WCA6IGUuY2xpZW50WCA6ICJ0b3VjaHN0YXJ0IiA9PT0gZS50eXBlIHx8ICJ0b3VjaG1vdmUiID09PSBlLnR5cGUgPyBlLnRhcmdldFRvdWNoZXNbMF0uY2xpZW50WSA6IGUuY2xpZW50WTsKICAgIH0sCiAgICBzZXREcmFnUG9zaXRpb246IGZ1bmN0aW9uIHNldERyYWdQb3NpdGlvbihlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgaSA9IHRoaXMuc2Nyb2xsYmFyLAogICAgICAgICAgcyA9IHRoaXMucnRsVHJhbnNsYXRlLAogICAgICAgICAgYSA9IGkuJGVsLAogICAgICAgICAgciA9IGkuZHJhZ1NpemUsCiAgICAgICAgICBuID0gaS50cmFja1NpemUsCiAgICAgICAgICBvID0gaS5kcmFnU3RhcnRQb3M7CiAgICAgIHQgPSAoaS5nZXRQb2ludGVyUG9zaXRpb24oZSkgLSBhLm9mZnNldCgpW3RoaXMuaXNIb3Jpem9udGFsKCkgPyAibGVmdCIgOiAidG9wIl0gLSAobnVsbCAhPT0gbyA/IG8gOiByIC8gMikpIC8gKG4gLSByKSwgdCA9IE1hdGgubWF4KE1hdGgubWluKHQsIDEpLCAwKSwgcyAmJiAodCA9IDEgLSB0KTsKICAgICAgdmFyIGwgPSB0aGlzLm1pblRyYW5zbGF0ZSgpICsgKHRoaXMubWF4VHJhbnNsYXRlKCkgLSB0aGlzLm1pblRyYW5zbGF0ZSgpKSAqIHQ7CiAgICAgIHRoaXMudXBkYXRlUHJvZ3Jlc3MobCksIHRoaXMuc2V0VHJhbnNsYXRlKGwpLCB0aGlzLnVwZGF0ZUFjdGl2ZUluZGV4KCksIHRoaXMudXBkYXRlU2xpZGVzQ2xhc3NlcygpOwogICAgfSwKICAgIG9uRHJhZ1N0YXJ0OiBmdW5jdGlvbiBvbkRyYWdTdGFydChlKSB7CiAgICAgIHZhciB0ID0gdGhpcy5wYXJhbXMuc2Nyb2xsYmFyLAogICAgICAgICAgaSA9IHRoaXMuc2Nyb2xsYmFyLAogICAgICAgICAgcyA9IHRoaXMuJHdyYXBwZXJFbCwKICAgICAgICAgIGEgPSBpLiRlbCwKICAgICAgICAgIHIgPSBpLiRkcmFnRWw7CiAgICAgIHRoaXMuc2Nyb2xsYmFyLmlzVG91Y2hlZCA9ICEwLCB0aGlzLnNjcm9sbGJhci5kcmFnU3RhcnRQb3MgPSBlLnRhcmdldCA9PT0gclswXSB8fCBlLnRhcmdldCA9PT0gciA/IGkuZ2V0UG9pbnRlclBvc2l0aW9uKGUpIC0gZS50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbdGhpcy5pc0hvcml6b250YWwoKSA/ICJsZWZ0IiA6ICJ0b3AiXSA6IG51bGwsIGUucHJldmVudERlZmF1bHQoKSwgZS5zdG9wUHJvcGFnYXRpb24oKSwgcy50cmFuc2l0aW9uKDEwMCksIHIudHJhbnNpdGlvbigxMDApLCBpLnNldERyYWdQb3NpdGlvbihlKSwgY2xlYXJUaW1lb3V0KHRoaXMuc2Nyb2xsYmFyLmRyYWdUaW1lb3V0KSwgYS50cmFuc2l0aW9uKDApLCB0LmhpZGUgJiYgYS5jc3MoIm9wYWNpdHkiLCAxKSwgdGhpcy5wYXJhbXMuY3NzTW9kZSAmJiB0aGlzLiR3cmFwcGVyRWwuY3NzKCJzY3JvbGwtc25hcC10eXBlIiwgIm5vbmUiKSwgdGhpcy5lbWl0KCJzY3JvbGxiYXJEcmFnU3RhcnQiLCBlKTsKICAgIH0sCiAgICBvbkRyYWdNb3ZlOiBmdW5jdGlvbiBvbkRyYWdNb3ZlKGUpIHsKICAgICAgdmFyIHQgPSB0aGlzLnNjcm9sbGJhciwKICAgICAgICAgIGkgPSB0aGlzLiR3cmFwcGVyRWwsCiAgICAgICAgICBzID0gdC4kZWwsCiAgICAgICAgICBhID0gdC4kZHJhZ0VsOwogICAgICB0aGlzLnNjcm9sbGJhci5pc1RvdWNoZWQgJiYgKGUucHJldmVudERlZmF1bHQgPyBlLnByZXZlbnREZWZhdWx0KCkgOiBlLnJldHVyblZhbHVlID0gITEsIHQuc2V0RHJhZ1Bvc2l0aW9uKGUpLCBpLnRyYW5zaXRpb24oMCksIHMudHJhbnNpdGlvbigwKSwgYS50cmFuc2l0aW9uKDApLCB0aGlzLmVtaXQoInNjcm9sbGJhckRyYWdNb3ZlIiwgZSkpOwogICAgfSwKICAgIG9uRHJhZ0VuZDogZnVuY3Rpb24gb25EcmFnRW5kKGUpIHsKICAgICAgdmFyIHQgPSB0aGlzLnBhcmFtcy5zY3JvbGxiYXIsCiAgICAgICAgICBpID0gdGhpcy5zY3JvbGxiYXIsCiAgICAgICAgICBzID0gdGhpcy4kd3JhcHBlckVsLAogICAgICAgICAgYSA9IGkuJGVsOwogICAgICB0aGlzLnNjcm9sbGJhci5pc1RvdWNoZWQgJiYgKHRoaXMuc2Nyb2xsYmFyLmlzVG91Y2hlZCA9ICExLCB0aGlzLnBhcmFtcy5jc3NNb2RlICYmICh0aGlzLiR3cmFwcGVyRWwuY3NzKCJzY3JvbGwtc25hcC10eXBlIiwgIiIpLCBzLnRyYW5zaXRpb24oIiIpKSwgdC5oaWRlICYmIChjbGVhclRpbWVvdXQodGhpcy5zY3JvbGxiYXIuZHJhZ1RpbWVvdXQpLCB0aGlzLnNjcm9sbGJhci5kcmFnVGltZW91dCA9IG4ubmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIGEuY3NzKCJvcGFjaXR5IiwgMCksIGEudHJhbnNpdGlvbig0MDApOwogICAgICB9LCAxZTMpKSwgdGhpcy5lbWl0KCJzY3JvbGxiYXJEcmFnRW5kIiwgZSksIHQuc25hcE9uUmVsZWFzZSAmJiB0aGlzLnNsaWRlVG9DbG9zZXN0KCkpOwogICAgfSwKICAgIGVuYWJsZURyYWdnYWJsZTogZnVuY3Rpb24gZW5hYmxlRHJhZ2dhYmxlKCkgewogICAgICBpZiAodGhpcy5wYXJhbXMuc2Nyb2xsYmFyLmVsKSB7CiAgICAgICAgdmFyIHQgPSB0aGlzLnNjcm9sbGJhciwKICAgICAgICAgICAgaSA9IHRoaXMudG91Y2hFdmVudHNUb3VjaCwKICAgICAgICAgICAgcyA9IHRoaXMudG91Y2hFdmVudHNEZXNrdG9wLAogICAgICAgICAgICBhID0gdGhpcy5wYXJhbXMsCiAgICAgICAgICAgIHIgPSB0LiRlbFswXSwKICAgICAgICAgICAgbiA9ICEoIW8ucGFzc2l2ZUxpc3RlbmVyIHx8ICFhLnBhc3NpdmVMaXN0ZW5lcnMpICYmIHsKICAgICAgICAgIHBhc3NpdmU6ICExLAogICAgICAgICAgY2FwdHVyZTogITEKICAgICAgICB9LAogICAgICAgICAgICBsID0gISghby5wYXNzaXZlTGlzdGVuZXIgfHwgIWEucGFzc2l2ZUxpc3RlbmVycykgJiYgewogICAgICAgICAgcGFzc2l2ZTogITAsCiAgICAgICAgICBjYXB0dXJlOiAhMQogICAgICAgIH07CiAgICAgICAgby50b3VjaCA/IChyLmFkZEV2ZW50TGlzdGVuZXIoaS5zdGFydCwgdGhpcy5zY3JvbGxiYXIub25EcmFnU3RhcnQsIG4pLCByLmFkZEV2ZW50TGlzdGVuZXIoaS5tb3ZlLCB0aGlzLnNjcm9sbGJhci5vbkRyYWdNb3ZlLCBuKSwgci5hZGRFdmVudExpc3RlbmVyKGkuZW5kLCB0aGlzLnNjcm9sbGJhci5vbkRyYWdFbmQsIGwpKSA6IChyLmFkZEV2ZW50TGlzdGVuZXIocy5zdGFydCwgdGhpcy5zY3JvbGxiYXIub25EcmFnU3RhcnQsIG4pLCBlLmFkZEV2ZW50TGlzdGVuZXIocy5tb3ZlLCB0aGlzLnNjcm9sbGJhci5vbkRyYWdNb3ZlLCBuKSwgZS5hZGRFdmVudExpc3RlbmVyKHMuZW5kLCB0aGlzLnNjcm9sbGJhci5vbkRyYWdFbmQsIGwpKTsKICAgICAgfQogICAgfSwKICAgIGRpc2FibGVEcmFnZ2FibGU6IGZ1bmN0aW9uIGRpc2FibGVEcmFnZ2FibGUoKSB7CiAgICAgIGlmICh0aGlzLnBhcmFtcy5zY3JvbGxiYXIuZWwpIHsKICAgICAgICB2YXIgdCA9IHRoaXMuc2Nyb2xsYmFyLAogICAgICAgICAgICBpID0gdGhpcy50b3VjaEV2ZW50c1RvdWNoLAogICAgICAgICAgICBzID0gdGhpcy50b3VjaEV2ZW50c0Rlc2t0b3AsCiAgICAgICAgICAgIGEgPSB0aGlzLnBhcmFtcywKICAgICAgICAgICAgciA9IHQuJGVsWzBdLAogICAgICAgICAgICBuID0gISghby5wYXNzaXZlTGlzdGVuZXIgfHwgIWEucGFzc2l2ZUxpc3RlbmVycykgJiYgewogICAgICAgICAgcGFzc2l2ZTogITEsCiAgICAgICAgICBjYXB0dXJlOiAhMQogICAgICAgIH0sCiAgICAgICAgICAgIGwgPSAhKCFvLnBhc3NpdmVMaXN0ZW5lciB8fCAhYS5wYXNzaXZlTGlzdGVuZXJzKSAmJiB7CiAgICAgICAgICBwYXNzaXZlOiAhMCwKICAgICAgICAgIGNhcHR1cmU6ICExCiAgICAgICAgfTsKICAgICAgICBvLnRvdWNoID8gKHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLnN0YXJ0LCB0aGlzLnNjcm9sbGJhci5vbkRyYWdTdGFydCwgbiksIHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLm1vdmUsIHRoaXMuc2Nyb2xsYmFyLm9uRHJhZ01vdmUsIG4pLCByLnJlbW92ZUV2ZW50TGlzdGVuZXIoaS5lbmQsIHRoaXMuc2Nyb2xsYmFyLm9uRHJhZ0VuZCwgbCkpIDogKHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLnN0YXJ0LCB0aGlzLnNjcm9sbGJhci5vbkRyYWdTdGFydCwgbiksIGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLm1vdmUsIHRoaXMuc2Nyb2xsYmFyLm9uRHJhZ01vdmUsIG4pLCBlLnJlbW92ZUV2ZW50TGlzdGVuZXIocy5lbmQsIHRoaXMuc2Nyb2xsYmFyLm9uRHJhZ0VuZCwgbCkpOwogICAgICB9CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgaWYgKHRoaXMucGFyYW1zLnNjcm9sbGJhci5lbCkgewogICAgICAgIHZhciBlID0gdGhpcy5zY3JvbGxiYXIsCiAgICAgICAgICAgIHQgPSB0aGlzLiRlbCwKICAgICAgICAgICAgaSA9IHRoaXMucGFyYW1zLnNjcm9sbGJhciwKICAgICAgICAgICAgYSA9IHMoaS5lbCk7CiAgICAgICAgdGhpcy5wYXJhbXMudW5pcXVlTmF2RWxlbWVudHMgJiYgInN0cmluZyIgPT0gdHlwZW9mIGkuZWwgJiYgYS5sZW5ndGggPiAxICYmIDEgPT09IHQuZmluZChpLmVsKS5sZW5ndGggJiYgKGEgPSB0LmZpbmQoaS5lbCkpOwogICAgICAgIHZhciByID0gYS5maW5kKCIuIiArIHRoaXMucGFyYW1zLnNjcm9sbGJhci5kcmFnQ2xhc3MpOwogICAgICAgIDAgPT09IHIubGVuZ3RoICYmIChyID0gcygnPGRpdiBjbGFzcz0iJyArIHRoaXMucGFyYW1zLnNjcm9sbGJhci5kcmFnQ2xhc3MgKyAnIj48L2Rpdj4nKSwgYS5hcHBlbmQocikpLCBuLmV4dGVuZChlLCB7CiAgICAgICAgICAkZWw6IGEsCiAgICAgICAgICBlbDogYVswXSwKICAgICAgICAgICRkcmFnRWw6IHIsCiAgICAgICAgICBkcmFnRWw6IHJbMF0KICAgICAgICB9KSwgaS5kcmFnZ2FibGUgJiYgZS5lbmFibGVEcmFnZ2FibGUoKTsKICAgICAgfQogICAgfSwKICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgIHRoaXMuc2Nyb2xsYmFyLmRpc2FibGVEcmFnZ2FibGUoKTsKICAgIH0KICB9LAogICAgICBuZSA9IHsKICAgIHNldFRyYW5zZm9ybTogZnVuY3Rpb24gc2V0VHJhbnNmb3JtKGUsIHQpIHsKICAgICAgdmFyIGkgPSB0aGlzLnJ0bCwKICAgICAgICAgIGEgPSBzKGUpLAogICAgICAgICAgciA9IGkgPyAtMSA6IDEsCiAgICAgICAgICBuID0gYS5hdHRyKCJkYXRhLXN3aXBlci1wYXJhbGxheCIpIHx8ICIwIiwKICAgICAgICAgIG8gPSBhLmF0dHIoImRhdGEtc3dpcGVyLXBhcmFsbGF4LXgiKSwKICAgICAgICAgIGwgPSBhLmF0dHIoImRhdGEtc3dpcGVyLXBhcmFsbGF4LXkiKSwKICAgICAgICAgIGQgPSBhLmF0dHIoImRhdGEtc3dpcGVyLXBhcmFsbGF4LXNjYWxlIiksCiAgICAgICAgICBoID0gYS5hdHRyKCJkYXRhLXN3aXBlci1wYXJhbGxheC1vcGFjaXR5Iik7CgogICAgICBpZiAobyB8fCBsID8gKG8gPSBvIHx8ICIwIiwgbCA9IGwgfHwgIjAiKSA6IHRoaXMuaXNIb3Jpem9udGFsKCkgPyAobyA9IG4sIGwgPSAiMCIpIDogKGwgPSBuLCBvID0gIjAiKSwgbyA9IG8uaW5kZXhPZigiJSIpID49IDAgPyBwYXJzZUludChvLCAxMCkgKiB0ICogciArICIlIiA6IG8gKiB0ICogciArICJweCIsIGwgPSBsLmluZGV4T2YoIiUiKSA+PSAwID8gcGFyc2VJbnQobCwgMTApICogdCArICIlIiA6IGwgKiB0ICsgInB4IiwgbnVsbCAhPSBoKSB7CiAgICAgICAgdmFyIHAgPSBoIC0gKGggLSAxKSAqICgxIC0gTWF0aC5hYnModCkpOwogICAgICAgIGFbMF0uc3R5bGUub3BhY2l0eSA9IHA7CiAgICAgIH0KCiAgICAgIGlmIChudWxsID09IGQpIGEudHJhbnNmb3JtKCJ0cmFuc2xhdGUzZCgiICsgbyArICIsICIgKyBsICsgIiwgMHB4KSIpO2Vsc2UgewogICAgICAgIHZhciBjID0gZCAtIChkIC0gMSkgKiAoMSAtIE1hdGguYWJzKHQpKTsKICAgICAgICBhLnRyYW5zZm9ybSgidHJhbnNsYXRlM2QoIiArIG8gKyAiLCAiICsgbCArICIsIDBweCkgc2NhbGUoIiArIGMgKyAiKSIpOwogICAgICB9CiAgICB9LAogICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7CiAgICAgIHZhciBlID0gdGhpcywKICAgICAgICAgIHQgPSBlLiRlbCwKICAgICAgICAgIGkgPSBlLnNsaWRlcywKICAgICAgICAgIGEgPSBlLnByb2dyZXNzLAogICAgICAgICAgciA9IGUuc25hcEdyaWQ7CiAgICAgIHQuY2hpbGRyZW4oIltkYXRhLXN3aXBlci1wYXJhbGxheF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC14XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtb3BhY2l0eV0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1zY2FsZV0iKS5lYWNoKGZ1bmN0aW9uICh0LCBpKSB7CiAgICAgICAgZS5wYXJhbGxheC5zZXRUcmFuc2Zvcm0oaSwgYSk7CiAgICAgIH0pLCBpLmVhY2goZnVuY3Rpb24gKHQsIGkpIHsKICAgICAgICB2YXIgbiA9IGkucHJvZ3Jlc3M7CiAgICAgICAgZS5wYXJhbXMuc2xpZGVzUGVyR3JvdXAgPiAxICYmICJhdXRvIiAhPT0gZS5wYXJhbXMuc2xpZGVzUGVyVmlldyAmJiAobiArPSBNYXRoLmNlaWwodCAvIDIpIC0gYSAqIChyLmxlbmd0aCAtIDEpKSwgbiA9IE1hdGgubWluKE1hdGgubWF4KG4sIC0xKSwgMSksIHMoaSkuZmluZCgiW2RhdGEtc3dpcGVyLXBhcmFsbGF4XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteV0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC1vcGFjaXR5XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LXNjYWxlXSIpLmVhY2goZnVuY3Rpb24gKHQsIGkpIHsKICAgICAgICAgIGUucGFyYWxsYXguc2V0VHJhbnNmb3JtKGksIG4pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGUpIHsKICAgICAgdm9pZCAwID09PSBlICYmIChlID0gdGhpcy5wYXJhbXMuc3BlZWQpOwogICAgICB0aGlzLiRlbC5maW5kKCJbZGF0YS1zd2lwZXItcGFyYWxsYXhdLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgteF0sIFtkYXRhLXN3aXBlci1wYXJhbGxheC15XSwgW2RhdGEtc3dpcGVyLXBhcmFsbGF4LW9wYWNpdHldLCBbZGF0YS1zd2lwZXItcGFyYWxsYXgtc2NhbGVdIikuZWFjaChmdW5jdGlvbiAodCwgaSkgewogICAgICAgIHZhciBhID0gcyhpKSwKICAgICAgICAgICAgciA9IHBhcnNlSW50KGEuYXR0cigiZGF0YS1zd2lwZXItcGFyYWxsYXgtZHVyYXRpb24iKSwgMTApIHx8IGU7CiAgICAgICAgMCA9PT0gZSAmJiAociA9IDApLCBhLnRyYW5zaXRpb24ocik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgICAgIG9lID0gewogICAgZ2V0RGlzdGFuY2VCZXR3ZWVuVG91Y2hlczogZnVuY3Rpb24gZ2V0RGlzdGFuY2VCZXR3ZWVuVG91Y2hlcyhlKSB7CiAgICAgIGlmIChlLnRhcmdldFRvdWNoZXMubGVuZ3RoIDwgMikgcmV0dXJuIDE7CiAgICAgIHZhciB0ID0gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYLAogICAgICAgICAgaSA9IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSwKICAgICAgICAgIHMgPSBlLnRhcmdldFRvdWNoZXNbMV0ucGFnZVgsCiAgICAgICAgICBhID0gZS50YXJnZXRUb3VjaGVzWzFdLnBhZ2VZOwogICAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHMgLSB0LCAyKSArIE1hdGgucG93KGEgLSBpLCAyKSk7CiAgICB9LAogICAgb25HZXN0dXJlU3RhcnQ6IGZ1bmN0aW9uIG9uR2VzdHVyZVN0YXJ0KGUpIHsKICAgICAgdmFyIHQgPSB0aGlzLnBhcmFtcy56b29tLAogICAgICAgICAgaSA9IHRoaXMuem9vbSwKICAgICAgICAgIGEgPSBpLmdlc3R1cmU7CgogICAgICBpZiAoaS5mYWtlR2VzdHVyZVRvdWNoZWQgPSAhMSwgaS5mYWtlR2VzdHVyZU1vdmVkID0gITEsICFvLmdlc3R1cmVzKSB7CiAgICAgICAgaWYgKCJ0b3VjaHN0YXJ0IiAhPT0gZS50eXBlIHx8ICJ0b3VjaHN0YXJ0IiA9PT0gZS50eXBlICYmIGUudGFyZ2V0VG91Y2hlcy5sZW5ndGggPCAyKSByZXR1cm47CiAgICAgICAgaS5mYWtlR2VzdHVyZVRvdWNoZWQgPSAhMCwgYS5zY2FsZVN0YXJ0ID0gb2UuZ2V0RGlzdGFuY2VCZXR3ZWVuVG91Y2hlcyhlKTsKICAgICAgfQoKICAgICAgYS4kc2xpZGVFbCAmJiBhLiRzbGlkZUVsLmxlbmd0aCB8fCAoYS4kc2xpZGVFbCA9IHMoZS50YXJnZXQpLmNsb3Nlc3QoIi5zd2lwZXItc2xpZGUiKSwgMCA9PT0gYS4kc2xpZGVFbC5sZW5ndGggJiYgKGEuJHNsaWRlRWwgPSB0aGlzLnNsaWRlcy5lcSh0aGlzLmFjdGl2ZUluZGV4KSksIGEuJGltYWdlRWwgPSBhLiRzbGlkZUVsLmZpbmQoImltZywgc3ZnLCBjYW52YXMiKSwgYS4kaW1hZ2VXcmFwRWwgPSBhLiRpbWFnZUVsLnBhcmVudCgiLiIgKyB0LmNvbnRhaW5lckNsYXNzKSwgYS5tYXhSYXRpbyA9IGEuJGltYWdlV3JhcEVsLmF0dHIoImRhdGEtc3dpcGVyLXpvb20iKSB8fCB0Lm1heFJhdGlvLCAwICE9PSBhLiRpbWFnZVdyYXBFbC5sZW5ndGgpID8gKGEuJGltYWdlRWwudHJhbnNpdGlvbigwKSwgdGhpcy56b29tLmlzU2NhbGluZyA9ICEwKSA6IGEuJGltYWdlRWwgPSB2b2lkIDA7CiAgICB9LAogICAgb25HZXN0dXJlQ2hhbmdlOiBmdW5jdGlvbiBvbkdlc3R1cmVDaGFuZ2UoZSkgewogICAgICB2YXIgdCA9IHRoaXMucGFyYW1zLnpvb20sCiAgICAgICAgICBpID0gdGhpcy56b29tLAogICAgICAgICAgcyA9IGkuZ2VzdHVyZTsKCiAgICAgIGlmICghby5nZXN0dXJlcykgewogICAgICAgIGlmICgidG91Y2htb3ZlIiAhPT0gZS50eXBlIHx8ICJ0b3VjaG1vdmUiID09PSBlLnR5cGUgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA8IDIpIHJldHVybjsKICAgICAgICBpLmZha2VHZXN0dXJlTW92ZWQgPSAhMCwgcy5zY2FsZU1vdmUgPSBvZS5nZXREaXN0YW5jZUJldHdlZW5Ub3VjaGVzKGUpOwogICAgICB9CgogICAgICBzLiRpbWFnZUVsICYmIDAgIT09IHMuJGltYWdlRWwubGVuZ3RoICYmIChvLmdlc3R1cmVzID8gaS5zY2FsZSA9IGUuc2NhbGUgKiBpLmN1cnJlbnRTY2FsZSA6IGkuc2NhbGUgPSBzLnNjYWxlTW92ZSAvIHMuc2NhbGVTdGFydCAqIGkuY3VycmVudFNjYWxlLCBpLnNjYWxlID4gcy5tYXhSYXRpbyAmJiAoaS5zY2FsZSA9IHMubWF4UmF0aW8gLSAxICsgTWF0aC5wb3coaS5zY2FsZSAtIHMubWF4UmF0aW8gKyAxLCAuNSkpLCBpLnNjYWxlIDwgdC5taW5SYXRpbyAmJiAoaS5zY2FsZSA9IHQubWluUmF0aW8gKyAxIC0gTWF0aC5wb3codC5taW5SYXRpbyAtIGkuc2NhbGUgKyAxLCAuNSkpLCBzLiRpbWFnZUVsLnRyYW5zZm9ybSgidHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKCIgKyBpLnNjYWxlICsgIikiKSk7CiAgICB9LAogICAgb25HZXN0dXJlRW5kOiBmdW5jdGlvbiBvbkdlc3R1cmVFbmQoZSkgewogICAgICB2YXIgdCA9IHRoaXMucGFyYW1zLnpvb20sCiAgICAgICAgICBpID0gdGhpcy56b29tLAogICAgICAgICAgcyA9IGkuZ2VzdHVyZTsKCiAgICAgIGlmICghby5nZXN0dXJlcykgewogICAgICAgIGlmICghaS5mYWtlR2VzdHVyZVRvdWNoZWQgfHwgIWkuZmFrZUdlc3R1cmVNb3ZlZCkgcmV0dXJuOwogICAgICAgIGlmICgidG91Y2hlbmQiICE9PSBlLnR5cGUgfHwgInRvdWNoZW5kIiA9PT0gZS50eXBlICYmIGUuY2hhbmdlZFRvdWNoZXMubGVuZ3RoIDwgMiAmJiAhSS5hbmRyb2lkKSByZXR1cm47CiAgICAgICAgaS5mYWtlR2VzdHVyZVRvdWNoZWQgPSAhMSwgaS5mYWtlR2VzdHVyZU1vdmVkID0gITE7CiAgICAgIH0KCiAgICAgIHMuJGltYWdlRWwgJiYgMCAhPT0gcy4kaW1hZ2VFbC5sZW5ndGggJiYgKGkuc2NhbGUgPSBNYXRoLm1heChNYXRoLm1pbihpLnNjYWxlLCBzLm1heFJhdGlvKSwgdC5taW5SYXRpbyksIHMuJGltYWdlRWwudHJhbnNpdGlvbih0aGlzLnBhcmFtcy5zcGVlZCkudHJhbnNmb3JtKCJ0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGUoIiArIGkuc2NhbGUgKyAiKSIpLCBpLmN1cnJlbnRTY2FsZSA9IGkuc2NhbGUsIGkuaXNTY2FsaW5nID0gITEsIDEgPT09IGkuc2NhbGUgJiYgKHMuJHNsaWRlRWwgPSB2b2lkIDApKTsKICAgIH0sCiAgICBvblRvdWNoU3RhcnQ6IGZ1bmN0aW9uIG9uVG91Y2hTdGFydChlKSB7CiAgICAgIHZhciB0ID0gdGhpcy56b29tLAogICAgICAgICAgaSA9IHQuZ2VzdHVyZSwKICAgICAgICAgIHMgPSB0LmltYWdlOwogICAgICBpLiRpbWFnZUVsICYmIDAgIT09IGkuJGltYWdlRWwubGVuZ3RoICYmIChzLmlzVG91Y2hlZCB8fCAoSS5hbmRyb2lkICYmIGUucHJldmVudERlZmF1bHQoKSwgcy5pc1RvdWNoZWQgPSAhMCwgcy50b3VjaGVzU3RhcnQueCA9ICJ0b3VjaHN0YXJ0IiA9PT0gZS50eXBlID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWCwgcy50b3VjaGVzU3RhcnQueSA9ICJ0b3VjaHN0YXJ0IiA9PT0gZS50eXBlID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWSkpOwogICAgfSwKICAgIG9uVG91Y2hNb3ZlOiBmdW5jdGlvbiBvblRvdWNoTW92ZShlKSB7CiAgICAgIHZhciB0ID0gdGhpcy56b29tLAogICAgICAgICAgaSA9IHQuZ2VzdHVyZSwKICAgICAgICAgIHMgPSB0LmltYWdlLAogICAgICAgICAgYSA9IHQudmVsb2NpdHk7CgogICAgICBpZiAoaS4kaW1hZ2VFbCAmJiAwICE9PSBpLiRpbWFnZUVsLmxlbmd0aCAmJiAodGhpcy5hbGxvd0NsaWNrID0gITEsIHMuaXNUb3VjaGVkICYmIGkuJHNsaWRlRWwpKSB7CiAgICAgICAgcy5pc01vdmVkIHx8IChzLndpZHRoID0gaS4kaW1hZ2VFbFswXS5vZmZzZXRXaWR0aCwgcy5oZWlnaHQgPSBpLiRpbWFnZUVsWzBdLm9mZnNldEhlaWdodCwgcy5zdGFydFggPSBuLmdldFRyYW5zbGF0ZShpLiRpbWFnZVdyYXBFbFswXSwgIngiKSB8fCAwLCBzLnN0YXJ0WSA9IG4uZ2V0VHJhbnNsYXRlKGkuJGltYWdlV3JhcEVsWzBdLCAieSIpIHx8IDAsIGkuc2xpZGVXaWR0aCA9IGkuJHNsaWRlRWxbMF0ub2Zmc2V0V2lkdGgsIGkuc2xpZGVIZWlnaHQgPSBpLiRzbGlkZUVsWzBdLm9mZnNldEhlaWdodCwgaS4kaW1hZ2VXcmFwRWwudHJhbnNpdGlvbigwKSwgdGhpcy5ydGwgJiYgKHMuc3RhcnRYID0gLXMuc3RhcnRYLCBzLnN0YXJ0WSA9IC1zLnN0YXJ0WSkpOwogICAgICAgIHZhciByID0gcy53aWR0aCAqIHQuc2NhbGUsCiAgICAgICAgICAgIG8gPSBzLmhlaWdodCAqIHQuc2NhbGU7CgogICAgICAgIGlmICghKHIgPCBpLnNsaWRlV2lkdGggJiYgbyA8IGkuc2xpZGVIZWlnaHQpKSB7CiAgICAgICAgICBpZiAocy5taW5YID0gTWF0aC5taW4oaS5zbGlkZVdpZHRoIC8gMiAtIHIgLyAyLCAwKSwgcy5tYXhYID0gLXMubWluWCwgcy5taW5ZID0gTWF0aC5taW4oaS5zbGlkZUhlaWdodCAvIDIgLSBvIC8gMiwgMCksIHMubWF4WSA9IC1zLm1pblksIHMudG91Y2hlc0N1cnJlbnQueCA9ICJ0b3VjaG1vdmUiID09PSBlLnR5cGUgPyBlLnRhcmdldFRvdWNoZXNbMF0ucGFnZVggOiBlLnBhZ2VYLCBzLnRvdWNoZXNDdXJyZW50LnkgPSAidG91Y2htb3ZlIiA9PT0gZS50eXBlID8gZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZIDogZS5wYWdlWSwgIXMuaXNNb3ZlZCAmJiAhdC5pc1NjYWxpbmcpIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKCkgJiYgKE1hdGguZmxvb3Iocy5taW5YKSA9PT0gTWF0aC5mbG9vcihzLnN0YXJ0WCkgJiYgcy50b3VjaGVzQ3VycmVudC54IDwgcy50b3VjaGVzU3RhcnQueCB8fCBNYXRoLmZsb29yKHMubWF4WCkgPT09IE1hdGguZmxvb3Iocy5zdGFydFgpICYmIHMudG91Y2hlc0N1cnJlbnQueCA+IHMudG91Y2hlc1N0YXJ0LngpKSByZXR1cm4gdm9pZCAocy5pc1RvdWNoZWQgPSAhMSk7CiAgICAgICAgICAgIGlmICghdGhpcy5pc0hvcml6b250YWwoKSAmJiAoTWF0aC5mbG9vcihzLm1pblkpID09PSBNYXRoLmZsb29yKHMuc3RhcnRZKSAmJiBzLnRvdWNoZXNDdXJyZW50LnkgPCBzLnRvdWNoZXNTdGFydC55IHx8IE1hdGguZmxvb3Iocy5tYXhZKSA9PT0gTWF0aC5mbG9vcihzLnN0YXJ0WSkgJiYgcy50b3VjaGVzQ3VycmVudC55ID4gcy50b3VjaGVzU3RhcnQueSkpIHJldHVybiB2b2lkIChzLmlzVG91Y2hlZCA9ICExKTsKICAgICAgICAgIH0KCiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCksIGUuc3RvcFByb3BhZ2F0aW9uKCksIHMuaXNNb3ZlZCA9ICEwLCBzLmN1cnJlbnRYID0gcy50b3VjaGVzQ3VycmVudC54IC0gcy50b3VjaGVzU3RhcnQueCArIHMuc3RhcnRYLCBzLmN1cnJlbnRZID0gcy50b3VjaGVzQ3VycmVudC55IC0gcy50b3VjaGVzU3RhcnQueSArIHMuc3RhcnRZLCBzLmN1cnJlbnRYIDwgcy5taW5YICYmIChzLmN1cnJlbnRYID0gcy5taW5YICsgMSAtIE1hdGgucG93KHMubWluWCAtIHMuY3VycmVudFggKyAxLCAuOCkpLCBzLmN1cnJlbnRYID4gcy5tYXhYICYmIChzLmN1cnJlbnRYID0gcy5tYXhYIC0gMSArIE1hdGgucG93KHMuY3VycmVudFggLSBzLm1heFggKyAxLCAuOCkpLCBzLmN1cnJlbnRZIDwgcy5taW5ZICYmIChzLmN1cnJlbnRZID0gcy5taW5ZICsgMSAtIE1hdGgucG93KHMubWluWSAtIHMuY3VycmVudFkgKyAxLCAuOCkpLCBzLmN1cnJlbnRZID4gcy5tYXhZICYmIChzLmN1cnJlbnRZID0gcy5tYXhZIC0gMSArIE1hdGgucG93KHMuY3VycmVudFkgLSBzLm1heFkgKyAxLCAuOCkpLCBhLnByZXZQb3NpdGlvblggfHwgKGEucHJldlBvc2l0aW9uWCA9IHMudG91Y2hlc0N1cnJlbnQueCksIGEucHJldlBvc2l0aW9uWSB8fCAoYS5wcmV2UG9zaXRpb25ZID0gcy50b3VjaGVzQ3VycmVudC55KSwgYS5wcmV2VGltZSB8fCAoYS5wcmV2VGltZSA9IERhdGUubm93KCkpLCBhLnggPSAocy50b3VjaGVzQ3VycmVudC54IC0gYS5wcmV2UG9zaXRpb25YKSAvIChEYXRlLm5vdygpIC0gYS5wcmV2VGltZSkgLyAyLCBhLnkgPSAocy50b3VjaGVzQ3VycmVudC55IC0gYS5wcmV2UG9zaXRpb25ZKSAvIChEYXRlLm5vdygpIC0gYS5wcmV2VGltZSkgLyAyLCBNYXRoLmFicyhzLnRvdWNoZXNDdXJyZW50LnggLSBhLnByZXZQb3NpdGlvblgpIDwgMiAmJiAoYS54ID0gMCksIE1hdGguYWJzKHMudG91Y2hlc0N1cnJlbnQueSAtIGEucHJldlBvc2l0aW9uWSkgPCAyICYmIChhLnkgPSAwKSwgYS5wcmV2UG9zaXRpb25YID0gcy50b3VjaGVzQ3VycmVudC54LCBhLnByZXZQb3NpdGlvblkgPSBzLnRvdWNoZXNDdXJyZW50LnksIGEucHJldlRpbWUgPSBEYXRlLm5vdygpLCBpLiRpbWFnZVdyYXBFbC50cmFuc2Zvcm0oInRyYW5zbGF0ZTNkKCIgKyBzLmN1cnJlbnRYICsgInB4LCAiICsgcy5jdXJyZW50WSArICJweCwwKSIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG9uVG91Y2hFbmQ6IGZ1bmN0aW9uIG9uVG91Y2hFbmQoKSB7CiAgICAgIHZhciBlID0gdGhpcy56b29tLAogICAgICAgICAgdCA9IGUuZ2VzdHVyZSwKICAgICAgICAgIGkgPSBlLmltYWdlLAogICAgICAgICAgcyA9IGUudmVsb2NpdHk7CgogICAgICBpZiAodC4kaW1hZ2VFbCAmJiAwICE9PSB0LiRpbWFnZUVsLmxlbmd0aCkgewogICAgICAgIGlmICghaS5pc1RvdWNoZWQgfHwgIWkuaXNNb3ZlZCkgcmV0dXJuIGkuaXNUb3VjaGVkID0gITEsIHZvaWQgKGkuaXNNb3ZlZCA9ICExKTsKICAgICAgICBpLmlzVG91Y2hlZCA9ICExLCBpLmlzTW92ZWQgPSAhMTsKICAgICAgICB2YXIgYSA9IDMwMCwKICAgICAgICAgICAgciA9IDMwMCwKICAgICAgICAgICAgbiA9IHMueCAqIGEsCiAgICAgICAgICAgIG8gPSBpLmN1cnJlbnRYICsgbiwKICAgICAgICAgICAgbCA9IHMueSAqIHIsCiAgICAgICAgICAgIGQgPSBpLmN1cnJlbnRZICsgbDsKICAgICAgICAwICE9PSBzLnggJiYgKGEgPSBNYXRoLmFicygobyAtIGkuY3VycmVudFgpIC8gcy54KSksIDAgIT09IHMueSAmJiAociA9IE1hdGguYWJzKChkIC0gaS5jdXJyZW50WSkgLyBzLnkpKTsKICAgICAgICB2YXIgaCA9IE1hdGgubWF4KGEsIHIpOwogICAgICAgIGkuY3VycmVudFggPSBvLCBpLmN1cnJlbnRZID0gZDsKICAgICAgICB2YXIgcCA9IGkud2lkdGggKiBlLnNjYWxlLAogICAgICAgICAgICBjID0gaS5oZWlnaHQgKiBlLnNjYWxlOwogICAgICAgIGkubWluWCA9IE1hdGgubWluKHQuc2xpZGVXaWR0aCAvIDIgLSBwIC8gMiwgMCksIGkubWF4WCA9IC1pLm1pblgsIGkubWluWSA9IE1hdGgubWluKHQuc2xpZGVIZWlnaHQgLyAyIC0gYyAvIDIsIDApLCBpLm1heFkgPSAtaS5taW5ZLCBpLmN1cnJlbnRYID0gTWF0aC5tYXgoTWF0aC5taW4oaS5jdXJyZW50WCwgaS5tYXhYKSwgaS5taW5YKSwgaS5jdXJyZW50WSA9IE1hdGgubWF4KE1hdGgubWluKGkuY3VycmVudFksIGkubWF4WSksIGkubWluWSksIHQuJGltYWdlV3JhcEVsLnRyYW5zaXRpb24oaCkudHJhbnNmb3JtKCJ0cmFuc2xhdGUzZCgiICsgaS5jdXJyZW50WCArICJweCwgIiArIGkuY3VycmVudFkgKyAicHgsMCkiKTsKICAgICAgfQogICAgfSwKICAgIG9uVHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gb25UcmFuc2l0aW9uRW5kKCkgewogICAgICB2YXIgZSA9IHRoaXMuem9vbSwKICAgICAgICAgIHQgPSBlLmdlc3R1cmU7CiAgICAgIHQuJHNsaWRlRWwgJiYgdGhpcy5wcmV2aW91c0luZGV4ICE9PSB0aGlzLmFjdGl2ZUluZGV4ICYmICh0LiRpbWFnZUVsLnRyYW5zZm9ybSgidHJhbnNsYXRlM2QoMCwwLDApIHNjYWxlKDEpIiksIHQuJGltYWdlV3JhcEVsLnRyYW5zZm9ybSgidHJhbnNsYXRlM2QoMCwwLDApIiksIGUuc2NhbGUgPSAxLCBlLmN1cnJlbnRTY2FsZSA9IDEsIHQuJHNsaWRlRWwgPSB2b2lkIDAsIHQuJGltYWdlRWwgPSB2b2lkIDAsIHQuJGltYWdlV3JhcEVsID0gdm9pZCAwKTsKICAgIH0sCiAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZShlKSB7CiAgICAgIHZhciB0ID0gdGhpcy56b29tOwogICAgICB0LnNjYWxlICYmIDEgIT09IHQuc2NhbGUgPyB0Lm91dCgpIDogdC5pbihlKTsKICAgIH0sCiAgICBpbjogZnVuY3Rpb24gX2luKGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBpLAogICAgICAgICAgYSwKICAgICAgICAgIHIsCiAgICAgICAgICBuLAogICAgICAgICAgbywKICAgICAgICAgIGwsCiAgICAgICAgICBkLAogICAgICAgICAgaCwKICAgICAgICAgIHAsCiAgICAgICAgICBjLAogICAgICAgICAgdSwKICAgICAgICAgIHYsCiAgICAgICAgICBmLAogICAgICAgICAgbSwKICAgICAgICAgIGcsCiAgICAgICAgICBiID0gdGhpcy56b29tLAogICAgICAgICAgdyA9IHRoaXMucGFyYW1zLnpvb20sCiAgICAgICAgICB5ID0gYi5nZXN0dXJlLAogICAgICAgICAgeCA9IGIuaW1hZ2U7CiAgICAgICh5LiRzbGlkZUVsIHx8ICh5LiRzbGlkZUVsID0gdGhpcy5jbGlja2VkU2xpZGUgPyBzKHRoaXMuY2xpY2tlZFNsaWRlKSA6IHRoaXMuc2xpZGVzLmVxKHRoaXMuYWN0aXZlSW5kZXgpLCB5LiRpbWFnZUVsID0geS4kc2xpZGVFbC5maW5kKCJpbWcsIHN2ZywgY2FudmFzIiksIHkuJGltYWdlV3JhcEVsID0geS4kaW1hZ2VFbC5wYXJlbnQoIi4iICsgdy5jb250YWluZXJDbGFzcykpLCB5LiRpbWFnZUVsICYmIDAgIT09IHkuJGltYWdlRWwubGVuZ3RoKSAmJiAoeS4kc2xpZGVFbC5hZGRDbGFzcygiIiArIHcuem9vbWVkU2xpZGVDbGFzcyksIHZvaWQgMCA9PT0geC50b3VjaGVzU3RhcnQueCAmJiBlID8gKHQgPSAidG91Y2hlbmQiID09PSBlLnR5cGUgPyBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYIDogZS5wYWdlWCwgaSA9ICJ0b3VjaGVuZCIgPT09IGUudHlwZSA/IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVkgOiBlLnBhZ2VZKSA6ICh0ID0geC50b3VjaGVzU3RhcnQueCwgaSA9IHgudG91Y2hlc1N0YXJ0LnkpLCBiLnNjYWxlID0geS4kaW1hZ2VXcmFwRWwuYXR0cigiZGF0YS1zd2lwZXItem9vbSIpIHx8IHcubWF4UmF0aW8sIGIuY3VycmVudFNjYWxlID0geS4kaW1hZ2VXcmFwRWwuYXR0cigiZGF0YS1zd2lwZXItem9vbSIpIHx8IHcubWF4UmF0aW8sIGUgPyAobSA9IHkuJHNsaWRlRWxbMF0ub2Zmc2V0V2lkdGgsIGcgPSB5LiRzbGlkZUVsWzBdLm9mZnNldEhlaWdodCwgYSA9IHkuJHNsaWRlRWwub2Zmc2V0KCkubGVmdCArIG0gLyAyIC0gdCwgciA9IHkuJHNsaWRlRWwub2Zmc2V0KCkudG9wICsgZyAvIDIgLSBpLCBsID0geS4kaW1hZ2VFbFswXS5vZmZzZXRXaWR0aCwgZCA9IHkuJGltYWdlRWxbMF0ub2Zmc2V0SGVpZ2h0LCBoID0gbCAqIGIuc2NhbGUsIHAgPSBkICogYi5zY2FsZSwgdiA9IC0oYyA9IE1hdGgubWluKG0gLyAyIC0gaCAvIDIsIDApKSwgZiA9IC0odSA9IE1hdGgubWluKGcgLyAyIC0gcCAvIDIsIDApKSwgKG4gPSBhICogYi5zY2FsZSkgPCBjICYmIChuID0gYyksIG4gPiB2ICYmIChuID0gdiksIChvID0gciAqIGIuc2NhbGUpIDwgdSAmJiAobyA9IHUpLCBvID4gZiAmJiAobyA9IGYpKSA6IChuID0gMCwgbyA9IDApLCB5LiRpbWFnZVdyYXBFbC50cmFuc2l0aW9uKDMwMCkudHJhbnNmb3JtKCJ0cmFuc2xhdGUzZCgiICsgbiArICJweCwgIiArIG8gKyAicHgsMCkiKSwgeS4kaW1hZ2VFbC50cmFuc2l0aW9uKDMwMCkudHJhbnNmb3JtKCJ0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGUoIiArIGIuc2NhbGUgKyAiKSIpKTsKICAgIH0sCiAgICBvdXQ6IGZ1bmN0aW9uIG91dCgpIHsKICAgICAgdmFyIGUgPSB0aGlzLnpvb20sCiAgICAgICAgICB0ID0gdGhpcy5wYXJhbXMuem9vbSwKICAgICAgICAgIGkgPSBlLmdlc3R1cmU7CiAgICAgIGkuJHNsaWRlRWwgfHwgKGkuJHNsaWRlRWwgPSB0aGlzLmNsaWNrZWRTbGlkZSA/IHModGhpcy5jbGlja2VkU2xpZGUpIDogdGhpcy5zbGlkZXMuZXEodGhpcy5hY3RpdmVJbmRleCksIGkuJGltYWdlRWwgPSBpLiRzbGlkZUVsLmZpbmQoImltZywgc3ZnLCBjYW52YXMiKSwgaS4kaW1hZ2VXcmFwRWwgPSBpLiRpbWFnZUVsLnBhcmVudCgiLiIgKyB0LmNvbnRhaW5lckNsYXNzKSksIGkuJGltYWdlRWwgJiYgMCAhPT0gaS4kaW1hZ2VFbC5sZW5ndGggJiYgKGUuc2NhbGUgPSAxLCBlLmN1cnJlbnRTY2FsZSA9IDEsIGkuJGltYWdlV3JhcEVsLnRyYW5zaXRpb24oMzAwKS50cmFuc2Zvcm0oInRyYW5zbGF0ZTNkKDAsMCwwKSIpLCBpLiRpbWFnZUVsLnRyYW5zaXRpb24oMzAwKS50cmFuc2Zvcm0oInRyYW5zbGF0ZTNkKDAsMCwwKSBzY2FsZSgxKSIpLCBpLiRzbGlkZUVsLnJlbW92ZUNsYXNzKCIiICsgdC56b29tZWRTbGlkZUNsYXNzKSwgaS4kc2xpZGVFbCA9IHZvaWQgMCk7CiAgICB9LAogICAgZW5hYmxlOiBmdW5jdGlvbiBlbmFibGUoKSB7CiAgICAgIHZhciBlID0gdGhpcy56b29tOwoKICAgICAgaWYgKCFlLmVuYWJsZWQpIHsKICAgICAgICBlLmVuYWJsZWQgPSAhMDsKICAgICAgICB2YXIgdCA9ICEoInRvdWNoc3RhcnQiICE9PSB0aGlzLnRvdWNoRXZlbnRzLnN0YXJ0IHx8ICFvLnBhc3NpdmVMaXN0ZW5lciB8fCAhdGhpcy5wYXJhbXMucGFzc2l2ZUxpc3RlbmVycykgJiYgewogICAgICAgICAgcGFzc2l2ZTogITAsCiAgICAgICAgICBjYXB0dXJlOiAhMQogICAgICAgIH0sCiAgICAgICAgICAgIGkgPSAhby5wYXNzaXZlTGlzdGVuZXIgfHwgewogICAgICAgICAgcGFzc2l2ZTogITEsCiAgICAgICAgICBjYXB0dXJlOiAhMAogICAgICAgIH07CiAgICAgICAgby5nZXN0dXJlcyA/ICh0aGlzLiR3cmFwcGVyRWwub24oImdlc3R1cmVzdGFydCIsICIuc3dpcGVyLXNsaWRlIiwgZS5vbkdlc3R1cmVTdGFydCwgdCksIHRoaXMuJHdyYXBwZXJFbC5vbigiZ2VzdHVyZWNoYW5nZSIsICIuc3dpcGVyLXNsaWRlIiwgZS5vbkdlc3R1cmVDaGFuZ2UsIHQpLCB0aGlzLiR3cmFwcGVyRWwub24oImdlc3R1cmVlbmQiLCAiLnN3aXBlci1zbGlkZSIsIGUub25HZXN0dXJlRW5kLCB0KSkgOiAidG91Y2hzdGFydCIgPT09IHRoaXMudG91Y2hFdmVudHMuc3RhcnQgJiYgKHRoaXMuJHdyYXBwZXJFbC5vbih0aGlzLnRvdWNoRXZlbnRzLnN0YXJ0LCAiLnN3aXBlci1zbGlkZSIsIGUub25HZXN0dXJlU3RhcnQsIHQpLCB0aGlzLiR3cmFwcGVyRWwub24odGhpcy50b3VjaEV2ZW50cy5tb3ZlLCAiLnN3aXBlci1zbGlkZSIsIGUub25HZXN0dXJlQ2hhbmdlLCBpKSwgdGhpcy4kd3JhcHBlckVsLm9uKHRoaXMudG91Y2hFdmVudHMuZW5kLCAiLnN3aXBlci1zbGlkZSIsIGUub25HZXN0dXJlRW5kLCB0KSwgdGhpcy50b3VjaEV2ZW50cy5jYW5jZWwgJiYgdGhpcy4kd3JhcHBlckVsLm9uKHRoaXMudG91Y2hFdmVudHMuY2FuY2VsLCAiLnN3aXBlci1zbGlkZSIsIGUub25HZXN0dXJlRW5kLCB0KSksIHRoaXMuJHdyYXBwZXJFbC5vbih0aGlzLnRvdWNoRXZlbnRzLm1vdmUsICIuIiArIHRoaXMucGFyYW1zLnpvb20uY29udGFpbmVyQ2xhc3MsIGUub25Ub3VjaE1vdmUsIGkpOwogICAgICB9CiAgICB9LAogICAgZGlzYWJsZTogZnVuY3Rpb24gZGlzYWJsZSgpIHsKICAgICAgdmFyIGUgPSB0aGlzLnpvb207CgogICAgICBpZiAoZS5lbmFibGVkKSB7CiAgICAgICAgdGhpcy56b29tLmVuYWJsZWQgPSAhMTsKICAgICAgICB2YXIgdCA9ICEoInRvdWNoc3RhcnQiICE9PSB0aGlzLnRvdWNoRXZlbnRzLnN0YXJ0IHx8ICFvLnBhc3NpdmVMaXN0ZW5lciB8fCAhdGhpcy5wYXJhbXMucGFzc2l2ZUxpc3RlbmVycykgJiYgewogICAgICAgICAgcGFzc2l2ZTogITAsCiAgICAgICAgICBjYXB0dXJlOiAhMQogICAgICAgIH0sCiAgICAgICAgICAgIGkgPSAhby5wYXNzaXZlTGlzdGVuZXIgfHwgewogICAgICAgICAgcGFzc2l2ZTogITEsCiAgICAgICAgICBjYXB0dXJlOiAhMAogICAgICAgIH07CiAgICAgICAgby5nZXN0dXJlcyA/ICh0aGlzLiR3cmFwcGVyRWwub2ZmKCJnZXN0dXJlc3RhcnQiLCAiLnN3aXBlci1zbGlkZSIsIGUub25HZXN0dXJlU3RhcnQsIHQpLCB0aGlzLiR3cmFwcGVyRWwub2ZmKCJnZXN0dXJlY2hhbmdlIiwgIi5zd2lwZXItc2xpZGUiLCBlLm9uR2VzdHVyZUNoYW5nZSwgdCksIHRoaXMuJHdyYXBwZXJFbC5vZmYoImdlc3R1cmVlbmQiLCAiLnN3aXBlci1zbGlkZSIsIGUub25HZXN0dXJlRW5kLCB0KSkgOiAidG91Y2hzdGFydCIgPT09IHRoaXMudG91Y2hFdmVudHMuc3RhcnQgJiYgKHRoaXMuJHdyYXBwZXJFbC5vZmYodGhpcy50b3VjaEV2ZW50cy5zdGFydCwgIi5zd2lwZXItc2xpZGUiLCBlLm9uR2VzdHVyZVN0YXJ0LCB0KSwgdGhpcy4kd3JhcHBlckVsLm9mZih0aGlzLnRvdWNoRXZlbnRzLm1vdmUsICIuc3dpcGVyLXNsaWRlIiwgZS5vbkdlc3R1cmVDaGFuZ2UsIGkpLCB0aGlzLiR3cmFwcGVyRWwub2ZmKHRoaXMudG91Y2hFdmVudHMuZW5kLCAiLnN3aXBlci1zbGlkZSIsIGUub25HZXN0dXJlRW5kLCB0KSwgdGhpcy50b3VjaEV2ZW50cy5jYW5jZWwgJiYgdGhpcy4kd3JhcHBlckVsLm9mZih0aGlzLnRvdWNoRXZlbnRzLmNhbmNlbCwgIi5zd2lwZXItc2xpZGUiLCBlLm9uR2VzdHVyZUVuZCwgdCkpLCB0aGlzLiR3cmFwcGVyRWwub2ZmKHRoaXMudG91Y2hFdmVudHMubW92ZSwgIi4iICsgdGhpcy5wYXJhbXMuem9vbS5jb250YWluZXJDbGFzcywgZS5vblRvdWNoTW92ZSwgaSk7CiAgICAgIH0KICAgIH0KICB9LAogICAgICBsZSA9IHsKICAgIGxvYWRJblNsaWRlOiBmdW5jdGlvbiBsb2FkSW5TbGlkZShlLCB0KSB7CiAgICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9ICEwKTsKICAgICAgdmFyIGkgPSB0aGlzLAogICAgICAgICAgYSA9IGkucGFyYW1zLmxhenk7CgogICAgICBpZiAodm9pZCAwICE9PSBlICYmIDAgIT09IGkuc2xpZGVzLmxlbmd0aCkgewogICAgICAgIHZhciByID0gaS52aXJ0dWFsICYmIGkucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCA/IGkuJHdyYXBwZXJFbC5jaGlsZHJlbigiLiIgKyBpLnBhcmFtcy5zbGlkZUNsYXNzICsgJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD0iJyArIGUgKyAnIl0nKSA6IGkuc2xpZGVzLmVxKGUpLAogICAgICAgICAgICBuID0gci5maW5kKCIuIiArIGEuZWxlbWVudENsYXNzICsgIjpub3QoLiIgKyBhLmxvYWRlZENsYXNzICsgIik6bm90KC4iICsgYS5sb2FkaW5nQ2xhc3MgKyAiKSIpOwogICAgICAgICFyLmhhc0NsYXNzKGEuZWxlbWVudENsYXNzKSB8fCByLmhhc0NsYXNzKGEubG9hZGVkQ2xhc3MpIHx8IHIuaGFzQ2xhc3MoYS5sb2FkaW5nQ2xhc3MpIHx8IChuID0gbi5hZGQoclswXSkpLCAwICE9PSBuLmxlbmd0aCAmJiBuLmVhY2goZnVuY3Rpb24gKGUsIG4pIHsKICAgICAgICAgIHZhciBvID0gcyhuKTsKICAgICAgICAgIG8uYWRkQ2xhc3MoYS5sb2FkaW5nQ2xhc3MpOwogICAgICAgICAgdmFyIGwgPSBvLmF0dHIoImRhdGEtYmFja2dyb3VuZCIpLAogICAgICAgICAgICAgIGQgPSBvLmF0dHIoImRhdGEtc3JjIiksCiAgICAgICAgICAgICAgaCA9IG8uYXR0cigiZGF0YS1zcmNzZXQiKSwKICAgICAgICAgICAgICBwID0gby5hdHRyKCJkYXRhLXNpemVzIik7CiAgICAgICAgICBpLmxvYWRJbWFnZShvWzBdLCBkIHx8IGwsIGgsIHAsICExLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChudWxsICE9IGkgJiYgaSAmJiAoIWkgfHwgaS5wYXJhbXMpICYmICFpLmRlc3Ryb3llZCkgewogICAgICAgICAgICAgIGlmIChsID8gKG8uY3NzKCJiYWNrZ3JvdW5kLWltYWdlIiwgJ3VybCgiJyArIGwgKyAnIiknKSwgby5yZW1vdmVBdHRyKCJkYXRhLWJhY2tncm91bmQiKSkgOiAoaCAmJiAoby5hdHRyKCJzcmNzZXQiLCBoKSwgby5yZW1vdmVBdHRyKCJkYXRhLXNyY3NldCIpKSwgcCAmJiAoby5hdHRyKCJzaXplcyIsIHApLCBvLnJlbW92ZUF0dHIoImRhdGEtc2l6ZXMiKSksIGQgJiYgKG8uYXR0cigic3JjIiwgZCksIG8ucmVtb3ZlQXR0cigiZGF0YS1zcmMiKSkpLCBvLmFkZENsYXNzKGEubG9hZGVkQ2xhc3MpLnJlbW92ZUNsYXNzKGEubG9hZGluZ0NsYXNzKSwgci5maW5kKCIuIiArIGEucHJlbG9hZGVyQ2xhc3MpLnJlbW92ZSgpLCBpLnBhcmFtcy5sb29wICYmIHQpIHsKICAgICAgICAgICAgICAgIHZhciBlID0gci5hdHRyKCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleCIpOwoKICAgICAgICAgICAgICAgIGlmIChyLmhhc0NsYXNzKGkucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpKSB7CiAgICAgICAgICAgICAgICAgIHZhciBzID0gaS4kd3JhcHBlckVsLmNoaWxkcmVuKCdbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9IicgKyBlICsgJyJdOm5vdCguJyArIGkucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MgKyAiKSIpOwogICAgICAgICAgICAgICAgICBpLmxhenkubG9hZEluU2xpZGUocy5pbmRleCgpLCAhMSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB2YXIgbiA9IGkuJHdyYXBwZXJFbC5jaGlsZHJlbigiLiIgKyBpLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzICsgJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD0iJyArIGUgKyAnIl0nKTsKICAgICAgICAgICAgICAgICAgaS5sYXp5LmxvYWRJblNsaWRlKG4uaW5kZXgoKSwgITEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaS5lbWl0KCJsYXp5SW1hZ2VSZWFkeSIsIHJbMF0sIG9bMF0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KSwgaS5lbWl0KCJsYXp5SW1hZ2VMb2FkIiwgclswXSwgb1swXSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKCkgewogICAgICB2YXIgZSA9IHRoaXMsCiAgICAgICAgICB0ID0gZS4kd3JhcHBlckVsLAogICAgICAgICAgaSA9IGUucGFyYW1zLAogICAgICAgICAgYSA9IGUuc2xpZGVzLAogICAgICAgICAgciA9IGUuYWN0aXZlSW5kZXgsCiAgICAgICAgICBuID0gZS52aXJ0dWFsICYmIGkudmlydHVhbC5lbmFibGVkLAogICAgICAgICAgbyA9IGkubGF6eSwKICAgICAgICAgIGwgPSBpLnNsaWRlc1BlclZpZXc7CgogICAgICBmdW5jdGlvbiBkKGUpIHsKICAgICAgICBpZiAobikgewogICAgICAgICAgaWYgKHQuY2hpbGRyZW4oIi4iICsgaS5zbGlkZUNsYXNzICsgJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD0iJyArIGUgKyAnIl0nKS5sZW5ndGgpIHJldHVybiAhMDsKICAgICAgICB9IGVsc2UgaWYgKGFbZV0pIHJldHVybiAhMDsKCiAgICAgICAgcmV0dXJuICExOwogICAgICB9CgogICAgICBmdW5jdGlvbiBoKGUpIHsKICAgICAgICByZXR1cm4gbiA/IHMoZSkuYXR0cigiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgiKSA6IHMoZSkuaW5kZXgoKTsKICAgICAgfQoKICAgICAgaWYgKCJhdXRvIiA9PT0gbCAmJiAobCA9IDApLCBlLmxhenkuaW5pdGlhbEltYWdlTG9hZGVkIHx8IChlLmxhenkuaW5pdGlhbEltYWdlTG9hZGVkID0gITApLCBlLnBhcmFtcy53YXRjaFNsaWRlc1Zpc2liaWxpdHkpIHQuY2hpbGRyZW4oIi4iICsgaS5zbGlkZVZpc2libGVDbGFzcykuZWFjaChmdW5jdGlvbiAodCwgaSkgewogICAgICAgIHZhciBhID0gbiA/IHMoaSkuYXR0cigiZGF0YS1zd2lwZXItc2xpZGUtaW5kZXgiKSA6IHMoaSkuaW5kZXgoKTsKICAgICAgICBlLmxhenkubG9hZEluU2xpZGUoYSk7CiAgICAgIH0pO2Vsc2UgaWYgKGwgPiAxKSBmb3IgKHZhciBwID0gcjsgcCA8IHIgKyBsOyBwICs9IDEpIHsKICAgICAgICBkKHApICYmIGUubGF6eS5sb2FkSW5TbGlkZShwKTsKICAgICAgfSBlbHNlIGUubGF6eS5sb2FkSW5TbGlkZShyKTsKICAgICAgaWYgKG8ubG9hZFByZXZOZXh0KSBpZiAobCA+IDEgfHwgby5sb2FkUHJldk5leHRBbW91bnQgJiYgby5sb2FkUHJldk5leHRBbW91bnQgPiAxKSB7CiAgICAgICAgZm9yICh2YXIgYyA9IG8ubG9hZFByZXZOZXh0QW1vdW50LCB1ID0gbCwgdiA9IE1hdGgubWluKHIgKyB1ICsgTWF0aC5tYXgoYywgdSksIGEubGVuZ3RoKSwgZiA9IE1hdGgubWF4KHIgLSBNYXRoLm1heCh1LCBjKSwgMCksIG0gPSByICsgbDsgbSA8IHY7IG0gKz0gMSkgewogICAgICAgICAgZChtKSAmJiBlLmxhenkubG9hZEluU2xpZGUobSk7CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBnID0gZjsgZyA8IHI7IGcgKz0gMSkgewogICAgICAgICAgZChnKSAmJiBlLmxhenkubG9hZEluU2xpZGUoZyk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHZhciBiID0gdC5jaGlsZHJlbigiLiIgKyBpLnNsaWRlTmV4dENsYXNzKTsKICAgICAgICBiLmxlbmd0aCA+IDAgJiYgZS5sYXp5LmxvYWRJblNsaWRlKGgoYikpOwogICAgICAgIHZhciB3ID0gdC5jaGlsZHJlbigiLiIgKyBpLnNsaWRlUHJldkNsYXNzKTsKICAgICAgICB3Lmxlbmd0aCA+IDAgJiYgZS5sYXp5LmxvYWRJblNsaWRlKGgodykpOwogICAgICB9CiAgICB9CiAgfSwKICAgICAgZGUgPSB7CiAgICBMaW5lYXJTcGxpbmU6IGZ1bmN0aW9uIExpbmVhclNwbGluZShlLCB0KSB7CiAgICAgIHZhciBpLAogICAgICAgICAgcywKICAgICAgICAgIGEsCiAgICAgICAgICByLAogICAgICAgICAgbiwKICAgICAgICAgIG8gPSBmdW5jdGlvbiBvKGUsIHQpIHsKICAgICAgICBmb3IgKHMgPSAtMSwgaSA9IGUubGVuZ3RoOyBpIC0gcyA+IDE7KSB7CiAgICAgICAgICBlW2EgPSBpICsgcyA+PiAxXSA8PSB0ID8gcyA9IGEgOiBpID0gYTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBpOwogICAgICB9OwoKICAgICAgcmV0dXJuIHRoaXMueCA9IGUsIHRoaXMueSA9IHQsIHRoaXMubGFzdEluZGV4ID0gZS5sZW5ndGggLSAxLCB0aGlzLmludGVycG9sYXRlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZSA/IChuID0gbyh0aGlzLngsIGUpLCByID0gbiAtIDEsIChlIC0gdGhpcy54W3JdKSAqICh0aGlzLnlbbl0gLSB0aGlzLnlbcl0pIC8gKHRoaXMueFtuXSAtIHRoaXMueFtyXSkgKyB0aGlzLnlbcl0pIDogMDsKICAgICAgfSwgdGhpczsKICAgIH0sCiAgICBnZXRJbnRlcnBvbGF0ZUZ1bmN0aW9uOiBmdW5jdGlvbiBnZXRJbnRlcnBvbGF0ZUZ1bmN0aW9uKGUpIHsKICAgICAgdGhpcy5jb250cm9sbGVyLnNwbGluZSB8fCAodGhpcy5jb250cm9sbGVyLnNwbGluZSA9IHRoaXMucGFyYW1zLmxvb3AgPyBuZXcgZGUuTGluZWFyU3BsaW5lKHRoaXMuc2xpZGVzR3JpZCwgZS5zbGlkZXNHcmlkKSA6IG5ldyBkZS5MaW5lYXJTcGxpbmUodGhpcy5zbmFwR3JpZCwgZS5zbmFwR3JpZCkpOwogICAgfSwKICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKGUsIHQpIHsKICAgICAgdmFyIGksCiAgICAgICAgICBzLAogICAgICAgICAgYSA9IHRoaXMsCiAgICAgICAgICByID0gYS5jb250cm9sbGVyLmNvbnRyb2w7CgogICAgICBmdW5jdGlvbiBuKGUpIHsKICAgICAgICB2YXIgdCA9IGEucnRsVHJhbnNsYXRlID8gLWEudHJhbnNsYXRlIDogYS50cmFuc2xhdGU7CiAgICAgICAgInNsaWRlIiA9PT0gYS5wYXJhbXMuY29udHJvbGxlci5ieSAmJiAoYS5jb250cm9sbGVyLmdldEludGVycG9sYXRlRnVuY3Rpb24oZSksIHMgPSAtYS5jb250cm9sbGVyLnNwbGluZS5pbnRlcnBvbGF0ZSgtdCkpLCBzICYmICJjb250YWluZXIiICE9PSBhLnBhcmFtcy5jb250cm9sbGVyLmJ5IHx8IChpID0gKGUubWF4VHJhbnNsYXRlKCkgLSBlLm1pblRyYW5zbGF0ZSgpKSAvIChhLm1heFRyYW5zbGF0ZSgpIC0gYS5taW5UcmFuc2xhdGUoKSksIHMgPSAodCAtIGEubWluVHJhbnNsYXRlKCkpICogaSArIGUubWluVHJhbnNsYXRlKCkpLCBhLnBhcmFtcy5jb250cm9sbGVyLmludmVyc2UgJiYgKHMgPSBlLm1heFRyYW5zbGF0ZSgpIC0gcyksIGUudXBkYXRlUHJvZ3Jlc3MocyksIGUuc2V0VHJhbnNsYXRlKHMsIGEpLCBlLnVwZGF0ZUFjdGl2ZUluZGV4KCksIGUudXBkYXRlU2xpZGVzQ2xhc3NlcygpOwogICAgICB9CgogICAgICBpZiAoQXJyYXkuaXNBcnJheShyKSkgZm9yICh2YXIgbyA9IDA7IG8gPCByLmxlbmd0aDsgbyArPSAxKSB7CiAgICAgICAgcltvXSAhPT0gdCAmJiByW29dIGluc3RhbmNlb2YgVyAmJiBuKHJbb10pOwogICAgICB9IGVsc2UgciBpbnN0YW5jZW9mIFcgJiYgdCAhPT0gciAmJiBuKHIpOwogICAgfSwKICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZSwgdCkgewogICAgICB2YXIgaSwKICAgICAgICAgIHMgPSB0aGlzLAogICAgICAgICAgYSA9IHMuY29udHJvbGxlci5jb250cm9sOwoKICAgICAgZnVuY3Rpb24gcih0KSB7CiAgICAgICAgdC5zZXRUcmFuc2l0aW9uKGUsIHMpLCAwICE9PSBlICYmICh0LnRyYW5zaXRpb25TdGFydCgpLCB0LnBhcmFtcy5hdXRvSGVpZ2h0ICYmIG4ubmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgdC51cGRhdGVBdXRvSGVpZ2h0KCk7CiAgICAgICAgfSksIHQuJHdyYXBwZXJFbC50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGEgJiYgKHQucGFyYW1zLmxvb3AgJiYgInNsaWRlIiA9PT0gcy5wYXJhbXMuY29udHJvbGxlci5ieSAmJiB0Lmxvb3BGaXgoKSwgdC50cmFuc2l0aW9uRW5kKCkpOwogICAgICAgIH0pKTsKICAgICAgfQoKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYSkpIGZvciAoaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSArPSAxKSB7CiAgICAgICAgYVtpXSAhPT0gdCAmJiBhW2ldIGluc3RhbmNlb2YgVyAmJiByKGFbaV0pOwogICAgICB9IGVsc2UgYSBpbnN0YW5jZW9mIFcgJiYgdCAhPT0gYSAmJiByKGEpOwogICAgfQogIH0sCiAgICAgIGhlID0gewogICAgbWFrZUVsRm9jdXNhYmxlOiBmdW5jdGlvbiBtYWtlRWxGb2N1c2FibGUoZSkgewogICAgICByZXR1cm4gZS5hdHRyKCJ0YWJJbmRleCIsICIwIiksIGU7CiAgICB9LAogICAgYWRkRWxSb2xlOiBmdW5jdGlvbiBhZGRFbFJvbGUoZSwgdCkgewogICAgICByZXR1cm4gZS5hdHRyKCJyb2xlIiwgdCksIGU7CiAgICB9LAogICAgYWRkRWxMYWJlbDogZnVuY3Rpb24gYWRkRWxMYWJlbChlLCB0KSB7CiAgICAgIHJldHVybiBlLmF0dHIoImFyaWEtbGFiZWwiLCB0KSwgZTsKICAgIH0sCiAgICBkaXNhYmxlRWw6IGZ1bmN0aW9uIGRpc2FibGVFbChlKSB7CiAgICAgIHJldHVybiBlLmF0dHIoImFyaWEtZGlzYWJsZWQiLCAhMCksIGU7CiAgICB9LAogICAgZW5hYmxlRWw6IGZ1bmN0aW9uIGVuYWJsZUVsKGUpIHsKICAgICAgcmV0dXJuIGUuYXR0cigiYXJpYS1kaXNhYmxlZCIsICExKSwgZTsKICAgIH0sCiAgICBvbkVudGVyS2V5OiBmdW5jdGlvbiBvbkVudGVyS2V5KGUpIHsKICAgICAgdmFyIHQgPSB0aGlzLnBhcmFtcy5hMTF5OwoKICAgICAgaWYgKDEzID09PSBlLmtleUNvZGUpIHsKICAgICAgICB2YXIgaSA9IHMoZS50YXJnZXQpOwogICAgICAgIHRoaXMubmF2aWdhdGlvbiAmJiB0aGlzLm5hdmlnYXRpb24uJG5leHRFbCAmJiBpLmlzKHRoaXMubmF2aWdhdGlvbi4kbmV4dEVsKSAmJiAodGhpcy5pc0VuZCAmJiAhdGhpcy5wYXJhbXMubG9vcCB8fCB0aGlzLnNsaWRlTmV4dCgpLCB0aGlzLmlzRW5kID8gdGhpcy5hMTF5Lm5vdGlmeSh0Lmxhc3RTbGlkZU1lc3NhZ2UpIDogdGhpcy5hMTF5Lm5vdGlmeSh0Lm5leHRTbGlkZU1lc3NhZ2UpKSwgdGhpcy5uYXZpZ2F0aW9uICYmIHRoaXMubmF2aWdhdGlvbi4kcHJldkVsICYmIGkuaXModGhpcy5uYXZpZ2F0aW9uLiRwcmV2RWwpICYmICh0aGlzLmlzQmVnaW5uaW5nICYmICF0aGlzLnBhcmFtcy5sb29wIHx8IHRoaXMuc2xpZGVQcmV2KCksIHRoaXMuaXNCZWdpbm5pbmcgPyB0aGlzLmExMXkubm90aWZ5KHQuZmlyc3RTbGlkZU1lc3NhZ2UpIDogdGhpcy5hMTF5Lm5vdGlmeSh0LnByZXZTbGlkZU1lc3NhZ2UpKSwgdGhpcy5wYWdpbmF0aW9uICYmIGkuaXMoIi4iICsgdGhpcy5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcykgJiYgaVswXS5jbGljaygpOwogICAgICB9CiAgICB9LAogICAgbm90aWZ5OiBmdW5jdGlvbiBub3RpZnkoZSkgewogICAgICB2YXIgdCA9IHRoaXMuYTExeS5saXZlUmVnaW9uOwogICAgICAwICE9PSB0Lmxlbmd0aCAmJiAodC5odG1sKCIiKSwgdC5odG1sKGUpKTsKICAgIH0sCiAgICB1cGRhdGVOYXZpZ2F0aW9uOiBmdW5jdGlvbiB1cGRhdGVOYXZpZ2F0aW9uKCkgewogICAgICBpZiAoIXRoaXMucGFyYW1zLmxvb3AgJiYgdGhpcy5uYXZpZ2F0aW9uKSB7CiAgICAgICAgdmFyIGUgPSB0aGlzLm5hdmlnYXRpb24sCiAgICAgICAgICAgIHQgPSBlLiRuZXh0RWwsCiAgICAgICAgICAgIGkgPSBlLiRwcmV2RWw7CiAgICAgICAgaSAmJiBpLmxlbmd0aCA+IDAgJiYgKHRoaXMuaXNCZWdpbm5pbmcgPyB0aGlzLmExMXkuZGlzYWJsZUVsKGkpIDogdGhpcy5hMTF5LmVuYWJsZUVsKGkpKSwgdCAmJiB0Lmxlbmd0aCA+IDAgJiYgKHRoaXMuaXNFbmQgPyB0aGlzLmExMXkuZGlzYWJsZUVsKHQpIDogdGhpcy5hMTF5LmVuYWJsZUVsKHQpKTsKICAgICAgfQogICAgfSwKICAgIHVwZGF0ZVBhZ2luYXRpb246IGZ1bmN0aW9uIHVwZGF0ZVBhZ2luYXRpb24oKSB7CiAgICAgIHZhciBlID0gdGhpcywKICAgICAgICAgIHQgPSBlLnBhcmFtcy5hMTF5OwogICAgICBlLnBhZ2luYXRpb24gJiYgZS5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUgJiYgZS5wYWdpbmF0aW9uLmJ1bGxldHMgJiYgZS5wYWdpbmF0aW9uLmJ1bGxldHMubGVuZ3RoICYmIGUucGFnaW5hdGlvbi5idWxsZXRzLmVhY2goZnVuY3Rpb24gKGksIGEpIHsKICAgICAgICB2YXIgciA9IHMoYSk7CiAgICAgICAgZS5hMTF5Lm1ha2VFbEZvY3VzYWJsZShyKSwgZS5hMTF5LmFkZEVsUm9sZShyLCAiYnV0dG9uIiksIGUuYTExeS5hZGRFbExhYmVsKHIsIHQucGFnaW5hdGlvbkJ1bGxldE1lc3NhZ2UucmVwbGFjZSgve3tpbmRleH19Lywgci5pbmRleCgpICsgMSkpOwogICAgICB9KTsKICAgIH0sCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB0aGlzLiRlbC5hcHBlbmQodGhpcy5hMTF5LmxpdmVSZWdpb24pOwogICAgICB2YXIgZSwKICAgICAgICAgIHQsCiAgICAgICAgICBpID0gdGhpcy5wYXJhbXMuYTExeTsKICAgICAgdGhpcy5uYXZpZ2F0aW9uICYmIHRoaXMubmF2aWdhdGlvbi4kbmV4dEVsICYmIChlID0gdGhpcy5uYXZpZ2F0aW9uLiRuZXh0RWwpLCB0aGlzLm5hdmlnYXRpb24gJiYgdGhpcy5uYXZpZ2F0aW9uLiRwcmV2RWwgJiYgKHQgPSB0aGlzLm5hdmlnYXRpb24uJHByZXZFbCksIGUgJiYgKHRoaXMuYTExeS5tYWtlRWxGb2N1c2FibGUoZSksIHRoaXMuYTExeS5hZGRFbFJvbGUoZSwgImJ1dHRvbiIpLCB0aGlzLmExMXkuYWRkRWxMYWJlbChlLCBpLm5leHRTbGlkZU1lc3NhZ2UpLCBlLm9uKCJrZXlkb3duIiwgdGhpcy5hMTF5Lm9uRW50ZXJLZXkpKSwgdCAmJiAodGhpcy5hMTF5Lm1ha2VFbEZvY3VzYWJsZSh0KSwgdGhpcy5hMTF5LmFkZEVsUm9sZSh0LCAiYnV0dG9uIiksIHRoaXMuYTExeS5hZGRFbExhYmVsKHQsIGkucHJldlNsaWRlTWVzc2FnZSksIHQub24oImtleWRvd24iLCB0aGlzLmExMXkub25FbnRlcktleSkpLCB0aGlzLnBhZ2luYXRpb24gJiYgdGhpcy5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUgJiYgdGhpcy5wYWdpbmF0aW9uLmJ1bGxldHMgJiYgdGhpcy5wYWdpbmF0aW9uLmJ1bGxldHMubGVuZ3RoICYmIHRoaXMucGFnaW5hdGlvbi4kZWwub24oImtleWRvd24iLCAiLiIgKyB0aGlzLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzLCB0aGlzLmExMXkub25FbnRlcktleSk7CiAgICB9LAogICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgdmFyIGUsIHQ7CiAgICAgIHRoaXMuYTExeS5saXZlUmVnaW9uICYmIHRoaXMuYTExeS5saXZlUmVnaW9uLmxlbmd0aCA+IDAgJiYgdGhpcy5hMTF5LmxpdmVSZWdpb24ucmVtb3ZlKCksIHRoaXMubmF2aWdhdGlvbiAmJiB0aGlzLm5hdmlnYXRpb24uJG5leHRFbCAmJiAoZSA9IHRoaXMubmF2aWdhdGlvbi4kbmV4dEVsKSwgdGhpcy5uYXZpZ2F0aW9uICYmIHRoaXMubmF2aWdhdGlvbi4kcHJldkVsICYmICh0ID0gdGhpcy5uYXZpZ2F0aW9uLiRwcmV2RWwpLCBlICYmIGUub2ZmKCJrZXlkb3duIiwgdGhpcy5hMTF5Lm9uRW50ZXJLZXkpLCB0ICYmIHQub2ZmKCJrZXlkb3duIiwgdGhpcy5hMTF5Lm9uRW50ZXJLZXkpLCB0aGlzLnBhZ2luYXRpb24gJiYgdGhpcy5wYXJhbXMucGFnaW5hdGlvbi5jbGlja2FibGUgJiYgdGhpcy5wYWdpbmF0aW9uLmJ1bGxldHMgJiYgdGhpcy5wYWdpbmF0aW9uLmJ1bGxldHMubGVuZ3RoICYmIHRoaXMucGFnaW5hdGlvbi4kZWwub2ZmKCJrZXlkb3duIiwgIi4iICsgdGhpcy5wYXJhbXMucGFnaW5hdGlvbi5idWxsZXRDbGFzcywgdGhpcy5hMTF5Lm9uRW50ZXJLZXkpOwogICAgfQogIH0sCiAgICAgIHBlID0gewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgaWYgKHRoaXMucGFyYW1zLmhpc3RvcnkpIHsKICAgICAgICBpZiAoIXQuaGlzdG9yeSB8fCAhdC5oaXN0b3J5LnB1c2hTdGF0ZSkgcmV0dXJuIHRoaXMucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCA9ICExLCB2b2lkICh0aGlzLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkID0gITApOwogICAgICAgIHZhciBlID0gdGhpcy5oaXN0b3J5OwogICAgICAgIGUuaW5pdGlhbGl6ZWQgPSAhMCwgZS5wYXRocyA9IHBlLmdldFBhdGhWYWx1ZXMoKSwgKGUucGF0aHMua2V5IHx8IGUucGF0aHMudmFsdWUpICYmIChlLnNjcm9sbFRvU2xpZGUoMCwgZS5wYXRocy52YWx1ZSwgdGhpcy5wYXJhbXMucnVuQ2FsbGJhY2tzT25Jbml0KSwgdGhpcy5wYXJhbXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUgfHwgdC5hZGRFdmVudExpc3RlbmVyKCJwb3BzdGF0ZSIsIHRoaXMuaGlzdG9yeS5zZXRIaXN0b3J5UG9wU3RhdGUpKTsKICAgICAgfQogICAgfSwKICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgIHRoaXMucGFyYW1zLmhpc3RvcnkucmVwbGFjZVN0YXRlIHx8IHQucmVtb3ZlRXZlbnRMaXN0ZW5lcigicG9wc3RhdGUiLCB0aGlzLmhpc3Rvcnkuc2V0SGlzdG9yeVBvcFN0YXRlKTsKICAgIH0sCiAgICBzZXRIaXN0b3J5UG9wU3RhdGU6IGZ1bmN0aW9uIHNldEhpc3RvcnlQb3BTdGF0ZSgpIHsKICAgICAgdGhpcy5oaXN0b3J5LnBhdGhzID0gcGUuZ2V0UGF0aFZhbHVlcygpLCB0aGlzLmhpc3Rvcnkuc2Nyb2xsVG9TbGlkZSh0aGlzLnBhcmFtcy5zcGVlZCwgdGhpcy5oaXN0b3J5LnBhdGhzLnZhbHVlLCAhMSk7CiAgICB9LAogICAgZ2V0UGF0aFZhbHVlczogZnVuY3Rpb24gZ2V0UGF0aFZhbHVlcygpIHsKICAgICAgdmFyIGUgPSB0LmxvY2F0aW9uLnBhdGhuYW1lLnNsaWNlKDEpLnNwbGl0KCIvIikuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuICIiICE9PSBlOwogICAgICB9KSwKICAgICAgICAgIGkgPSBlLmxlbmd0aDsKICAgICAgcmV0dXJuIHsKICAgICAgICBrZXk6IGVbaSAtIDJdLAogICAgICAgIHZhbHVlOiBlW2kgLSAxXQogICAgICB9OwogICAgfSwKICAgIHNldEhpc3Rvcnk6IGZ1bmN0aW9uIHNldEhpc3RvcnkoZSwgaSkgewogICAgICBpZiAodGhpcy5oaXN0b3J5LmluaXRpYWxpemVkICYmIHRoaXMucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCkgewogICAgICAgIHZhciBzID0gdGhpcy5zbGlkZXMuZXEoaSksCiAgICAgICAgICAgIGEgPSBwZS5zbHVnaWZ5KHMuYXR0cigiZGF0YS1oaXN0b3J5IikpOwogICAgICAgIHQubG9jYXRpb24ucGF0aG5hbWUuaW5jbHVkZXMoZSkgfHwgKGEgPSBlICsgIi8iICsgYSk7CiAgICAgICAgdmFyIHIgPSB0Lmhpc3Rvcnkuc3RhdGU7CiAgICAgICAgciAmJiByLnZhbHVlID09PSBhIHx8ICh0aGlzLnBhcmFtcy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSA/IHQuaGlzdG9yeS5yZXBsYWNlU3RhdGUoewogICAgICAgICAgdmFsdWU6IGEKICAgICAgICB9LCBudWxsLCBhKSA6IHQuaGlzdG9yeS5wdXNoU3RhdGUoewogICAgICAgICAgdmFsdWU6IGEKICAgICAgICB9LCBudWxsLCBhKSk7CiAgICAgIH0KICAgIH0sCiAgICBzbHVnaWZ5OiBmdW5jdGlvbiBzbHVnaWZ5KGUpIHsKICAgICAgcmV0dXJuIGUudG9TdHJpbmcoKS5yZXBsYWNlKC9ccysvZywgIi0iKS5yZXBsYWNlKC9bXlx3LV0rL2csICIiKS5yZXBsYWNlKC8tLSsvZywgIi0iKS5yZXBsYWNlKC9eLSsvLCAiIikucmVwbGFjZSgvLSskLywgIiIpOwogICAgfSwKICAgIHNjcm9sbFRvU2xpZGU6IGZ1bmN0aW9uIHNjcm9sbFRvU2xpZGUoZSwgdCwgaSkgewogICAgICBpZiAodCkgZm9yICh2YXIgcyA9IDAsIGEgPSB0aGlzLnNsaWRlcy5sZW5ndGg7IHMgPCBhOyBzICs9IDEpIHsKICAgICAgICB2YXIgciA9IHRoaXMuc2xpZGVzLmVxKHMpOwoKICAgICAgICBpZiAocGUuc2x1Z2lmeShyLmF0dHIoImRhdGEtaGlzdG9yeSIpKSA9PT0gdCAmJiAhci5oYXNDbGFzcyh0aGlzLnBhcmFtcy5zbGlkZUR1cGxpY2F0ZUNsYXNzKSkgewogICAgICAgICAgdmFyIG4gPSByLmluZGV4KCk7CiAgICAgICAgICB0aGlzLnNsaWRlVG8obiwgZSwgaSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgdGhpcy5zbGlkZVRvKDAsIGUsIGkpOwogICAgfQogIH0sCiAgICAgIGNlID0gewogICAgb25IYXNoQ2FuZ2U6IGZ1bmN0aW9uIG9uSGFzaENhbmdlKCkgewogICAgICB2YXIgdCA9IGUubG9jYXRpb24uaGFzaC5yZXBsYWNlKCIjIiwgIiIpOwoKICAgICAgaWYgKHQgIT09IHRoaXMuc2xpZGVzLmVxKHRoaXMuYWN0aXZlSW5kZXgpLmF0dHIoImRhdGEtaGFzaCIpKSB7CiAgICAgICAgdmFyIGkgPSB0aGlzLiR3cmFwcGVyRWwuY2hpbGRyZW4oIi4iICsgdGhpcy5wYXJhbXMuc2xpZGVDbGFzcyArICdbZGF0YS1oYXNoPSInICsgdCArICciXScpLmluZGV4KCk7CiAgICAgICAgaWYgKHZvaWQgMCA9PT0gaSkgcmV0dXJuOwogICAgICAgIHRoaXMuc2xpZGVUbyhpKTsKICAgICAgfQogICAgfSwKICAgIHNldEhhc2g6IGZ1bmN0aW9uIHNldEhhc2goKSB7CiAgICAgIGlmICh0aGlzLmhhc2hOYXZpZ2F0aW9uLmluaXRpYWxpemVkICYmIHRoaXMucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLmVuYWJsZWQpIGlmICh0aGlzLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5yZXBsYWNlU3RhdGUgJiYgdC5oaXN0b3J5ICYmIHQuaGlzdG9yeS5yZXBsYWNlU3RhdGUpIHQuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgbnVsbCwgIiMiICsgdGhpcy5zbGlkZXMuZXEodGhpcy5hY3RpdmVJbmRleCkuYXR0cigiZGF0YS1oYXNoIikgfHwgIiIpO2Vsc2UgewogICAgICAgIHZhciBpID0gdGhpcy5zbGlkZXMuZXEodGhpcy5hY3RpdmVJbmRleCksCiAgICAgICAgICAgIHMgPSBpLmF0dHIoImRhdGEtaGFzaCIpIHx8IGkuYXR0cigiZGF0YS1oaXN0b3J5Iik7CiAgICAgICAgZS5sb2NhdGlvbi5oYXNoID0gcyB8fCAiIjsKICAgICAgfQogICAgfSwKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIGlmICghKCF0aGlzLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi5lbmFibGVkIHx8IHRoaXMucGFyYW1zLmhpc3RvcnkgJiYgdGhpcy5wYXJhbXMuaGlzdG9yeS5lbmFibGVkKSkgewogICAgICAgIHRoaXMuaGFzaE5hdmlnYXRpb24uaW5pdGlhbGl6ZWQgPSAhMDsKICAgICAgICB2YXIgaSA9IGUubG9jYXRpb24uaGFzaC5yZXBsYWNlKCIjIiwgIiIpOwogICAgICAgIGlmIChpKSBmb3IgKHZhciBhID0gMCwgciA9IHRoaXMuc2xpZGVzLmxlbmd0aDsgYSA8IHI7IGEgKz0gMSkgewogICAgICAgICAgdmFyIG4gPSB0aGlzLnNsaWRlcy5lcShhKTsKCiAgICAgICAgICBpZiAoKG4uYXR0cigiZGF0YS1oYXNoIikgfHwgbi5hdHRyKCJkYXRhLWhpc3RvcnkiKSkgPT09IGkgJiYgIW4uaGFzQ2xhc3ModGhpcy5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykpIHsKICAgICAgICAgICAgdmFyIG8gPSBuLmluZGV4KCk7CiAgICAgICAgICAgIHRoaXMuc2xpZGVUbyhvLCAwLCB0aGlzLnBhcmFtcy5ydW5DYWxsYmFja3NPbkluaXQsICEwKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdGhpcy5wYXJhbXMuaGFzaE5hdmlnYXRpb24ud2F0Y2hTdGF0ZSAmJiBzKHQpLm9uKCJoYXNoY2hhbmdlIiwgdGhpcy5oYXNoTmF2aWdhdGlvbi5vbkhhc2hDYW5nZSk7CiAgICAgIH0KICAgIH0sCiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICB0aGlzLnBhcmFtcy5oYXNoTmF2aWdhdGlvbi53YXRjaFN0YXRlICYmIHModCkub2ZmKCJoYXNoY2hhbmdlIiwgdGhpcy5oYXNoTmF2aWdhdGlvbi5vbkhhc2hDYW5nZSk7CiAgICB9CiAgfSwKICAgICAgdWUgPSB7CiAgICBydW46IGZ1bmN0aW9uIHJ1bigpIHsKICAgICAgdmFyIGUgPSB0aGlzLAogICAgICAgICAgdCA9IGUuc2xpZGVzLmVxKGUuYWN0aXZlSW5kZXgpLAogICAgICAgICAgaSA9IGUucGFyYW1zLmF1dG9wbGF5LmRlbGF5OwogICAgICB0LmF0dHIoImRhdGEtc3dpcGVyLWF1dG9wbGF5IikgJiYgKGkgPSB0LmF0dHIoImRhdGEtc3dpcGVyLWF1dG9wbGF5IikgfHwgZS5wYXJhbXMuYXV0b3BsYXkuZGVsYXkpLCBjbGVhclRpbWVvdXQoZS5hdXRvcGxheS50aW1lb3V0KSwgZS5hdXRvcGxheS50aW1lb3V0ID0gbi5uZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgZS5wYXJhbXMuYXV0b3BsYXkucmV2ZXJzZURpcmVjdGlvbiA/IGUucGFyYW1zLmxvb3AgPyAoZS5sb29wRml4KCksIGUuc2xpZGVQcmV2KGUucGFyYW1zLnNwZWVkLCAhMCwgITApLCBlLmVtaXQoImF1dG9wbGF5IikpIDogZS5pc0JlZ2lubmluZyA/IGUucGFyYW1zLmF1dG9wbGF5LnN0b3BPbkxhc3RTbGlkZSA/IGUuYXV0b3BsYXkuc3RvcCgpIDogKGUuc2xpZGVUbyhlLnNsaWRlcy5sZW5ndGggLSAxLCBlLnBhcmFtcy5zcGVlZCwgITAsICEwKSwgZS5lbWl0KCJhdXRvcGxheSIpKSA6IChlLnNsaWRlUHJldihlLnBhcmFtcy5zcGVlZCwgITAsICEwKSwgZS5lbWl0KCJhdXRvcGxheSIpKSA6IGUucGFyYW1zLmxvb3AgPyAoZS5sb29wRml4KCksIGUuc2xpZGVOZXh0KGUucGFyYW1zLnNwZWVkLCAhMCwgITApLCBlLmVtaXQoImF1dG9wbGF5IikpIDogZS5pc0VuZCA/IGUucGFyYW1zLmF1dG9wbGF5LnN0b3BPbkxhc3RTbGlkZSA/IGUuYXV0b3BsYXkuc3RvcCgpIDogKGUuc2xpZGVUbygwLCBlLnBhcmFtcy5zcGVlZCwgITAsICEwKSwgZS5lbWl0KCJhdXRvcGxheSIpKSA6IChlLnNsaWRlTmV4dChlLnBhcmFtcy5zcGVlZCwgITAsICEwKSwgZS5lbWl0KCJhdXRvcGxheSIpKSwgZS5wYXJhbXMuY3NzTW9kZSAmJiBlLmF1dG9wbGF5LnJ1bm5pbmcgJiYgZS5hdXRvcGxheS5ydW4oKTsKICAgICAgfSwgaSk7CiAgICB9LAogICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KCkgewogICAgICByZXR1cm4gdm9pZCAwID09PSB0aGlzLmF1dG9wbGF5LnRpbWVvdXQgJiYgIXRoaXMuYXV0b3BsYXkucnVubmluZyAmJiAodGhpcy5hdXRvcGxheS5ydW5uaW5nID0gITAsIHRoaXMuZW1pdCgiYXV0b3BsYXlTdGFydCIpLCB0aGlzLmF1dG9wbGF5LnJ1bigpLCAhMCk7CiAgICB9LAogICAgc3RvcDogZnVuY3Rpb24gc3RvcCgpIHsKICAgICAgcmV0dXJuICEhdGhpcy5hdXRvcGxheS5ydW5uaW5nICYmIHZvaWQgMCAhPT0gdGhpcy5hdXRvcGxheS50aW1lb3V0ICYmICh0aGlzLmF1dG9wbGF5LnRpbWVvdXQgJiYgKGNsZWFyVGltZW91dCh0aGlzLmF1dG9wbGF5LnRpbWVvdXQpLCB0aGlzLmF1dG9wbGF5LnRpbWVvdXQgPSB2b2lkIDApLCB0aGlzLmF1dG9wbGF5LnJ1bm5pbmcgPSAhMSwgdGhpcy5lbWl0KCJhdXRvcGxheVN0b3AiKSwgITApOwogICAgfSwKICAgIHBhdXNlOiBmdW5jdGlvbiBwYXVzZShlKSB7CiAgICAgIHRoaXMuYXV0b3BsYXkucnVubmluZyAmJiAodGhpcy5hdXRvcGxheS5wYXVzZWQgfHwgKHRoaXMuYXV0b3BsYXkudGltZW91dCAmJiBjbGVhclRpbWVvdXQodGhpcy5hdXRvcGxheS50aW1lb3V0KSwgdGhpcy5hdXRvcGxheS5wYXVzZWQgPSAhMCwgMCAhPT0gZSAmJiB0aGlzLnBhcmFtcy5hdXRvcGxheS53YWl0Rm9yVHJhbnNpdGlvbiA/ICh0aGlzLiR3cmFwcGVyRWxbMF0uYWRkRXZlbnRMaXN0ZW5lcigidHJhbnNpdGlvbmVuZCIsIHRoaXMuYXV0b3BsYXkub25UcmFuc2l0aW9uRW5kKSwgdGhpcy4kd3JhcHBlckVsWzBdLmFkZEV2ZW50TGlzdGVuZXIoIndlYmtpdFRyYW5zaXRpb25FbmQiLCB0aGlzLmF1dG9wbGF5Lm9uVHJhbnNpdGlvbkVuZCkpIDogKHRoaXMuYXV0b3BsYXkucGF1c2VkID0gITEsIHRoaXMuYXV0b3BsYXkucnVuKCkpKSk7CiAgICB9CiAgfSwKICAgICAgdmUgPSB7CiAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZSgpIHsKICAgICAgZm9yICh2YXIgZSA9IHRoaXMuc2xpZGVzLCB0ID0gMDsgdCA8IGUubGVuZ3RoOyB0ICs9IDEpIHsKICAgICAgICB2YXIgaSA9IHRoaXMuc2xpZGVzLmVxKHQpLAogICAgICAgICAgICBzID0gLWlbMF0uc3dpcGVyU2xpZGVPZmZzZXQ7CiAgICAgICAgdGhpcy5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSB8fCAocyAtPSB0aGlzLnRyYW5zbGF0ZSk7CiAgICAgICAgdmFyIGEgPSAwOwogICAgICAgIHRoaXMuaXNIb3Jpem9udGFsKCkgfHwgKGEgPSBzLCBzID0gMCk7CiAgICAgICAgdmFyIHIgPSB0aGlzLnBhcmFtcy5mYWRlRWZmZWN0LmNyb3NzRmFkZSA/IE1hdGgubWF4KDEgLSBNYXRoLmFicyhpWzBdLnByb2dyZXNzKSwgMCkgOiAxICsgTWF0aC5taW4oTWF0aC5tYXgoaVswXS5wcm9ncmVzcywgLTEpLCAwKTsKICAgICAgICBpLmNzcyh7CiAgICAgICAgICBvcGFjaXR5OiByCiAgICAgICAgfSkudHJhbnNmb3JtKCJ0cmFuc2xhdGUzZCgiICsgcyArICJweCwgIiArIGEgKyAicHgsIDBweCkiKTsKICAgICAgfQogICAgfSwKICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZSkgewogICAgICB2YXIgdCA9IHRoaXMsCiAgICAgICAgICBpID0gdC5zbGlkZXMsCiAgICAgICAgICBzID0gdC4kd3JhcHBlckVsOwoKICAgICAgaWYgKGkudHJhbnNpdGlvbihlKSwgdC5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSAmJiAwICE9PSBlKSB7CiAgICAgICAgdmFyIGEgPSAhMTsKICAgICAgICBpLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKCFhICYmIHQgJiYgIXQuZGVzdHJveWVkKSB7CiAgICAgICAgICAgIGEgPSAhMCwgdC5hbmltYXRpbmcgPSAhMTsKCiAgICAgICAgICAgIGZvciAodmFyIGUgPSBbIndlYmtpdFRyYW5zaXRpb25FbmQiLCAidHJhbnNpdGlvbmVuZCJdLCBpID0gMDsgaSA8IGUubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgICAgICBzLnRyaWdnZXIoZVtpXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgICAgIGZlID0gewogICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7CiAgICAgIHZhciBlLAogICAgICAgICAgdCA9IHRoaXMuJGVsLAogICAgICAgICAgaSA9IHRoaXMuJHdyYXBwZXJFbCwKICAgICAgICAgIGEgPSB0aGlzLnNsaWRlcywKICAgICAgICAgIHIgPSB0aGlzLndpZHRoLAogICAgICAgICAgbiA9IHRoaXMuaGVpZ2h0LAogICAgICAgICAgbyA9IHRoaXMucnRsVHJhbnNsYXRlLAogICAgICAgICAgbCA9IHRoaXMuc2l6ZSwKICAgICAgICAgIGQgPSB0aGlzLnBhcmFtcy5jdWJlRWZmZWN0LAogICAgICAgICAgaCA9IHRoaXMuaXNIb3Jpem9udGFsKCksCiAgICAgICAgICBwID0gdGhpcy52aXJ0dWFsICYmIHRoaXMucGFyYW1zLnZpcnR1YWwuZW5hYmxlZCwKICAgICAgICAgIGMgPSAwOwogICAgICBkLnNoYWRvdyAmJiAoaCA/ICgwID09PSAoZSA9IGkuZmluZCgiLnN3aXBlci1jdWJlLXNoYWRvdyIpKS5sZW5ndGggJiYgKGUgPSBzKCc8ZGl2IGNsYXNzPSJzd2lwZXItY3ViZS1zaGFkb3ciPjwvZGl2PicpLCBpLmFwcGVuZChlKSksIGUuY3NzKHsKICAgICAgICBoZWlnaHQ6IHIgKyAicHgiCiAgICAgIH0pKSA6IDAgPT09IChlID0gdC5maW5kKCIuc3dpcGVyLWN1YmUtc2hhZG93IikpLmxlbmd0aCAmJiAoZSA9IHMoJzxkaXYgY2xhc3M9InN3aXBlci1jdWJlLXNoYWRvdyI+PC9kaXY+JyksIHQuYXBwZW5kKGUpKSk7CgogICAgICBmb3IgKHZhciB1ID0gMDsgdSA8IGEubGVuZ3RoOyB1ICs9IDEpIHsKICAgICAgICB2YXIgdiA9IGEuZXEodSksCiAgICAgICAgICAgIGYgPSB1OwogICAgICAgIHAgJiYgKGYgPSBwYXJzZUludCh2LmF0dHIoImRhdGEtc3dpcGVyLXNsaWRlLWluZGV4IiksIDEwKSk7CiAgICAgICAgdmFyIG0gPSA5MCAqIGYsCiAgICAgICAgICAgIGcgPSBNYXRoLmZsb29yKG0gLyAzNjApOwogICAgICAgIG8gJiYgKG0gPSAtbSwgZyA9IE1hdGguZmxvb3IoLW0gLyAzNjApKTsKICAgICAgICB2YXIgYiA9IE1hdGgubWF4KE1hdGgubWluKHZbMF0ucHJvZ3Jlc3MsIDEpLCAtMSksCiAgICAgICAgICAgIHcgPSAwLAogICAgICAgICAgICB5ID0gMCwKICAgICAgICAgICAgeCA9IDA7CiAgICAgICAgZiAlIDQgPT0gMCA/ICh3ID0gNCAqIC1nICogbCwgeCA9IDApIDogKGYgLSAxKSAlIDQgPT0gMCA/ICh3ID0gMCwgeCA9IDQgKiAtZyAqIGwpIDogKGYgLSAyKSAlIDQgPT0gMCA/ICh3ID0gbCArIDQgKiBnICogbCwgeCA9IGwpIDogKGYgLSAzKSAlIDQgPT0gMCAmJiAodyA9IC1sLCB4ID0gMyAqIGwgKyA0ICogbCAqIGcpLCBvICYmICh3ID0gLXcpLCBoIHx8ICh5ID0gdywgdyA9IDApOwogICAgICAgIHZhciBUID0gInJvdGF0ZVgoIiArIChoID8gMCA6IC1tKSArICJkZWcpIHJvdGF0ZVkoIiArIChoID8gbSA6IDApICsgImRlZykgdHJhbnNsYXRlM2QoIiArIHcgKyAicHgsICIgKyB5ICsgInB4LCAiICsgeCArICJweCkiOwoKICAgICAgICBpZiAoYiA8PSAxICYmIGIgPiAtMSAmJiAoYyA9IDkwICogZiArIDkwICogYiwgbyAmJiAoYyA9IDkwICogLWYgLSA5MCAqIGIpKSwgdi50cmFuc2Zvcm0oVCksIGQuc2xpZGVTaGFkb3dzKSB7CiAgICAgICAgICB2YXIgRSA9IGggPyB2LmZpbmQoIi5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQiKSA6IHYuZmluZCgiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wIiksCiAgICAgICAgICAgICAgUyA9IGggPyB2LmZpbmQoIi5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0IikgOiB2LmZpbmQoIi5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbSIpOwogICAgICAgICAgMCA9PT0gRS5sZW5ndGggJiYgKEUgPSBzKCc8ZGl2IGNsYXNzPSJzd2lwZXItc2xpZGUtc2hhZG93LScgKyAoaCA/ICJsZWZ0IiA6ICJ0b3AiKSArICciPjwvZGl2PicpLCB2LmFwcGVuZChFKSksIDAgPT09IFMubGVuZ3RoICYmIChTID0gcygnPGRpdiBjbGFzcz0ic3dpcGVyLXNsaWRlLXNoYWRvdy0nICsgKGggPyAicmlnaHQiIDogImJvdHRvbSIpICsgJyI+PC9kaXY+JyksIHYuYXBwZW5kKFMpKSwgRS5sZW5ndGggJiYgKEVbMF0uc3R5bGUub3BhY2l0eSA9IE1hdGgubWF4KC1iLCAwKSksIFMubGVuZ3RoICYmIChTWzBdLnN0eWxlLm9wYWNpdHkgPSBNYXRoLm1heChiLCAwKSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoaS5jc3MoewogICAgICAgICItd2Via2l0LXRyYW5zZm9ybS1vcmlnaW4iOiAiNTAlIDUwJSAtIiArIGwgLyAyICsgInB4IiwKICAgICAgICAiLW1vei10cmFuc2Zvcm0tb3JpZ2luIjogIjUwJSA1MCUgLSIgKyBsIC8gMiArICJweCIsCiAgICAgICAgIi1tcy10cmFuc2Zvcm0tb3JpZ2luIjogIjUwJSA1MCUgLSIgKyBsIC8gMiArICJweCIsCiAgICAgICAgInRyYW5zZm9ybS1vcmlnaW4iOiAiNTAlIDUwJSAtIiArIGwgLyAyICsgInB4IgogICAgICB9KSwgZC5zaGFkb3cpIGlmIChoKSBlLnRyYW5zZm9ybSgidHJhbnNsYXRlM2QoMHB4LCAiICsgKHIgLyAyICsgZC5zaGFkb3dPZmZzZXQpICsgInB4LCAiICsgLXIgLyAyICsgInB4KSByb3RhdGVYKDkwZGVnKSByb3RhdGVaKDBkZWcpIHNjYWxlKCIgKyBkLnNoYWRvd1NjYWxlICsgIikiKTtlbHNlIHsKICAgICAgICB2YXIgQyA9IE1hdGguYWJzKGMpIC0gOTAgKiBNYXRoLmZsb29yKE1hdGguYWJzKGMpIC8gOTApLAogICAgICAgICAgICBNID0gMS41IC0gKE1hdGguc2luKDIgKiBDICogTWF0aC5QSSAvIDM2MCkgLyAyICsgTWF0aC5jb3MoMiAqIEMgKiBNYXRoLlBJIC8gMzYwKSAvIDIpLAogICAgICAgICAgICBQID0gZC5zaGFkb3dTY2FsZSwKICAgICAgICAgICAgeiA9IGQuc2hhZG93U2NhbGUgLyBNLAogICAgICAgICAgICBrID0gZC5zaGFkb3dPZmZzZXQ7CiAgICAgICAgZS50cmFuc2Zvcm0oInNjYWxlM2QoIiArIFAgKyAiLCAxLCAiICsgeiArICIpIHRyYW5zbGF0ZTNkKDBweCwgIiArIChuIC8gMiArIGspICsgInB4LCAiICsgLW4gLyAyIC8geiArICJweCkgcm90YXRlWCgtOTBkZWcpIik7CiAgICAgIH0KICAgICAgdmFyICQgPSBqLmlzU2FmYXJpIHx8IGouaXNVaVdlYlZpZXcgPyAtbCAvIDIgOiAwOwogICAgICBpLnRyYW5zZm9ybSgidHJhbnNsYXRlM2QoMHB4LDAsIiArICQgKyAicHgpIHJvdGF0ZVgoIiArICh0aGlzLmlzSG9yaXpvbnRhbCgpID8gMCA6IGMpICsgImRlZykgcm90YXRlWSgiICsgKHRoaXMuaXNIb3Jpem9udGFsKCkgPyAtYyA6IDApICsgImRlZykiKTsKICAgIH0sCiAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGUpIHsKICAgICAgdmFyIHQgPSB0aGlzLiRlbDsKICAgICAgdGhpcy5zbGlkZXMudHJhbnNpdGlvbihlKS5maW5kKCIuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQiKS50cmFuc2l0aW9uKGUpLCB0aGlzLnBhcmFtcy5jdWJlRWZmZWN0LnNoYWRvdyAmJiAhdGhpcy5pc0hvcml6b250YWwoKSAmJiB0LmZpbmQoIi5zd2lwZXItY3ViZS1zaGFkb3ciKS50cmFuc2l0aW9uKGUpOwogICAgfQogIH0sCiAgICAgIG1lID0gewogICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7CiAgICAgIGZvciAodmFyIGUgPSB0aGlzLnNsaWRlcywgdCA9IHRoaXMucnRsVHJhbnNsYXRlLCBpID0gMDsgaSA8IGUubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICB2YXIgYSA9IGUuZXEoaSksCiAgICAgICAgICAgIHIgPSBhWzBdLnByb2dyZXNzOwogICAgICAgIHRoaXMucGFyYW1zLmZsaXBFZmZlY3QubGltaXRSb3RhdGlvbiAmJiAociA9IE1hdGgubWF4KE1hdGgubWluKGFbMF0ucHJvZ3Jlc3MsIDEpLCAtMSkpOwogICAgICAgIHZhciBuID0gLTE4MCAqIHIsCiAgICAgICAgICAgIG8gPSAwLAogICAgICAgICAgICBsID0gLWFbMF0uc3dpcGVyU2xpZGVPZmZzZXQsCiAgICAgICAgICAgIGQgPSAwOwoKICAgICAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSA/IHQgJiYgKG4gPSAtbikgOiAoZCA9IGwsIGwgPSAwLCBvID0gLW4sIG4gPSAwKSwgYVswXS5zdHlsZS56SW5kZXggPSAtTWF0aC5hYnMoTWF0aC5yb3VuZChyKSkgKyBlLmxlbmd0aCwgdGhpcy5wYXJhbXMuZmxpcEVmZmVjdC5zbGlkZVNoYWRvd3MpIHsKICAgICAgICAgIHZhciBoID0gdGhpcy5pc0hvcml6b250YWwoKSA/IGEuZmluZCgiLnN3aXBlci1zbGlkZS1zaGFkb3ctbGVmdCIpIDogYS5maW5kKCIuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AiKSwKICAgICAgICAgICAgICBwID0gdGhpcy5pc0hvcml6b250YWwoKSA/IGEuZmluZCgiLnN3aXBlci1zbGlkZS1zaGFkb3ctcmlnaHQiKSA6IGEuZmluZCgiLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tIik7CiAgICAgICAgICAwID09PSBoLmxlbmd0aCAmJiAoaCA9IHMoJzxkaXYgY2xhc3M9InN3aXBlci1zbGlkZS1zaGFkb3ctJyArICh0aGlzLmlzSG9yaXpvbnRhbCgpID8gImxlZnQiIDogInRvcCIpICsgJyI+PC9kaXY+JyksIGEuYXBwZW5kKGgpKSwgMCA9PT0gcC5sZW5ndGggJiYgKHAgPSBzKCc8ZGl2IGNsYXNzPSJzd2lwZXItc2xpZGUtc2hhZG93LScgKyAodGhpcy5pc0hvcml6b250YWwoKSA/ICJyaWdodCIgOiAiYm90dG9tIikgKyAnIj48L2Rpdj4nKSwgYS5hcHBlbmQocCkpLCBoLmxlbmd0aCAmJiAoaFswXS5zdHlsZS5vcGFjaXR5ID0gTWF0aC5tYXgoLXIsIDApKSwgcC5sZW5ndGggJiYgKHBbMF0uc3R5bGUub3BhY2l0eSA9IE1hdGgubWF4KHIsIDApKTsKICAgICAgICB9CgogICAgICAgIGEudHJhbnNmb3JtKCJ0cmFuc2xhdGUzZCgiICsgbCArICJweCwgIiArIGQgKyAicHgsIDBweCkgcm90YXRlWCgiICsgbyArICJkZWcpIHJvdGF0ZVkoIiArIG4gKyAiZGVnKSIpOwogICAgICB9CiAgICB9LAogICAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihlKSB7CiAgICAgIHZhciB0ID0gdGhpcywKICAgICAgICAgIGkgPSB0LnNsaWRlcywKICAgICAgICAgIHMgPSB0LmFjdGl2ZUluZGV4LAogICAgICAgICAgYSA9IHQuJHdyYXBwZXJFbDsKCiAgICAgIGlmIChpLnRyYW5zaXRpb24oZSkuZmluZCgiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1yaWdodCwgLnN3aXBlci1zbGlkZS1zaGFkb3ctYm90dG9tLCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1sZWZ0IikudHJhbnNpdGlvbihlKSwgdC5wYXJhbXMudmlydHVhbFRyYW5zbGF0ZSAmJiAwICE9PSBlKSB7CiAgICAgICAgdmFyIHIgPSAhMTsKICAgICAgICBpLmVxKHMpLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKCFyICYmIHQgJiYgIXQuZGVzdHJveWVkKSB7CiAgICAgICAgICAgIHIgPSAhMCwgdC5hbmltYXRpbmcgPSAhMTsKCiAgICAgICAgICAgIGZvciAodmFyIGUgPSBbIndlYmtpdFRyYW5zaXRpb25FbmQiLCAidHJhbnNpdGlvbmVuZCJdLCBpID0gMDsgaSA8IGUubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgICAgICBhLnRyaWdnZXIoZVtpXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgICAgIGdlID0gewogICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7CiAgICAgIGZvciAodmFyIGUgPSB0aGlzLndpZHRoLCB0ID0gdGhpcy5oZWlnaHQsIGkgPSB0aGlzLnNsaWRlcywgYSA9IHRoaXMuJHdyYXBwZXJFbCwgciA9IHRoaXMuc2xpZGVzU2l6ZXNHcmlkLCBuID0gdGhpcy5wYXJhbXMuY292ZXJmbG93RWZmZWN0LCBsID0gdGhpcy5pc0hvcml6b250YWwoKSwgZCA9IHRoaXMudHJhbnNsYXRlLCBoID0gbCA/IGUgLyAyIC0gZCA6IHQgLyAyIC0gZCwgcCA9IGwgPyBuLnJvdGF0ZSA6IC1uLnJvdGF0ZSwgYyA9IG4uZGVwdGgsIHUgPSAwLCB2ID0gaS5sZW5ndGg7IHUgPCB2OyB1ICs9IDEpIHsKICAgICAgICB2YXIgZiA9IGkuZXEodSksCiAgICAgICAgICAgIG0gPSByW3VdLAogICAgICAgICAgICBnID0gKGggLSBmWzBdLnN3aXBlclNsaWRlT2Zmc2V0IC0gbSAvIDIpIC8gbSAqIG4ubW9kaWZpZXIsCiAgICAgICAgICAgIGIgPSBsID8gcCAqIGcgOiAwLAogICAgICAgICAgICB3ID0gbCA/IDAgOiBwICogZywKICAgICAgICAgICAgeSA9IC1jICogTWF0aC5hYnMoZyksCiAgICAgICAgICAgIHggPSBsID8gMCA6IG4uc3RyZXRjaCAqIGcsCiAgICAgICAgICAgIFQgPSBsID8gbi5zdHJldGNoICogZyA6IDA7CiAgICAgICAgTWF0aC5hYnMoVCkgPCAuMDAxICYmIChUID0gMCksIE1hdGguYWJzKHgpIDwgLjAwMSAmJiAoeCA9IDApLCBNYXRoLmFicyh5KSA8IC4wMDEgJiYgKHkgPSAwKSwgTWF0aC5hYnMoYikgPCAuMDAxICYmIChiID0gMCksIE1hdGguYWJzKHcpIDwgLjAwMSAmJiAodyA9IDApOwogICAgICAgIHZhciBFID0gInRyYW5zbGF0ZTNkKCIgKyBUICsgInB4LCIgKyB4ICsgInB4LCIgKyB5ICsgInB4KSAgcm90YXRlWCgiICsgdyArICJkZWcpIHJvdGF0ZVkoIiArIGIgKyAiZGVnKSI7CgogICAgICAgIGlmIChmLnRyYW5zZm9ybShFKSwgZlswXS5zdHlsZS56SW5kZXggPSAxIC0gTWF0aC5hYnMoTWF0aC5yb3VuZChnKSksIG4uc2xpZGVTaGFkb3dzKSB7CiAgICAgICAgICB2YXIgUyA9IGwgPyBmLmZpbmQoIi5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQiKSA6IGYuZmluZCgiLnN3aXBlci1zbGlkZS1zaGFkb3ctdG9wIiksCiAgICAgICAgICAgICAgQyA9IGwgPyBmLmZpbmQoIi5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0IikgOiBmLmZpbmQoIi5zd2lwZXItc2xpZGUtc2hhZG93LWJvdHRvbSIpOwogICAgICAgICAgMCA9PT0gUy5sZW5ndGggJiYgKFMgPSBzKCc8ZGl2IGNsYXNzPSJzd2lwZXItc2xpZGUtc2hhZG93LScgKyAobCA/ICJsZWZ0IiA6ICJ0b3AiKSArICciPjwvZGl2PicpLCBmLmFwcGVuZChTKSksIDAgPT09IEMubGVuZ3RoICYmIChDID0gcygnPGRpdiBjbGFzcz0ic3dpcGVyLXNsaWRlLXNoYWRvdy0nICsgKGwgPyAicmlnaHQiIDogImJvdHRvbSIpICsgJyI+PC9kaXY+JyksIGYuYXBwZW5kKEMpKSwgUy5sZW5ndGggJiYgKFNbMF0uc3R5bGUub3BhY2l0eSA9IGcgPiAwID8gZyA6IDApLCBDLmxlbmd0aCAmJiAoQ1swXS5zdHlsZS5vcGFjaXR5ID0gLWcgPiAwID8gLWcgOiAwKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIChvLnBvaW50ZXJFdmVudHMgfHwgby5wcmVmaXhlZFBvaW50ZXJFdmVudHMpICYmIChhWzBdLnN0eWxlLnBlcnNwZWN0aXZlT3JpZ2luID0gaCArICJweCA1MCUiKTsKICAgIH0sCiAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGUpIHsKICAgICAgdGhpcy5zbGlkZXMudHJhbnNpdGlvbihlKS5maW5kKCIuc3dpcGVyLXNsaWRlLXNoYWRvdy10b3AsIC5zd2lwZXItc2xpZGUtc2hhZG93LXJpZ2h0LCAuc3dpcGVyLXNsaWRlLXNoYWRvdy1ib3R0b20sIC5zd2lwZXItc2xpZGUtc2hhZG93LWxlZnQiKS50cmFuc2l0aW9uKGUpOwogICAgfQogIH0sCiAgICAgIGJlID0gewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdmFyIGUgPSB0aGlzLnBhcmFtcy50aHVtYnMsCiAgICAgICAgICB0ID0gdGhpcy5jb25zdHJ1Y3RvcjsKICAgICAgZS5zd2lwZXIgaW5zdGFuY2VvZiB0ID8gKHRoaXMudGh1bWJzLnN3aXBlciA9IGUuc3dpcGVyLCBuLmV4dGVuZCh0aGlzLnRodW1icy5zd2lwZXIub3JpZ2luYWxQYXJhbXMsIHsKICAgICAgICB3YXRjaFNsaWRlc1Byb2dyZXNzOiAhMCwKICAgICAgICBzbGlkZVRvQ2xpY2tlZFNsaWRlOiAhMQogICAgICB9KSwgbi5leHRlbmQodGhpcy50aHVtYnMuc3dpcGVyLnBhcmFtcywgewogICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6ICEwLAogICAgICAgIHNsaWRlVG9DbGlja2VkU2xpZGU6ICExCiAgICAgIH0pKSA6IG4uaXNPYmplY3QoZS5zd2lwZXIpICYmICh0aGlzLnRodW1icy5zd2lwZXIgPSBuZXcgdChuLmV4dGVuZCh7fSwgZS5zd2lwZXIsIHsKICAgICAgICB3YXRjaFNsaWRlc1Zpc2liaWxpdHk6ICEwLAogICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6ICEwLAogICAgICAgIHNsaWRlVG9DbGlja2VkU2xpZGU6ICExCiAgICAgIH0pKSwgdGhpcy50aHVtYnMuc3dpcGVyQ3JlYXRlZCA9ICEwKSwgdGhpcy50aHVtYnMuc3dpcGVyLiRlbC5hZGRDbGFzcyh0aGlzLnBhcmFtcy50aHVtYnMudGh1bWJzQ29udGFpbmVyQ2xhc3MpLCB0aGlzLnRodW1icy5zd2lwZXIub24oInRhcCIsIHRoaXMudGh1bWJzLm9uVGh1bWJDbGljayk7CiAgICB9LAogICAgb25UaHVtYkNsaWNrOiBmdW5jdGlvbiBvblRodW1iQ2xpY2soKSB7CiAgICAgIHZhciBlID0gdGhpcy50aHVtYnMuc3dpcGVyOwoKICAgICAgaWYgKGUpIHsKICAgICAgICB2YXIgdCA9IGUuY2xpY2tlZEluZGV4LAogICAgICAgICAgICBpID0gZS5jbGlja2VkU2xpZGU7CgogICAgICAgIGlmICghKGkgJiYgcyhpKS5oYXNDbGFzcyh0aGlzLnBhcmFtcy50aHVtYnMuc2xpZGVUaHVtYkFjdGl2ZUNsYXNzKSB8fCBudWxsID09IHQpKSB7CiAgICAgICAgICB2YXIgYTsKCiAgICAgICAgICBpZiAoYSA9IGUucGFyYW1zLmxvb3AgPyBwYXJzZUludChzKGUuY2xpY2tlZFNsaWRlKS5hdHRyKCJkYXRhLXN3aXBlci1zbGlkZS1pbmRleCIpLCAxMCkgOiB0LCB0aGlzLnBhcmFtcy5sb29wKSB7CiAgICAgICAgICAgIHZhciByID0gdGhpcy5hY3RpdmVJbmRleDsKICAgICAgICAgICAgdGhpcy5zbGlkZXMuZXEocikuaGFzQ2xhc3ModGhpcy5wYXJhbXMuc2xpZGVEdXBsaWNhdGVDbGFzcykgJiYgKHRoaXMubG9vcEZpeCgpLCB0aGlzLl9jbGllbnRMZWZ0ID0gdGhpcy4kd3JhcHBlckVsWzBdLmNsaWVudExlZnQsIHIgPSB0aGlzLmFjdGl2ZUluZGV4KTsKICAgICAgICAgICAgdmFyIG4gPSB0aGlzLnNsaWRlcy5lcShyKS5wcmV2QWxsKCdbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9IicgKyBhICsgJyJdJykuZXEoMCkuaW5kZXgoKSwKICAgICAgICAgICAgICAgIG8gPSB0aGlzLnNsaWRlcy5lcShyKS5uZXh0QWxsKCdbZGF0YS1zd2lwZXItc2xpZGUtaW5kZXg9IicgKyBhICsgJyJdJykuZXEoMCkuaW5kZXgoKTsKICAgICAgICAgICAgYSA9IHZvaWQgMCA9PT0gbiA/IG8gOiB2b2lkIDAgPT09IG8gPyBuIDogbyAtIHIgPCByIC0gbiA/IG8gOiBuOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuc2xpZGVUbyhhKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShlKSB7CiAgICAgIHZhciB0ID0gdGhpcy50aHVtYnMuc3dpcGVyOwoKICAgICAgaWYgKHQpIHsKICAgICAgICB2YXIgaSA9ICJhdXRvIiA9PT0gdC5wYXJhbXMuc2xpZGVzUGVyVmlldyA/IHQuc2xpZGVzUGVyVmlld0R5bmFtaWMoKSA6IHQucGFyYW1zLnNsaWRlc1BlclZpZXc7CgogICAgICAgIGlmICh0aGlzLnJlYWxJbmRleCAhPT0gdC5yZWFsSW5kZXgpIHsKICAgICAgICAgIHZhciBzLAogICAgICAgICAgICAgIGEgPSB0LmFjdGl2ZUluZGV4OwoKICAgICAgICAgIGlmICh0LnBhcmFtcy5sb29wKSB7CiAgICAgICAgICAgIHQuc2xpZGVzLmVxKGEpLmhhc0NsYXNzKHQucGFyYW1zLnNsaWRlRHVwbGljYXRlQ2xhc3MpICYmICh0Lmxvb3BGaXgoKSwgdC5fY2xpZW50TGVmdCA9IHQuJHdyYXBwZXJFbFswXS5jbGllbnRMZWZ0LCBhID0gdC5hY3RpdmVJbmRleCk7CiAgICAgICAgICAgIHZhciByID0gdC5zbGlkZXMuZXEoYSkucHJldkFsbCgnW2RhdGEtc3dpcGVyLXNsaWRlLWluZGV4PSInICsgdGhpcy5yZWFsSW5kZXggKyAnIl0nKS5lcSgwKS5pbmRleCgpLAogICAgICAgICAgICAgICAgbiA9IHQuc2xpZGVzLmVxKGEpLm5leHRBbGwoJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD0iJyArIHRoaXMucmVhbEluZGV4ICsgJyJdJykuZXEoMCkuaW5kZXgoKTsKICAgICAgICAgICAgcyA9IHZvaWQgMCA9PT0gciA/IG4gOiB2b2lkIDAgPT09IG4gPyByIDogbiAtIGEgPT0gYSAtIHIgPyBhIDogbiAtIGEgPCBhIC0gciA/IG4gOiByOwogICAgICAgICAgfSBlbHNlIHMgPSB0aGlzLnJlYWxJbmRleDsKCiAgICAgICAgICB0LnZpc2libGVTbGlkZXNJbmRleGVzICYmIHQudmlzaWJsZVNsaWRlc0luZGV4ZXMuaW5kZXhPZihzKSA8IDAgJiYgKHQucGFyYW1zLmNlbnRlcmVkU2xpZGVzID8gcyA9IHMgPiBhID8gcyAtIE1hdGguZmxvb3IoaSAvIDIpICsgMSA6IHMgKyBNYXRoLmZsb29yKGkgLyAyKSAtIDEgOiBzID4gYSAmJiAocyA9IHMgLSBpICsgMSksIHQuc2xpZGVUbyhzLCBlID8gMCA6IHZvaWQgMCkpOwogICAgICAgIH0KCiAgICAgICAgdmFyIG8gPSAxLAogICAgICAgICAgICBsID0gdGhpcy5wYXJhbXMudGh1bWJzLnNsaWRlVGh1bWJBY3RpdmVDbGFzczsKICAgICAgICBpZiAodGhpcy5wYXJhbXMuc2xpZGVzUGVyVmlldyA+IDEgJiYgIXRoaXMucGFyYW1zLmNlbnRlcmVkU2xpZGVzICYmIChvID0gdGhpcy5wYXJhbXMuc2xpZGVzUGVyVmlldyksIHRoaXMucGFyYW1zLnRodW1icy5tdWx0aXBsZUFjdGl2ZVRodW1icyB8fCAobyA9IDEpLCBvID0gTWF0aC5mbG9vcihvKSwgdC5zbGlkZXMucmVtb3ZlQ2xhc3MobCksIHQucGFyYW1zLmxvb3AgfHwgdC5wYXJhbXMudmlydHVhbCAmJiB0LnBhcmFtcy52aXJ0dWFsLmVuYWJsZWQpIGZvciAodmFyIGQgPSAwOyBkIDwgbzsgZCArPSAxKSB7CiAgICAgICAgICB0LiR3cmFwcGVyRWwuY2hpbGRyZW4oJ1tkYXRhLXN3aXBlci1zbGlkZS1pbmRleD0iJyArICh0aGlzLnJlYWxJbmRleCArIGQpICsgJyJdJykuYWRkQ2xhc3MobCk7CiAgICAgICAgfSBlbHNlIGZvciAodmFyIGggPSAwOyBoIDwgbzsgaCArPSAxKSB7CiAgICAgICAgICB0LnNsaWRlcy5lcSh0aGlzLnJlYWxJbmRleCArIGgpLmFkZENsYXNzKGwpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgICAgIHdlID0gW1IsIHEsIEssIFUsIFosIEosIHRlLCB7CiAgICBuYW1lOiAibW91c2V3aGVlbCIsCiAgICBwYXJhbXM6IHsKICAgICAgbW91c2V3aGVlbDogewogICAgICAgIGVuYWJsZWQ6ICExLAogICAgICAgIHJlbGVhc2VPbkVkZ2VzOiAhMSwKICAgICAgICBpbnZlcnQ6ICExLAogICAgICAgIGZvcmNlVG9BeGlzOiAhMSwKICAgICAgICBzZW5zaXRpdml0eTogMSwKICAgICAgICBldmVudHNUYXJnZWQ6ICJjb250YWluZXIiCiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHsKICAgICAgbi5leHRlbmQodGhpcywgewogICAgICAgIG1vdXNld2hlZWw6IHsKICAgICAgICAgIGVuYWJsZWQ6ICExLAogICAgICAgICAgZW5hYmxlOiBpZS5lbmFibGUuYmluZCh0aGlzKSwKICAgICAgICAgIGRpc2FibGU6IGllLmRpc2FibGUuYmluZCh0aGlzKSwKICAgICAgICAgIGhhbmRsZTogaWUuaGFuZGxlLmJpbmQodGhpcyksCiAgICAgICAgICBoYW5kbGVNb3VzZUVudGVyOiBpZS5oYW5kbGVNb3VzZUVudGVyLmJpbmQodGhpcyksCiAgICAgICAgICBoYW5kbGVNb3VzZUxlYXZlOiBpZS5oYW5kbGVNb3VzZUxlYXZlLmJpbmQodGhpcyksCiAgICAgICAgICBhbmltYXRlU2xpZGVyOiBpZS5hbmltYXRlU2xpZGVyLmJpbmQodGhpcyksCiAgICAgICAgICByZWxlYXNlU2Nyb2xsOiBpZS5yZWxlYXNlU2Nyb2xsLmJpbmQodGhpcyksCiAgICAgICAgICBsYXN0U2Nyb2xsVGltZTogbi5ub3coKSwKICAgICAgICAgIGxhc3RFdmVudEJlZm9yZVNuYXA6IHZvaWQgMCwKICAgICAgICAgIHJlY2VudFdoZWVsRXZlbnRzOiBbXQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb246IHsKICAgICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgICAhdGhpcy5wYXJhbXMubW91c2V3aGVlbC5lbmFibGVkICYmIHRoaXMucGFyYW1zLmNzc01vZGUgJiYgdGhpcy5tb3VzZXdoZWVsLmRpc2FibGUoKSwgdGhpcy5wYXJhbXMubW91c2V3aGVlbC5lbmFibGVkICYmIHRoaXMubW91c2V3aGVlbC5lbmFibGUoKTsKICAgICAgfSwKICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgICB0aGlzLnBhcmFtcy5jc3NNb2RlICYmIHRoaXMubW91c2V3aGVlbC5lbmFibGUoKSwgdGhpcy5tb3VzZXdoZWVsLmVuYWJsZWQgJiYgdGhpcy5tb3VzZXdoZWVsLmRpc2FibGUoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIG5hbWU6ICJuYXZpZ2F0aW9uIiwKICAgIHBhcmFtczogewogICAgICBuYXZpZ2F0aW9uOiB7CiAgICAgICAgbmV4dEVsOiBudWxsLAogICAgICAgIHByZXZFbDogbnVsbCwKICAgICAgICBoaWRlT25DbGljazogITEsCiAgICAgICAgZGlzYWJsZWRDbGFzczogInN3aXBlci1idXR0b24tZGlzYWJsZWQiLAogICAgICAgIGhpZGRlbkNsYXNzOiAic3dpcGVyLWJ1dHRvbi1oaWRkZW4iLAogICAgICAgIGxvY2tDbGFzczogInN3aXBlci1idXR0b24tbG9jayIKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICBuLmV4dGVuZCh0aGlzLCB7CiAgICAgICAgbmF2aWdhdGlvbjogewogICAgICAgICAgaW5pdDogc2UuaW5pdC5iaW5kKHRoaXMpLAogICAgICAgICAgdXBkYXRlOiBzZS51cGRhdGUuYmluZCh0aGlzKSwKICAgICAgICAgIGRlc3Ryb3k6IHNlLmRlc3Ryb3kuYmluZCh0aGlzKSwKICAgICAgICAgIG9uTmV4dENsaWNrOiBzZS5vbk5leHRDbGljay5iaW5kKHRoaXMpLAogICAgICAgICAgb25QcmV2Q2xpY2s6IHNlLm9uUHJldkNsaWNrLmJpbmQodGhpcykKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uOiB7CiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmluaXQoKSwgdGhpcy5uYXZpZ2F0aW9uLnVwZGF0ZSgpOwogICAgICB9LAogICAgICB0b0VkZ2U6IGZ1bmN0aW9uIHRvRWRnZSgpIHsKICAgICAgICB0aGlzLm5hdmlnYXRpb24udXBkYXRlKCk7CiAgICAgIH0sCiAgICAgIGZyb21FZGdlOiBmdW5jdGlvbiBmcm9tRWRnZSgpIHsKICAgICAgICB0aGlzLm5hdmlnYXRpb24udXBkYXRlKCk7CiAgICAgIH0sCiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uLmRlc3Ryb3koKTsKICAgICAgfSwKICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGUpIHsKICAgICAgICB2YXIgdCwKICAgICAgICAgICAgaSA9IHRoaXMubmF2aWdhdGlvbiwKICAgICAgICAgICAgYSA9IGkuJG5leHRFbCwKICAgICAgICAgICAgciA9IGkuJHByZXZFbDsKICAgICAgICAhdGhpcy5wYXJhbXMubmF2aWdhdGlvbi5oaWRlT25DbGljayB8fCBzKGUudGFyZ2V0KS5pcyhyKSB8fCBzKGUudGFyZ2V0KS5pcyhhKSB8fCAoYSA/IHQgPSBhLmhhc0NsYXNzKHRoaXMucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpIDogciAmJiAodCA9IHIuaGFzQ2xhc3ModGhpcy5wYXJhbXMubmF2aWdhdGlvbi5oaWRkZW5DbGFzcykpLCAhMCA9PT0gdCA/IHRoaXMuZW1pdCgibmF2aWdhdGlvblNob3ciLCB0aGlzKSA6IHRoaXMuZW1pdCgibmF2aWdhdGlvbkhpZGUiLCB0aGlzKSwgYSAmJiBhLnRvZ2dsZUNsYXNzKHRoaXMucGFyYW1zLm5hdmlnYXRpb24uaGlkZGVuQ2xhc3MpLCByICYmIHIudG9nZ2xlQ2xhc3ModGhpcy5wYXJhbXMubmF2aWdhdGlvbi5oaWRkZW5DbGFzcykpOwogICAgICB9CiAgICB9CiAgfSwgewogICAgbmFtZTogInBhZ2luYXRpb24iLAogICAgcGFyYW1zOiB7CiAgICAgIHBhZ2luYXRpb246IHsKICAgICAgICBlbDogbnVsbCwKICAgICAgICBidWxsZXRFbGVtZW50OiAic3BhbiIsCiAgICAgICAgY2xpY2thYmxlOiAhMSwKICAgICAgICBoaWRlT25DbGljazogITEsCiAgICAgICAgcmVuZGVyQnVsbGV0OiBudWxsLAogICAgICAgIHJlbmRlclByb2dyZXNzYmFyOiBudWxsLAogICAgICAgIHJlbmRlckZyYWN0aW9uOiBudWxsLAogICAgICAgIHJlbmRlckN1c3RvbTogbnVsbCwKICAgICAgICBwcm9ncmVzc2Jhck9wcG9zaXRlOiAhMSwKICAgICAgICB0eXBlOiAiYnVsbGV0cyIsCiAgICAgICAgZHluYW1pY0J1bGxldHM6ICExLAogICAgICAgIGR5bmFtaWNNYWluQnVsbGV0czogMSwKICAgICAgICBmb3JtYXRGcmFjdGlvbkN1cnJlbnQ6IGZ1bmN0aW9uIGZvcm1hdEZyYWN0aW9uQ3VycmVudChlKSB7CiAgICAgICAgICByZXR1cm4gZTsKICAgICAgICB9LAogICAgICAgIGZvcm1hdEZyYWN0aW9uVG90YWw6IGZ1bmN0aW9uIGZvcm1hdEZyYWN0aW9uVG90YWwoZSkgewogICAgICAgICAgcmV0dXJuIGU7CiAgICAgICAgfSwKICAgICAgICBidWxsZXRDbGFzczogInN3aXBlci1wYWdpbmF0aW9uLWJ1bGxldCIsCiAgICAgICAgYnVsbGV0QWN0aXZlQ2xhc3M6ICJzd2lwZXItcGFnaW5hdGlvbi1idWxsZXQtYWN0aXZlIiwKICAgICAgICBtb2RpZmllckNsYXNzOiAic3dpcGVyLXBhZ2luYXRpb24tIiwKICAgICAgICBjdXJyZW50Q2xhc3M6ICJzd2lwZXItcGFnaW5hdGlvbi1jdXJyZW50IiwKICAgICAgICB0b3RhbENsYXNzOiAic3dpcGVyLXBhZ2luYXRpb24tdG90YWwiLAogICAgICAgIGhpZGRlbkNsYXNzOiAic3dpcGVyLXBhZ2luYXRpb24taGlkZGVuIiwKICAgICAgICBwcm9ncmVzc2JhckZpbGxDbGFzczogInN3aXBlci1wYWdpbmF0aW9uLXByb2dyZXNzYmFyLWZpbGwiLAogICAgICAgIHByb2dyZXNzYmFyT3Bwb3NpdGVDbGFzczogInN3aXBlci1wYWdpbmF0aW9uLXByb2dyZXNzYmFyLW9wcG9zaXRlIiwKICAgICAgICBjbGlja2FibGVDbGFzczogInN3aXBlci1wYWdpbmF0aW9uLWNsaWNrYWJsZSIsCiAgICAgICAgbG9ja0NsYXNzOiAic3dpcGVyLXBhZ2luYXRpb24tbG9jayIKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICBuLmV4dGVuZCh0aGlzLCB7CiAgICAgICAgcGFnaW5hdGlvbjogewogICAgICAgICAgaW5pdDogYWUuaW5pdC5iaW5kKHRoaXMpLAogICAgICAgICAgcmVuZGVyOiBhZS5yZW5kZXIuYmluZCh0aGlzKSwKICAgICAgICAgIHVwZGF0ZTogYWUudXBkYXRlLmJpbmQodGhpcyksCiAgICAgICAgICBkZXN0cm95OiBhZS5kZXN0cm95LmJpbmQodGhpcyksCiAgICAgICAgICBkeW5hbWljQnVsbGV0SW5kZXg6IDAKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uOiB7CiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgICAgdGhpcy5wYWdpbmF0aW9uLmluaXQoKSwgdGhpcy5wYWdpbmF0aW9uLnJlbmRlcigpLCB0aGlzLnBhZ2luYXRpb24udXBkYXRlKCk7CiAgICAgIH0sCiAgICAgIGFjdGl2ZUluZGV4Q2hhbmdlOiBmdW5jdGlvbiBhY3RpdmVJbmRleENoYW5nZSgpIHsKICAgICAgICB0aGlzLnBhcmFtcy5sb29wID8gdGhpcy5wYWdpbmF0aW9uLnVwZGF0ZSgpIDogdm9pZCAwID09PSB0aGlzLnNuYXBJbmRleCAmJiB0aGlzLnBhZ2luYXRpb24udXBkYXRlKCk7CiAgICAgIH0sCiAgICAgIHNuYXBJbmRleENoYW5nZTogZnVuY3Rpb24gc25hcEluZGV4Q2hhbmdlKCkgewogICAgICAgIHRoaXMucGFyYW1zLmxvb3AgfHwgdGhpcy5wYWdpbmF0aW9uLnVwZGF0ZSgpOwogICAgICB9LAogICAgICBzbGlkZXNMZW5ndGhDaGFuZ2U6IGZ1bmN0aW9uIHNsaWRlc0xlbmd0aENoYW5nZSgpIHsKICAgICAgICB0aGlzLnBhcmFtcy5sb29wICYmICh0aGlzLnBhZ2luYXRpb24ucmVuZGVyKCksIHRoaXMucGFnaW5hdGlvbi51cGRhdGUoKSk7CiAgICAgIH0sCiAgICAgIHNuYXBHcmlkTGVuZ3RoQ2hhbmdlOiBmdW5jdGlvbiBzbmFwR3JpZExlbmd0aENoYW5nZSgpIHsKICAgICAgICB0aGlzLnBhcmFtcy5sb29wIHx8ICh0aGlzLnBhZ2luYXRpb24ucmVuZGVyKCksIHRoaXMucGFnaW5hdGlvbi51cGRhdGUoKSk7CiAgICAgIH0sCiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgICAgdGhpcy5wYWdpbmF0aW9uLmRlc3Ryb3koKTsKICAgICAgfSwKICAgICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKGUpIHsKICAgICAgICB0aGlzLnBhcmFtcy5wYWdpbmF0aW9uLmVsICYmIHRoaXMucGFyYW1zLnBhZ2luYXRpb24uaGlkZU9uQ2xpY2sgJiYgdGhpcy5wYWdpbmF0aW9uLiRlbC5sZW5ndGggPiAwICYmICFzKGUudGFyZ2V0KS5oYXNDbGFzcyh0aGlzLnBhcmFtcy5wYWdpbmF0aW9uLmJ1bGxldENsYXNzKSAmJiAoITAgPT09IHRoaXMucGFnaW5hdGlvbi4kZWwuaGFzQ2xhc3ModGhpcy5wYXJhbXMucGFnaW5hdGlvbi5oaWRkZW5DbGFzcykgPyB0aGlzLmVtaXQoInBhZ2luYXRpb25TaG93IiwgdGhpcykgOiB0aGlzLmVtaXQoInBhZ2luYXRpb25IaWRlIiwgdGhpcyksIHRoaXMucGFnaW5hdGlvbi4kZWwudG9nZ2xlQ2xhc3ModGhpcy5wYXJhbXMucGFnaW5hdGlvbi5oaWRkZW5DbGFzcykpOwogICAgICB9CiAgICB9CiAgfSwgewogICAgbmFtZTogInNjcm9sbGJhciIsCiAgICBwYXJhbXM6IHsKICAgICAgc2Nyb2xsYmFyOiB7CiAgICAgICAgZWw6IG51bGwsCiAgICAgICAgZHJhZ1NpemU6ICJhdXRvIiwKICAgICAgICBoaWRlOiAhMSwKICAgICAgICBkcmFnZ2FibGU6ICExLAogICAgICAgIHNuYXBPblJlbGVhc2U6ICEwLAogICAgICAgIGxvY2tDbGFzczogInN3aXBlci1zY3JvbGxiYXItbG9jayIsCiAgICAgICAgZHJhZ0NsYXNzOiAic3dpcGVyLXNjcm9sbGJhci1kcmFnIgogICAgICB9CiAgICB9LAogICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7CiAgICAgIG4uZXh0ZW5kKHRoaXMsIHsKICAgICAgICBzY3JvbGxiYXI6IHsKICAgICAgICAgIGluaXQ6IHJlLmluaXQuYmluZCh0aGlzKSwKICAgICAgICAgIGRlc3Ryb3k6IHJlLmRlc3Ryb3kuYmluZCh0aGlzKSwKICAgICAgICAgIHVwZGF0ZVNpemU6IHJlLnVwZGF0ZVNpemUuYmluZCh0aGlzKSwKICAgICAgICAgIHNldFRyYW5zbGF0ZTogcmUuc2V0VHJhbnNsYXRlLmJpbmQodGhpcyksCiAgICAgICAgICBzZXRUcmFuc2l0aW9uOiByZS5zZXRUcmFuc2l0aW9uLmJpbmQodGhpcyksCiAgICAgICAgICBlbmFibGVEcmFnZ2FibGU6IHJlLmVuYWJsZURyYWdnYWJsZS5iaW5kKHRoaXMpLAogICAgICAgICAgZGlzYWJsZURyYWdnYWJsZTogcmUuZGlzYWJsZURyYWdnYWJsZS5iaW5kKHRoaXMpLAogICAgICAgICAgc2V0RHJhZ1Bvc2l0aW9uOiByZS5zZXREcmFnUG9zaXRpb24uYmluZCh0aGlzKSwKICAgICAgICAgIGdldFBvaW50ZXJQb3NpdGlvbjogcmUuZ2V0UG9pbnRlclBvc2l0aW9uLmJpbmQodGhpcyksCiAgICAgICAgICBvbkRyYWdTdGFydDogcmUub25EcmFnU3RhcnQuYmluZCh0aGlzKSwKICAgICAgICAgIG9uRHJhZ01vdmU6IHJlLm9uRHJhZ01vdmUuYmluZCh0aGlzKSwKICAgICAgICAgIG9uRHJhZ0VuZDogcmUub25EcmFnRW5kLmJpbmQodGhpcyksCiAgICAgICAgICBpc1RvdWNoZWQ6ICExLAogICAgICAgICAgdGltZW91dDogbnVsbCwKICAgICAgICAgIGRyYWdUaW1lb3V0OiBudWxsCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbjogewogICAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICAgIHRoaXMuc2Nyb2xsYmFyLmluaXQoKSwgdGhpcy5zY3JvbGxiYXIudXBkYXRlU2l6ZSgpLCB0aGlzLnNjcm9sbGJhci5zZXRUcmFuc2xhdGUoKTsKICAgICAgfSwKICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7CiAgICAgICAgdGhpcy5zY3JvbGxiYXIudXBkYXRlU2l6ZSgpOwogICAgICB9LAogICAgICByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgICB0aGlzLnNjcm9sbGJhci51cGRhdGVTaXplKCk7CiAgICAgIH0sCiAgICAgIG9ic2VydmVyVXBkYXRlOiBmdW5jdGlvbiBvYnNlcnZlclVwZGF0ZSgpIHsKICAgICAgICB0aGlzLnNjcm9sbGJhci51cGRhdGVTaXplKCk7CiAgICAgIH0sCiAgICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkgewogICAgICAgIHRoaXMuc2Nyb2xsYmFyLnNldFRyYW5zbGF0ZSgpOwogICAgICB9LAogICAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGUpIHsKICAgICAgICB0aGlzLnNjcm9sbGJhci5zZXRUcmFuc2l0aW9uKGUpOwogICAgICB9LAogICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgIHRoaXMuc2Nyb2xsYmFyLmRlc3Ryb3koKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIG5hbWU6ICJwYXJhbGxheCIsCiAgICBwYXJhbXM6IHsKICAgICAgcGFyYWxsYXg6IHsKICAgICAgICBlbmFibGVkOiAhMQogICAgICB9CiAgICB9LAogICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7CiAgICAgIG4uZXh0ZW5kKHRoaXMsIHsKICAgICAgICBwYXJhbGxheDogewogICAgICAgICAgc2V0VHJhbnNmb3JtOiBuZS5zZXRUcmFuc2Zvcm0uYmluZCh0aGlzKSwKICAgICAgICAgIHNldFRyYW5zbGF0ZTogbmUuc2V0VHJhbnNsYXRlLmJpbmQodGhpcyksCiAgICAgICAgICBzZXRUcmFuc2l0aW9uOiBuZS5zZXRUcmFuc2l0aW9uLmJpbmQodGhpcykKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uOiB7CiAgICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uIGJlZm9yZUluaXQoKSB7CiAgICAgICAgdGhpcy5wYXJhbXMucGFyYWxsYXguZW5hYmxlZCAmJiAodGhpcy5wYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyA9ICEwLCB0aGlzLm9yaWdpbmFsUGFyYW1zLndhdGNoU2xpZGVzUHJvZ3Jlc3MgPSAhMCk7CiAgICAgIH0sCiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgICAgdGhpcy5wYXJhbXMucGFyYWxsYXguZW5hYmxlZCAmJiB0aGlzLnBhcmFsbGF4LnNldFRyYW5zbGF0ZSgpOwogICAgICB9LAogICAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZSgpIHsKICAgICAgICB0aGlzLnBhcmFtcy5wYXJhbGxheC5lbmFibGVkICYmIHRoaXMucGFyYWxsYXguc2V0VHJhbnNsYXRlKCk7CiAgICAgIH0sCiAgICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oZSkgewogICAgICAgIHRoaXMucGFyYW1zLnBhcmFsbGF4LmVuYWJsZWQgJiYgdGhpcy5wYXJhbGxheC5zZXRUcmFuc2l0aW9uKGUpOwogICAgICB9CiAgICB9CiAgfSwgewogICAgbmFtZTogInpvb20iLAogICAgcGFyYW1zOiB7CiAgICAgIHpvb206IHsKICAgICAgICBlbmFibGVkOiAhMSwKICAgICAgICBtYXhSYXRpbzogMywKICAgICAgICBtaW5SYXRpbzogMSwKICAgICAgICB0b2dnbGU6ICEwLAogICAgICAgIGNvbnRhaW5lckNsYXNzOiAic3dpcGVyLXpvb20tY29udGFpbmVyIiwKICAgICAgICB6b29tZWRTbGlkZUNsYXNzOiAic3dpcGVyLXNsaWRlLXpvb21lZCIKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICB2YXIgZSA9IHRoaXMsCiAgICAgICAgICB0ID0gewogICAgICAgIGVuYWJsZWQ6ICExLAogICAgICAgIHNjYWxlOiAxLAogICAgICAgIGN1cnJlbnRTY2FsZTogMSwKICAgICAgICBpc1NjYWxpbmc6ICExLAogICAgICAgIGdlc3R1cmU6IHsKICAgICAgICAgICRzbGlkZUVsOiB2b2lkIDAsCiAgICAgICAgICBzbGlkZVdpZHRoOiB2b2lkIDAsCiAgICAgICAgICBzbGlkZUhlaWdodDogdm9pZCAwLAogICAgICAgICAgJGltYWdlRWw6IHZvaWQgMCwKICAgICAgICAgICRpbWFnZVdyYXBFbDogdm9pZCAwLAogICAgICAgICAgbWF4UmF0aW86IDMKICAgICAgICB9LAogICAgICAgIGltYWdlOiB7CiAgICAgICAgICBpc1RvdWNoZWQ6IHZvaWQgMCwKICAgICAgICAgIGlzTW92ZWQ6IHZvaWQgMCwKICAgICAgICAgIGN1cnJlbnRYOiB2b2lkIDAsCiAgICAgICAgICBjdXJyZW50WTogdm9pZCAwLAogICAgICAgICAgbWluWDogdm9pZCAwLAogICAgICAgICAgbWluWTogdm9pZCAwLAogICAgICAgICAgbWF4WDogdm9pZCAwLAogICAgICAgICAgbWF4WTogdm9pZCAwLAogICAgICAgICAgd2lkdGg6IHZvaWQgMCwKICAgICAgICAgIGhlaWdodDogdm9pZCAwLAogICAgICAgICAgc3RhcnRYOiB2b2lkIDAsCiAgICAgICAgICBzdGFydFk6IHZvaWQgMCwKICAgICAgICAgIHRvdWNoZXNTdGFydDoge30sCiAgICAgICAgICB0b3VjaGVzQ3VycmVudDoge30KICAgICAgICB9LAogICAgICAgIHZlbG9jaXR5OiB7CiAgICAgICAgICB4OiB2b2lkIDAsCiAgICAgICAgICB5OiB2b2lkIDAsCiAgICAgICAgICBwcmV2UG9zaXRpb25YOiB2b2lkIDAsCiAgICAgICAgICBwcmV2UG9zaXRpb25ZOiB2b2lkIDAsCiAgICAgICAgICBwcmV2VGltZTogdm9pZCAwCiAgICAgICAgfQogICAgICB9OwogICAgICAib25HZXN0dXJlU3RhcnQgb25HZXN0dXJlQ2hhbmdlIG9uR2VzdHVyZUVuZCBvblRvdWNoU3RhcnQgb25Ub3VjaE1vdmUgb25Ub3VjaEVuZCBvblRyYW5zaXRpb25FbmQgdG9nZ2xlIGVuYWJsZSBkaXNhYmxlIGluIG91dCIuc3BsaXQoIiAiKS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgdFtpXSA9IG9lW2ldLmJpbmQoZSk7CiAgICAgIH0pLCBuLmV4dGVuZChlLCB7CiAgICAgICAgem9vbTogdAogICAgICB9KTsKICAgICAgdmFyIGkgPSAxOwogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS56b29tLCAic2NhbGUiLCB7CiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICByZXR1cm4gaTsKICAgICAgICB9LAogICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHQpIHsKICAgICAgICAgIGlmIChpICE9PSB0KSB7CiAgICAgICAgICAgIHZhciBzID0gZS56b29tLmdlc3R1cmUuJGltYWdlRWwgPyBlLnpvb20uZ2VzdHVyZS4kaW1hZ2VFbFswXSA6IHZvaWQgMCwKICAgICAgICAgICAgICAgIGEgPSBlLnpvb20uZ2VzdHVyZS4kc2xpZGVFbCA/IGUuem9vbS5nZXN0dXJlLiRzbGlkZUVsWzBdIDogdm9pZCAwOwogICAgICAgICAgICBlLmVtaXQoInpvb21DaGFuZ2UiLCB0LCBzLCBhKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpID0gdDsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uOiB7CiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgICAgdGhpcy5wYXJhbXMuem9vbS5lbmFibGVkICYmIHRoaXMuem9vbS5lbmFibGUoKTsKICAgICAgfSwKICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgICB0aGlzLnpvb20uZGlzYWJsZSgpOwogICAgICB9LAogICAgICB0b3VjaFN0YXJ0OiBmdW5jdGlvbiB0b3VjaFN0YXJ0KGUpIHsKICAgICAgICB0aGlzLnpvb20uZW5hYmxlZCAmJiB0aGlzLnpvb20ub25Ub3VjaFN0YXJ0KGUpOwogICAgICB9LAogICAgICB0b3VjaEVuZDogZnVuY3Rpb24gdG91Y2hFbmQoZSkgewogICAgICAgIHRoaXMuem9vbS5lbmFibGVkICYmIHRoaXMuem9vbS5vblRvdWNoRW5kKGUpOwogICAgICB9LAogICAgICBkb3VibGVUYXA6IGZ1bmN0aW9uIGRvdWJsZVRhcChlKSB7CiAgICAgICAgdGhpcy5wYXJhbXMuem9vbS5lbmFibGVkICYmIHRoaXMuem9vbS5lbmFibGVkICYmIHRoaXMucGFyYW1zLnpvb20udG9nZ2xlICYmIHRoaXMuem9vbS50b2dnbGUoZSk7CiAgICAgIH0sCiAgICAgIHRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoKSB7CiAgICAgICAgdGhpcy56b29tLmVuYWJsZWQgJiYgdGhpcy5wYXJhbXMuem9vbS5lbmFibGVkICYmIHRoaXMuem9vbS5vblRyYW5zaXRpb25FbmQoKTsKICAgICAgfSwKICAgICAgc2xpZGVDaGFuZ2U6IGZ1bmN0aW9uIHNsaWRlQ2hhbmdlKCkgewogICAgICAgIHRoaXMuem9vbS5lbmFibGVkICYmIHRoaXMucGFyYW1zLnpvb20uZW5hYmxlZCAmJiB0aGlzLnBhcmFtcy5jc3NNb2RlICYmIHRoaXMuem9vbS5vblRyYW5zaXRpb25FbmQoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIG5hbWU6ICJsYXp5IiwKICAgIHBhcmFtczogewogICAgICBsYXp5OiB7CiAgICAgICAgZW5hYmxlZDogITEsCiAgICAgICAgbG9hZFByZXZOZXh0OiAhMSwKICAgICAgICBsb2FkUHJldk5leHRBbW91bnQ6IDEsCiAgICAgICAgbG9hZE9uVHJhbnNpdGlvblN0YXJ0OiAhMSwKICAgICAgICBlbGVtZW50Q2xhc3M6ICJzd2lwZXItbGF6eSIsCiAgICAgICAgbG9hZGluZ0NsYXNzOiAic3dpcGVyLWxhenktbG9hZGluZyIsCiAgICAgICAgbG9hZGVkQ2xhc3M6ICJzd2lwZXItbGF6eS1sb2FkZWQiLAogICAgICAgIHByZWxvYWRlckNsYXNzOiAic3dpcGVyLWxhenktcHJlbG9hZGVyIgogICAgICB9CiAgICB9LAogICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7CiAgICAgIG4uZXh0ZW5kKHRoaXMsIHsKICAgICAgICBsYXp5OiB7CiAgICAgICAgICBpbml0aWFsSW1hZ2VMb2FkZWQ6ICExLAogICAgICAgICAgbG9hZDogbGUubG9hZC5iaW5kKHRoaXMpLAogICAgICAgICAgbG9hZEluU2xpZGU6IGxlLmxvYWRJblNsaWRlLmJpbmQodGhpcykKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uOiB7CiAgICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uIGJlZm9yZUluaXQoKSB7CiAgICAgICAgdGhpcy5wYXJhbXMubGF6eS5lbmFibGVkICYmIHRoaXMucGFyYW1zLnByZWxvYWRJbWFnZXMgJiYgKHRoaXMucGFyYW1zLnByZWxvYWRJbWFnZXMgPSAhMSk7CiAgICAgIH0sCiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgICAgdGhpcy5wYXJhbXMubGF6eS5lbmFibGVkICYmICF0aGlzLnBhcmFtcy5sb29wICYmIDAgPT09IHRoaXMucGFyYW1zLmluaXRpYWxTbGlkZSAmJiB0aGlzLmxhenkubG9hZCgpOwogICAgICB9LAogICAgICBzY3JvbGw6IGZ1bmN0aW9uIHNjcm9sbCgpIHsKICAgICAgICB0aGlzLnBhcmFtcy5mcmVlTW9kZSAmJiAhdGhpcy5wYXJhbXMuZnJlZU1vZGVTdGlja3kgJiYgdGhpcy5sYXp5LmxvYWQoKTsKICAgICAgfSwKICAgICAgcmVzaXplOiBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgICAgdGhpcy5wYXJhbXMubGF6eS5lbmFibGVkICYmIHRoaXMubGF6eS5sb2FkKCk7CiAgICAgIH0sCiAgICAgIHNjcm9sbGJhckRyYWdNb3ZlOiBmdW5jdGlvbiBzY3JvbGxiYXJEcmFnTW92ZSgpIHsKICAgICAgICB0aGlzLnBhcmFtcy5sYXp5LmVuYWJsZWQgJiYgdGhpcy5sYXp5LmxvYWQoKTsKICAgICAgfSwKICAgICAgdHJhbnNpdGlvblN0YXJ0OiBmdW5jdGlvbiB0cmFuc2l0aW9uU3RhcnQoKSB7CiAgICAgICAgdGhpcy5wYXJhbXMubGF6eS5lbmFibGVkICYmICh0aGlzLnBhcmFtcy5sYXp5LmxvYWRPblRyYW5zaXRpb25TdGFydCB8fCAhdGhpcy5wYXJhbXMubGF6eS5sb2FkT25UcmFuc2l0aW9uU3RhcnQgJiYgIXRoaXMubGF6eS5pbml0aWFsSW1hZ2VMb2FkZWQpICYmIHRoaXMubGF6eS5sb2FkKCk7CiAgICAgIH0sCiAgICAgIHRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoKSB7CiAgICAgICAgdGhpcy5wYXJhbXMubGF6eS5lbmFibGVkICYmICF0aGlzLnBhcmFtcy5sYXp5LmxvYWRPblRyYW5zaXRpb25TdGFydCAmJiB0aGlzLmxhenkubG9hZCgpOwogICAgICB9LAogICAgICBzbGlkZUNoYW5nZTogZnVuY3Rpb24gc2xpZGVDaGFuZ2UoKSB7CiAgICAgICAgdGhpcy5wYXJhbXMubGF6eS5lbmFibGVkICYmIHRoaXMucGFyYW1zLmNzc01vZGUgJiYgdGhpcy5sYXp5LmxvYWQoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIG5hbWU6ICJjb250cm9sbGVyIiwKICAgIHBhcmFtczogewogICAgICBjb250cm9sbGVyOiB7CiAgICAgICAgY29udHJvbDogdm9pZCAwLAogICAgICAgIGludmVyc2U6ICExLAogICAgICAgIGJ5OiAic2xpZGUiCiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHsKICAgICAgbi5leHRlbmQodGhpcywgewogICAgICAgIGNvbnRyb2xsZXI6IHsKICAgICAgICAgIGNvbnRyb2w6IHRoaXMucGFyYW1zLmNvbnRyb2xsZXIuY29udHJvbCwKICAgICAgICAgIGdldEludGVycG9sYXRlRnVuY3Rpb246IGRlLmdldEludGVycG9sYXRlRnVuY3Rpb24uYmluZCh0aGlzKSwKICAgICAgICAgIHNldFRyYW5zbGF0ZTogZGUuc2V0VHJhbnNsYXRlLmJpbmQodGhpcyksCiAgICAgICAgICBzZXRUcmFuc2l0aW9uOiBkZS5zZXRUcmFuc2l0aW9uLmJpbmQodGhpcykKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uOiB7CiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICAgIHRoaXMuY29udHJvbGxlci5jb250cm9sICYmIHRoaXMuY29udHJvbGxlci5zcGxpbmUgJiYgKHRoaXMuY29udHJvbGxlci5zcGxpbmUgPSB2b2lkIDAsIGRlbGV0ZSB0aGlzLmNvbnRyb2xsZXIuc3BsaW5lKTsKICAgICAgfSwKICAgICAgcmVzaXplOiBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgICAgdGhpcy5jb250cm9sbGVyLmNvbnRyb2wgJiYgdGhpcy5jb250cm9sbGVyLnNwbGluZSAmJiAodGhpcy5jb250cm9sbGVyLnNwbGluZSA9IHZvaWQgMCwgZGVsZXRlIHRoaXMuY29udHJvbGxlci5zcGxpbmUpOwogICAgICB9LAogICAgICBvYnNlcnZlclVwZGF0ZTogZnVuY3Rpb24gb2JzZXJ2ZXJVcGRhdGUoKSB7CiAgICAgICAgdGhpcy5jb250cm9sbGVyLmNvbnRyb2wgJiYgdGhpcy5jb250cm9sbGVyLnNwbGluZSAmJiAodGhpcy5jb250cm9sbGVyLnNwbGluZSA9IHZvaWQgMCwgZGVsZXRlIHRoaXMuY29udHJvbGxlci5zcGxpbmUpOwogICAgICB9LAogICAgICBzZXRUcmFuc2xhdGU6IGZ1bmN0aW9uIHNldFRyYW5zbGF0ZShlLCB0KSB7CiAgICAgICAgdGhpcy5jb250cm9sbGVyLmNvbnRyb2wgJiYgdGhpcy5jb250cm9sbGVyLnNldFRyYW5zbGF0ZShlLCB0KTsKICAgICAgfSwKICAgICAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihlLCB0KSB7CiAgICAgICAgdGhpcy5jb250cm9sbGVyLmNvbnRyb2wgJiYgdGhpcy5jb250cm9sbGVyLnNldFRyYW5zaXRpb24oZSwgdCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBuYW1lOiAiYTExeSIsCiAgICBwYXJhbXM6IHsKICAgICAgYTExeTogewogICAgICAgIGVuYWJsZWQ6ICEwLAogICAgICAgIG5vdGlmaWNhdGlvbkNsYXNzOiAic3dpcGVyLW5vdGlmaWNhdGlvbiIsCiAgICAgICAgcHJldlNsaWRlTWVzc2FnZTogIlByZXZpb3VzIHNsaWRlIiwKICAgICAgICBuZXh0U2xpZGVNZXNzYWdlOiAiTmV4dCBzbGlkZSIsCiAgICAgICAgZmlyc3RTbGlkZU1lc3NhZ2U6ICJUaGlzIGlzIHRoZSBmaXJzdCBzbGlkZSIsCiAgICAgICAgbGFzdFNsaWRlTWVzc2FnZTogIlRoaXMgaXMgdGhlIGxhc3Qgc2xpZGUiLAogICAgICAgIHBhZ2luYXRpb25CdWxsZXRNZXNzYWdlOiAiR28gdG8gc2xpZGUge3tpbmRleH19IgogICAgICB9CiAgICB9LAogICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7CiAgICAgIHZhciBlID0gdGhpczsKICAgICAgbi5leHRlbmQoZSwgewogICAgICAgIGExMXk6IHsKICAgICAgICAgIGxpdmVSZWdpb246IHMoJzxzcGFuIGNsYXNzPSInICsgZS5wYXJhbXMuYTExeS5ub3RpZmljYXRpb25DbGFzcyArICciIGFyaWEtbGl2ZT0iYXNzZXJ0aXZlIiBhcmlhLWF0b21pYz0idHJ1ZSI+PC9zcGFuPicpCiAgICAgICAgfQogICAgICB9KSwgT2JqZWN0LmtleXMoaGUpLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgICBlLmExMXlbdF0gPSBoZVt0XS5iaW5kKGUpOwogICAgICB9KTsKICAgIH0sCiAgICBvbjogewogICAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICAgIHRoaXMucGFyYW1zLmExMXkuZW5hYmxlZCAmJiAodGhpcy5hMTF5LmluaXQoKSwgdGhpcy5hMTF5LnVwZGF0ZU5hdmlnYXRpb24oKSk7CiAgICAgIH0sCiAgICAgIHRvRWRnZTogZnVuY3Rpb24gdG9FZGdlKCkgewogICAgICAgIHRoaXMucGFyYW1zLmExMXkuZW5hYmxlZCAmJiB0aGlzLmExMXkudXBkYXRlTmF2aWdhdGlvbigpOwogICAgICB9LAogICAgICBmcm9tRWRnZTogZnVuY3Rpb24gZnJvbUVkZ2UoKSB7CiAgICAgICAgdGhpcy5wYXJhbXMuYTExeS5lbmFibGVkICYmIHRoaXMuYTExeS51cGRhdGVOYXZpZ2F0aW9uKCk7CiAgICAgIH0sCiAgICAgIHBhZ2luYXRpb25VcGRhdGU6IGZ1bmN0aW9uIHBhZ2luYXRpb25VcGRhdGUoKSB7CiAgICAgICAgdGhpcy5wYXJhbXMuYTExeS5lbmFibGVkICYmIHRoaXMuYTExeS51cGRhdGVQYWdpbmF0aW9uKCk7CiAgICAgIH0sCiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgICAgdGhpcy5wYXJhbXMuYTExeS5lbmFibGVkICYmIHRoaXMuYTExeS5kZXN0cm95KCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBuYW1lOiAiaGlzdG9yeSIsCiAgICBwYXJhbXM6IHsKICAgICAgaGlzdG9yeTogewogICAgICAgIGVuYWJsZWQ6ICExLAogICAgICAgIHJlcGxhY2VTdGF0ZTogITEsCiAgICAgICAga2V5OiAic2xpZGVzIgogICAgICB9CiAgICB9LAogICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7CiAgICAgIG4uZXh0ZW5kKHRoaXMsIHsKICAgICAgICBoaXN0b3J5OiB7CiAgICAgICAgICBpbml0OiBwZS5pbml0LmJpbmQodGhpcyksCiAgICAgICAgICBzZXRIaXN0b3J5OiBwZS5zZXRIaXN0b3J5LmJpbmQodGhpcyksCiAgICAgICAgICBzZXRIaXN0b3J5UG9wU3RhdGU6IHBlLnNldEhpc3RvcnlQb3BTdGF0ZS5iaW5kKHRoaXMpLAogICAgICAgICAgc2Nyb2xsVG9TbGlkZTogcGUuc2Nyb2xsVG9TbGlkZS5iaW5kKHRoaXMpLAogICAgICAgICAgZGVzdHJveTogcGUuZGVzdHJveS5iaW5kKHRoaXMpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbjogewogICAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICAgIHRoaXMucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCAmJiB0aGlzLmhpc3RvcnkuaW5pdCgpOwogICAgICB9LAogICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgIHRoaXMucGFyYW1zLmhpc3RvcnkuZW5hYmxlZCAmJiB0aGlzLmhpc3RvcnkuZGVzdHJveSgpOwogICAgICB9LAogICAgICB0cmFuc2l0aW9uRW5kOiBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKCkgewogICAgICAgIHRoaXMuaGlzdG9yeS5pbml0aWFsaXplZCAmJiB0aGlzLmhpc3Rvcnkuc2V0SGlzdG9yeSh0aGlzLnBhcmFtcy5oaXN0b3J5LmtleSwgdGhpcy5hY3RpdmVJbmRleCk7CiAgICAgIH0sCiAgICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNoYW5nZSgpIHsKICAgICAgICB0aGlzLmhpc3RvcnkuaW5pdGlhbGl6ZWQgJiYgdGhpcy5wYXJhbXMuY3NzTW9kZSAmJiB0aGlzLmhpc3Rvcnkuc2V0SGlzdG9yeSh0aGlzLnBhcmFtcy5oaXN0b3J5LmtleSwgdGhpcy5hY3RpdmVJbmRleCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBuYW1lOiAiaGFzaC1uYXZpZ2F0aW9uIiwKICAgIHBhcmFtczogewogICAgICBoYXNoTmF2aWdhdGlvbjogewogICAgICAgIGVuYWJsZWQ6ICExLAogICAgICAgIHJlcGxhY2VTdGF0ZTogITEsCiAgICAgICAgd2F0Y2hTdGF0ZTogITEKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICBuLmV4dGVuZCh0aGlzLCB7CiAgICAgICAgaGFzaE5hdmlnYXRpb246IHsKICAgICAgICAgIGluaXRpYWxpemVkOiAhMSwKICAgICAgICAgIGluaXQ6IGNlLmluaXQuYmluZCh0aGlzKSwKICAgICAgICAgIGRlc3Ryb3k6IGNlLmRlc3Ryb3kuYmluZCh0aGlzKSwKICAgICAgICAgIHNldEhhc2g6IGNlLnNldEhhc2guYmluZCh0aGlzKSwKICAgICAgICAgIG9uSGFzaENhbmdlOiBjZS5vbkhhc2hDYW5nZS5iaW5kKHRoaXMpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbjogewogICAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICAgIHRoaXMucGFyYW1zLmhhc2hOYXZpZ2F0aW9uLmVuYWJsZWQgJiYgdGhpcy5oYXNoTmF2aWdhdGlvbi5pbml0KCk7CiAgICAgIH0sCiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgICAgdGhpcy5wYXJhbXMuaGFzaE5hdmlnYXRpb24uZW5hYmxlZCAmJiB0aGlzLmhhc2hOYXZpZ2F0aW9uLmRlc3Ryb3koKTsKICAgICAgfSwKICAgICAgdHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gdHJhbnNpdGlvbkVuZCgpIHsKICAgICAgICB0aGlzLmhhc2hOYXZpZ2F0aW9uLmluaXRpYWxpemVkICYmIHRoaXMuaGFzaE5hdmlnYXRpb24uc2V0SGFzaCgpOwogICAgICB9LAogICAgICBzbGlkZUNoYW5nZTogZnVuY3Rpb24gc2xpZGVDaGFuZ2UoKSB7CiAgICAgICAgdGhpcy5oYXNoTmF2aWdhdGlvbi5pbml0aWFsaXplZCAmJiB0aGlzLnBhcmFtcy5jc3NNb2RlICYmIHRoaXMuaGFzaE5hdmlnYXRpb24uc2V0SGFzaCgpOwogICAgICB9CiAgICB9CiAgfSwgewogICAgbmFtZTogImF1dG9wbGF5IiwKICAgIHBhcmFtczogewogICAgICBhdXRvcGxheTogewogICAgICAgIGVuYWJsZWQ6ICExLAogICAgICAgIGRlbGF5OiAzZTMsCiAgICAgICAgd2FpdEZvclRyYW5zaXRpb246ICEwLAogICAgICAgIGRpc2FibGVPbkludGVyYWN0aW9uOiAhMCwKICAgICAgICBzdG9wT25MYXN0U2xpZGU6ICExLAogICAgICAgIHJldmVyc2VEaXJlY3Rpb246ICExCiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHsKICAgICAgdmFyIGUgPSB0aGlzOwogICAgICBuLmV4dGVuZChlLCB7CiAgICAgICAgYXV0b3BsYXk6IHsKICAgICAgICAgIHJ1bm5pbmc6ICExLAogICAgICAgICAgcGF1c2VkOiAhMSwKICAgICAgICAgIHJ1bjogdWUucnVuLmJpbmQoZSksCiAgICAgICAgICBzdGFydDogdWUuc3RhcnQuYmluZChlKSwKICAgICAgICAgIHN0b3A6IHVlLnN0b3AuYmluZChlKSwKICAgICAgICAgIHBhdXNlOiB1ZS5wYXVzZS5iaW5kKGUpLAogICAgICAgICAgb25WaXNpYmlsaXR5Q2hhbmdlOiBmdW5jdGlvbiBvblZpc2liaWxpdHlDaGFuZ2UoKSB7CiAgICAgICAgICAgICJoaWRkZW4iID09PSBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgJiYgZS5hdXRvcGxheS5ydW5uaW5nICYmIGUuYXV0b3BsYXkucGF1c2UoKSwgInZpc2libGUiID09PSBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgJiYgZS5hdXRvcGxheS5wYXVzZWQgJiYgKGUuYXV0b3BsYXkucnVuKCksIGUuYXV0b3BsYXkucGF1c2VkID0gITEpOwogICAgICAgICAgfSwKICAgICAgICAgIG9uVHJhbnNpdGlvbkVuZDogZnVuY3Rpb24gb25UcmFuc2l0aW9uRW5kKHQpIHsKICAgICAgICAgICAgZSAmJiAhZS5kZXN0cm95ZWQgJiYgZS4kd3JhcHBlckVsICYmIHQudGFyZ2V0ID09PSB0aGlzICYmIChlLiR3cmFwcGVyRWxbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcigidHJhbnNpdGlvbmVuZCIsIGUuYXV0b3BsYXkub25UcmFuc2l0aW9uRW5kKSwgZS4kd3JhcHBlckVsWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmtpdFRyYW5zaXRpb25FbmQiLCBlLmF1dG9wbGF5Lm9uVHJhbnNpdGlvbkVuZCksIGUuYXV0b3BsYXkucGF1c2VkID0gITEsIGUuYXV0b3BsYXkucnVubmluZyA/IGUuYXV0b3BsYXkucnVuKCkgOiBlLmF1dG9wbGF5LnN0b3AoKSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbjogewogICAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICAgIHRoaXMucGFyYW1zLmF1dG9wbGF5LmVuYWJsZWQgJiYgKHRoaXMuYXV0b3BsYXkuc3RhcnQoKSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigidmlzaWJpbGl0eWNoYW5nZSIsIHRoaXMuYXV0b3BsYXkub25WaXNpYmlsaXR5Q2hhbmdlKSk7CiAgICAgIH0sCiAgICAgIGJlZm9yZVRyYW5zaXRpb25TdGFydDogZnVuY3Rpb24gYmVmb3JlVHJhbnNpdGlvblN0YXJ0KGUsIHQpIHsKICAgICAgICB0aGlzLmF1dG9wbGF5LnJ1bm5pbmcgJiYgKHQgfHwgIXRoaXMucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uID8gdGhpcy5hdXRvcGxheS5wYXVzZShlKSA6IHRoaXMuYXV0b3BsYXkuc3RvcCgpKTsKICAgICAgfSwKICAgICAgc2xpZGVyRmlyc3RNb3ZlOiBmdW5jdGlvbiBzbGlkZXJGaXJzdE1vdmUoKSB7CiAgICAgICAgdGhpcy5hdXRvcGxheS5ydW5uaW5nICYmICh0aGlzLnBhcmFtcy5hdXRvcGxheS5kaXNhYmxlT25JbnRlcmFjdGlvbiA/IHRoaXMuYXV0b3BsYXkuc3RvcCgpIDogdGhpcy5hdXRvcGxheS5wYXVzZSgpKTsKICAgICAgfSwKICAgICAgdG91Y2hFbmQ6IGZ1bmN0aW9uIHRvdWNoRW5kKCkgewogICAgICAgIHRoaXMucGFyYW1zLmNzc01vZGUgJiYgdGhpcy5hdXRvcGxheS5wYXVzZWQgJiYgIXRoaXMucGFyYW1zLmF1dG9wbGF5LmRpc2FibGVPbkludGVyYWN0aW9uICYmIHRoaXMuYXV0b3BsYXkucnVuKCk7CiAgICAgIH0sCiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgICAgdGhpcy5hdXRvcGxheS5ydW5uaW5nICYmIHRoaXMuYXV0b3BsYXkuc3RvcCgpLCBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ2aXNpYmlsaXR5Y2hhbmdlIiwgdGhpcy5hdXRvcGxheS5vblZpc2liaWxpdHlDaGFuZ2UpOwogICAgICB9CiAgICB9CiAgfSwgewogICAgbmFtZTogImVmZmVjdC1mYWRlIiwKICAgIHBhcmFtczogewogICAgICBmYWRlRWZmZWN0OiB7CiAgICAgICAgY3Jvc3NGYWRlOiAhMQogICAgICB9CiAgICB9LAogICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7CiAgICAgIG4uZXh0ZW5kKHRoaXMsIHsKICAgICAgICBmYWRlRWZmZWN0OiB7CiAgICAgICAgICBzZXRUcmFuc2xhdGU6IHZlLnNldFRyYW5zbGF0ZS5iaW5kKHRoaXMpLAogICAgICAgICAgc2V0VHJhbnNpdGlvbjogdmUuc2V0VHJhbnNpdGlvbi5iaW5kKHRoaXMpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbjogewogICAgICBiZWZvcmVJbml0OiBmdW5jdGlvbiBiZWZvcmVJbml0KCkgewogICAgICAgIGlmICgiZmFkZSIgPT09IHRoaXMucGFyYW1zLmVmZmVjdCkgewogICAgICAgICAgdGhpcy5jbGFzc05hbWVzLnB1c2godGhpcy5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArICJmYWRlIik7CiAgICAgICAgICB2YXIgZSA9IHsKICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMSwKICAgICAgICAgICAgc2xpZGVzUGVyQ29sdW1uOiAxLAogICAgICAgICAgICBzbGlkZXNQZXJHcm91cDogMSwKICAgICAgICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogITAsCiAgICAgICAgICAgIHNwYWNlQmV0d2VlbjogMCwKICAgICAgICAgICAgdmlydHVhbFRyYW5zbGF0ZTogITAKICAgICAgICAgIH07CiAgICAgICAgICBuLmV4dGVuZCh0aGlzLnBhcmFtcywgZSksIG4uZXh0ZW5kKHRoaXMub3JpZ2luYWxQYXJhbXMsIGUpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7CiAgICAgICAgImZhZGUiID09PSB0aGlzLnBhcmFtcy5lZmZlY3QgJiYgdGhpcy5mYWRlRWZmZWN0LnNldFRyYW5zbGF0ZSgpOwogICAgICB9LAogICAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGUpIHsKICAgICAgICAiZmFkZSIgPT09IHRoaXMucGFyYW1zLmVmZmVjdCAmJiB0aGlzLmZhZGVFZmZlY3Quc2V0VHJhbnNpdGlvbihlKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIG5hbWU6ICJlZmZlY3QtY3ViZSIsCiAgICBwYXJhbXM6IHsKICAgICAgY3ViZUVmZmVjdDogewogICAgICAgIHNsaWRlU2hhZG93czogITAsCiAgICAgICAgc2hhZG93OiAhMCwKICAgICAgICBzaGFkb3dPZmZzZXQ6IDIwLAogICAgICAgIHNoYWRvd1NjYWxlOiAuOTQKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICBuLmV4dGVuZCh0aGlzLCB7CiAgICAgICAgY3ViZUVmZmVjdDogewogICAgICAgICAgc2V0VHJhbnNsYXRlOiBmZS5zZXRUcmFuc2xhdGUuYmluZCh0aGlzKSwKICAgICAgICAgIHNldFRyYW5zaXRpb246IGZlLnNldFRyYW5zaXRpb24uYmluZCh0aGlzKQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb246IHsKICAgICAgYmVmb3JlSW5pdDogZnVuY3Rpb24gYmVmb3JlSW5pdCgpIHsKICAgICAgICBpZiAoImN1YmUiID09PSB0aGlzLnBhcmFtcy5lZmZlY3QpIHsKICAgICAgICAgIHRoaXMuY2xhc3NOYW1lcy5wdXNoKHRoaXMucGFyYW1zLmNvbnRhaW5lck1vZGlmaWVyQ2xhc3MgKyAiY3ViZSIpLCB0aGlzLmNsYXNzTmFtZXMucHVzaCh0aGlzLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgIjNkIik7CiAgICAgICAgICB2YXIgZSA9IHsKICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMSwKICAgICAgICAgICAgc2xpZGVzUGVyQ29sdW1uOiAxLAogICAgICAgICAgICBzbGlkZXNQZXJHcm91cDogMSwKICAgICAgICAgICAgd2F0Y2hTbGlkZXNQcm9ncmVzczogITAsCiAgICAgICAgICAgIHJlc2lzdGFuY2VSYXRpbzogMCwKICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAwLAogICAgICAgICAgICBjZW50ZXJlZFNsaWRlczogITEsCiAgICAgICAgICAgIHZpcnR1YWxUcmFuc2xhdGU6ICEwCiAgICAgICAgICB9OwogICAgICAgICAgbi5leHRlbmQodGhpcy5wYXJhbXMsIGUpLCBuLmV4dGVuZCh0aGlzLm9yaWdpbmFsUGFyYW1zLCBlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkgewogICAgICAgICJjdWJlIiA9PT0gdGhpcy5wYXJhbXMuZWZmZWN0ICYmIHRoaXMuY3ViZUVmZmVjdC5zZXRUcmFuc2xhdGUoKTsKICAgICAgfSwKICAgICAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihlKSB7CiAgICAgICAgImN1YmUiID09PSB0aGlzLnBhcmFtcy5lZmZlY3QgJiYgdGhpcy5jdWJlRWZmZWN0LnNldFRyYW5zaXRpb24oZSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBuYW1lOiAiZWZmZWN0LWZsaXAiLAogICAgcGFyYW1zOiB7CiAgICAgIGZsaXBFZmZlY3Q6IHsKICAgICAgICBzbGlkZVNoYWRvd3M6ICEwLAogICAgICAgIGxpbWl0Um90YXRpb246ICEwCiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHsKICAgICAgbi5leHRlbmQodGhpcywgewogICAgICAgIGZsaXBFZmZlY3Q6IHsKICAgICAgICAgIHNldFRyYW5zbGF0ZTogbWUuc2V0VHJhbnNsYXRlLmJpbmQodGhpcyksCiAgICAgICAgICBzZXRUcmFuc2l0aW9uOiBtZS5zZXRUcmFuc2l0aW9uLmJpbmQodGhpcykKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uOiB7CiAgICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uIGJlZm9yZUluaXQoKSB7CiAgICAgICAgaWYgKCJmbGlwIiA9PT0gdGhpcy5wYXJhbXMuZWZmZWN0KSB7CiAgICAgICAgICB0aGlzLmNsYXNzTmFtZXMucHVzaCh0aGlzLnBhcmFtcy5jb250YWluZXJNb2RpZmllckNsYXNzICsgImZsaXAiKSwgdGhpcy5jbGFzc05hbWVzLnB1c2godGhpcy5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArICIzZCIpOwogICAgICAgICAgdmFyIGUgPSB7CiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsCiAgICAgICAgICAgIHNsaWRlc1BlckNvbHVtbjogMSwKICAgICAgICAgICAgc2xpZGVzUGVyR3JvdXA6IDEsCiAgICAgICAgICAgIHdhdGNoU2xpZGVzUHJvZ3Jlc3M6ICEwLAogICAgICAgICAgICBzcGFjZUJldHdlZW46IDAsCiAgICAgICAgICAgIHZpcnR1YWxUcmFuc2xhdGU6ICEwCiAgICAgICAgICB9OwogICAgICAgICAgbi5leHRlbmQodGhpcy5wYXJhbXMsIGUpLCBuLmV4dGVuZCh0aGlzLm9yaWdpbmFsUGFyYW1zLCBlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHNldFRyYW5zbGF0ZTogZnVuY3Rpb24gc2V0VHJhbnNsYXRlKCkgewogICAgICAgICJmbGlwIiA9PT0gdGhpcy5wYXJhbXMuZWZmZWN0ICYmIHRoaXMuZmxpcEVmZmVjdC5zZXRUcmFuc2xhdGUoKTsKICAgICAgfSwKICAgICAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihlKSB7CiAgICAgICAgImZsaXAiID09PSB0aGlzLnBhcmFtcy5lZmZlY3QgJiYgdGhpcy5mbGlwRWZmZWN0LnNldFRyYW5zaXRpb24oZSk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBuYW1lOiAiZWZmZWN0LWNvdmVyZmxvdyIsCiAgICBwYXJhbXM6IHsKICAgICAgY292ZXJmbG93RWZmZWN0OiB7CiAgICAgICAgcm90YXRlOiA1MCwKICAgICAgICBzdHJldGNoOiAwLAogICAgICAgIGRlcHRoOiAxMDAsCiAgICAgICAgbW9kaWZpZXI6IDEsCiAgICAgICAgc2xpZGVTaGFkb3dzOiAhMAogICAgICB9CiAgICB9LAogICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7CiAgICAgIG4uZXh0ZW5kKHRoaXMsIHsKICAgICAgICBjb3ZlcmZsb3dFZmZlY3Q6IHsKICAgICAgICAgIHNldFRyYW5zbGF0ZTogZ2Uuc2V0VHJhbnNsYXRlLmJpbmQodGhpcyksCiAgICAgICAgICBzZXRUcmFuc2l0aW9uOiBnZS5zZXRUcmFuc2l0aW9uLmJpbmQodGhpcykKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uOiB7CiAgICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uIGJlZm9yZUluaXQoKSB7CiAgICAgICAgImNvdmVyZmxvdyIgPT09IHRoaXMucGFyYW1zLmVmZmVjdCAmJiAodGhpcy5jbGFzc05hbWVzLnB1c2godGhpcy5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArICJjb3ZlcmZsb3ciKSwgdGhpcy5jbGFzc05hbWVzLnB1c2godGhpcy5wYXJhbXMuY29udGFpbmVyTW9kaWZpZXJDbGFzcyArICIzZCIpLCB0aGlzLnBhcmFtcy53YXRjaFNsaWRlc1Byb2dyZXNzID0gITAsIHRoaXMub3JpZ2luYWxQYXJhbXMud2F0Y2hTbGlkZXNQcm9ncmVzcyA9ICEwKTsKICAgICAgfSwKICAgICAgc2V0VHJhbnNsYXRlOiBmdW5jdGlvbiBzZXRUcmFuc2xhdGUoKSB7CiAgICAgICAgImNvdmVyZmxvdyIgPT09IHRoaXMucGFyYW1zLmVmZmVjdCAmJiB0aGlzLmNvdmVyZmxvd0VmZmVjdC5zZXRUcmFuc2xhdGUoKTsKICAgICAgfSwKICAgICAgc2V0VHJhbnNpdGlvbjogZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihlKSB7CiAgICAgICAgImNvdmVyZmxvdyIgPT09IHRoaXMucGFyYW1zLmVmZmVjdCAmJiB0aGlzLmNvdmVyZmxvd0VmZmVjdC5zZXRUcmFuc2l0aW9uKGUpOwogICAgICB9CiAgICB9CiAgfSwgewogICAgbmFtZTogInRodW1icyIsCiAgICBwYXJhbXM6IHsKICAgICAgdGh1bWJzOiB7CiAgICAgICAgbXVsdGlwbGVBY3RpdmVUaHVtYnM6ICEwLAogICAgICAgIHN3aXBlcjogbnVsbCwKICAgICAgICBzbGlkZVRodW1iQWN0aXZlQ2xhc3M6ICJzd2lwZXItc2xpZGUtdGh1bWItYWN0aXZlIiwKICAgICAgICB0aHVtYnNDb250YWluZXJDbGFzczogInN3aXBlci1jb250YWluZXItdGh1bWJzIgogICAgICB9CiAgICB9LAogICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7CiAgICAgIG4uZXh0ZW5kKHRoaXMsIHsKICAgICAgICB0aHVtYnM6IHsKICAgICAgICAgIHN3aXBlcjogbnVsbCwKICAgICAgICAgIGluaXQ6IGJlLmluaXQuYmluZCh0aGlzKSwKICAgICAgICAgIHVwZGF0ZTogYmUudXBkYXRlLmJpbmQodGhpcyksCiAgICAgICAgICBvblRodW1iQ2xpY2s6IGJlLm9uVGh1bWJDbGljay5iaW5kKHRoaXMpCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBvbjogewogICAgICBiZWZvcmVJbml0OiBmdW5jdGlvbiBiZWZvcmVJbml0KCkgewogICAgICAgIHZhciBlID0gdGhpcy5wYXJhbXMudGh1bWJzOwogICAgICAgIGUgJiYgZS5zd2lwZXIgJiYgKHRoaXMudGh1bWJzLmluaXQoKSwgdGhpcy50aHVtYnMudXBkYXRlKCEwKSk7CiAgICAgIH0sCiAgICAgIHNsaWRlQ2hhbmdlOiBmdW5jdGlvbiBzbGlkZUNoYW5nZSgpIHsKICAgICAgICB0aGlzLnRodW1icy5zd2lwZXIgJiYgdGhpcy50aHVtYnMudXBkYXRlKCk7CiAgICAgIH0sCiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkgewogICAgICAgIHRoaXMudGh1bWJzLnN3aXBlciAmJiB0aGlzLnRodW1icy51cGRhdGUoKTsKICAgICAgfSwKICAgICAgcmVzaXplOiBmdW5jdGlvbiByZXNpemUoKSB7CiAgICAgICAgdGhpcy50aHVtYnMuc3dpcGVyICYmIHRoaXMudGh1bWJzLnVwZGF0ZSgpOwogICAgICB9LAogICAgICBvYnNlcnZlclVwZGF0ZTogZnVuY3Rpb24gb2JzZXJ2ZXJVcGRhdGUoKSB7CiAgICAgICAgdGhpcy50aHVtYnMuc3dpcGVyICYmIHRoaXMudGh1bWJzLnVwZGF0ZSgpOwogICAgICB9LAogICAgICBzZXRUcmFuc2l0aW9uOiBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKGUpIHsKICAgICAgICB2YXIgdCA9IHRoaXMudGh1bWJzLnN3aXBlcjsKICAgICAgICB0ICYmIHQuc2V0VHJhbnNpdGlvbihlKTsKICAgICAgfSwKICAgICAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgICAgICB2YXIgZSA9IHRoaXMudGh1bWJzLnN3aXBlcjsKICAgICAgICBlICYmIHRoaXMudGh1bWJzLnN3aXBlckNyZWF0ZWQgJiYgZSAmJiBlLmRlc3Ryb3koKTsKICAgICAgfQogICAgfQogIH1dOwogIHJldHVybiB2b2lkIDAgPT09IFcudXNlICYmIChXLnVzZSA9IFcuQ2xhc3MudXNlLCBXLmluc3RhbGxNb2R1bGUgPSBXLkNsYXNzLmluc3RhbGxNb2R1bGUpLCBXLnVzZSh3ZSksIFc7Cn0pOyAvLyDlr7zlh7pzd2lwZXLmj5Lku7bkuJPnlKjnmoRqc+S7o+egge+8jOeUqOS6juWcqOe7hOS7tuS4reaOpeaUtg=="},{"version":3,"sources":["/Users/yangjun/Documents/Projects/LearnVuejs/supermall/static/swiper.min.js"],"names":["e","t","exports","module","define","amd","self","Swiper","document","body","addEventListener","removeEventListener","activeElement","blur","nodeName","querySelector","querySelectorAll","getElementById","createEvent","initEvent","createElement","children","childNodes","style","setAttribute","getElementsByTagName","location","hash","window","navigator","userAgent","history","CustomEvent","getComputedStyle","getPropertyValue","Image","Date","screen","setTimeout","clearTimeout","i","length","s","a","r","n","o","l","d","trim","indexOf","h","innerHTML","push","match","split","nodeType","fn","prototype","Class","Dom7","addClass","classList","add","removeClass","remove","hasClass","contains","toggleClass","toggle","attr","arguments","getAttribute","removeAttr","removeAttribute","data","dom7ElementDataStorage","transform","webkitTransform","transition","webkitTransitionDuration","transitionDuration","on","target","dom7EventData","unshift","is","apply","parents","p","c","u","v","dom7LiveListeners","listener","proxyListener","f","dom7Listeners","off","splice","dom7proxy","trigger","detail","bubbles","cancelable","filter","dispatchEvent","transitionEnd","call","outerWidth","styles","offsetWidth","parseFloat","outerHeight","offsetHeight","offset","getBoundingClientRect","clientTop","clientLeft","scrollY","scrollTop","scrollX","scrollLeft","top","left","css","each","html","text","textContent","matches","webkitMatchesSelector","msMatchesSelector","index","previousSibling","eq","append","firstChild","appendChild","prepend","insertBefore","next","nextElementSibling","nextAll","prev","previousElementSibling","prevAll","parent","parentNode","closest","find","removeChild","Object","keys","forEach","deleteProps","nextTick","now","getTranslate","WebKitCSSMatrix","map","replace","join","MozTransform","OTransform","MsTransform","msTransform","toString","m41","m42","parseUrlQuery","href","decodeURIComponent","isObject","constructor","extend","getOwnPropertyDescriptor","enumerable","touch","Modernizr","maxTouchPoints","DocumentTouch","pointerEvents","PointerEvent","observer","passiveListener","defineProperty","get","gestures","params","eventsListeners","components","configurable","once","f7proxy","emit","Array","isArray","slice","events","context","useModulesParams","modules","useModules","instance","bind","create","set","use","installModule","name","proto","static","install","concat","defineProperties","updateSize","$el","width","clientWidth","height","clientHeight","isHorizontal","isVertical","parseInt","size","updateSlides","$wrapperEl","rtlTranslate","wrongRTL","virtual","enabled","slides","slideClass","cssMode","slidesOffsetBefore","m","slidesOffsetAfter","g","snapGrid","b","w","spaceBetween","y","x","T","E","S","virtualSize","marginLeft","marginTop","marginRight","marginBottom","slidesPerColumn","Math","floor","ceil","slidesPerView","slidesPerColumnFill","max","C","M","P","z","k","$","L","I","D","slidesPerGroup","O","A","G","min","order","B","H","N","roundLengths","X","V","Y","F","W","R","q","j","K","U","_","Z","swiperSlideSize","centeredSlides","abs","effect","setWrapperSize","Q","J","ee","te","centeredSlidesBounds","ie","se","centerInsufficientSlides","ae","re","slidesGrid","slidesSizesGrid","watchOverflow","checkOverflow","watchSlidesProgress","watchSlidesVisibility","updateSlidesOffset","updateAutoHeight","setTransition","speed","activeIndex","swiperSlideOffset","offsetLeft","offsetTop","updateSlidesProgress","translate","slideVisibleClass","visibleSlidesIndexes","visibleSlides","minTranslate","progress","updateProgress","maxTranslate","isBeginning","isEnd","updateSlidesClasses","realIndex","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","loop","slideDuplicateClass","updateActiveIndex","snapIndex","normalizeSlideIndex","previousIndex","initialized","runCallbacksOnInit","updateClickedSlide","clickedSlide","clickedIndex","slideToClickedSlide","virtualTranslate","setTranslate","wrapperEl","previousTranslate","translateTo","animating","preventInteractionOnTransition","scrollTo","behavior","onTranslateToWrapperTransitionEnd","destroyed","transitionStart","autoHeight","slideTo","initialSlide","allowSlideNext","allowSlidePrev","onSlideToWrapperTransitionEnd","slideToLoop","loopedSlides","slideNext","loopFix","_clientLeft","slidePrev","slideReset","slideToClosest","slidesPerViewDynamic","loopCreate","loopFillGroupWithBlank","slideBlankClass","loopAdditionalSlides","cloneNode","loopDestroy","setGrabCursor","simulateTouch","isLocked","el","cursor","unsetGrabCursor","appendSlide","update","prependSlide","addSlide","removeSlide","removeAllSlides","platform","ios","android","androidChrome","desktop","iphone","ipod","ipad","edge","firefox","macos","windows","cordova","phonegap","electron","toLowerCase","os","osVersion","webView","standalone","matchMedia","webview","pixelRatio","devicePixelRatio","touchEventsData","touches","originalEvent","touchEventsTarget","isTouchEvent","type","which","button","isTouched","isMoved","noSwiping","noSwipingSelector","noSwipingClass","allowClick","swipeHandler","currentX","targetTouches","pageX","currentY","pageY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","allowTouchCallbacks","isScrolling","startMoving","startX","startY","touchStartTime","swipeDirection","threshold","allowThresholdMove","formElements","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","preventDefault","changedTouches","preventedByNestedSwiper","touchReleaseOnEdges","sqrt","pow","atan2","PI","touchAngle","touchMoveStopPropagation","nested","stopPropagation","startTranslate","allowMomentumBounce","grabCursor","diff","touchRatio","currentTranslate","resistanceRatio","resistance","followFinger","freeMode","velocities","position","time","lastClickTime","freeModeMomentum","pop","velocity","freeModeMinimumVelocity","freeModeMomentumVelocityRatio","freeModeMomentumRatio","freeModeMomentumBounceRatio","freeModeMomentumBounce","freeModeSticky","longSwipesMs","longSwipes","longSwipesRatio","shortSwipes","navigation","nextEl","prevEl","breakpoints","setBreakpoint","autoplay","running","paused","run","preventClicks","preventClicksPropagation","stopImmediatePropagation","init","direction","updateOnWindowResize","uniqueNavElements","preloadImages","updateOnImagesReady","passiveListeners","containerModifierClass","wrapperClass","slide","manipulation","attachEvents","touchEvents","onTouchStart","onTouchMove","onTouchEnd","onScroll","onClick","start","move","end","passive","capture","cancel","detachEvents","getBreakpoint","currentBreakpoint","originalParams","changeDirection","sort","innerWidth","classes","addClasses","classNames","rtl","removeClasses","images","loadImage","complete","onload","onerror","sizes","srcset","src","imagesLoaded","imagesToLoad","currentSrc","passedParams","swiper","shadowRoot","dir","touchEventsTouch","touchEventsDesktop","clickTimeout","__proto__","extendedDefaults","defaults","destroy","extendDefaults","device","support","isEdge","isSafari","isUiWebView","test","browser","resize","resizeHandler","orientationChangeHandler","func","MutationObserver","WebkitMutationObserver","attach","requestAnimationFrame","observe","attributes","childList","characterData","observers","observeParents","observeSlideChildren","disconnect","addSlidesBefore","addSlidesAfter","from","to","renderSlide","lazy","load","renderExternal","cache","beforeInit","handle","keyCode","charCode","shiftKey","altKey","ctrlKey","metaKey","keyboard","onlyInViewport","innerHeight","returnValue","enable","disable","lastScrollTime","lastEventBeforeSnap","recentWheelEvents","event","onwheel","implementation","hasFeature","normalize","wheelDelta","wheelDeltaY","wheelDeltaX","axis","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","handleMouseEnter","mouseEntered","handleMouseLeave","mousewheel","releaseOnEdges","forceToAxis","invert","delta","sign","sensitivity","timeout","shift","autoplayDisableOnInteraction","stop","raw","animateSlider","releaseScroll","getTime","eventsTarged","$nextEl","$prevEl","disabledClass","lockClass","onPrevClick","onNextClick","pagination","paginationType","bullets","dynamicBullets","bulletSize","dynamicMainBullets","dynamicBulletIndex","bulletActiveClass","currentClass","formatFractionCurrent","totalClass","formatFractionTotal","progressbarOpposite","progressbarFillClass","renderCustom","render","renderBullet","bulletClass","bulletElement","renderFraction","renderProgressbar","clickable","clickableClass","modifierClass","progressbarOppositeClass","hiddenClass","scrollbar","dragSize","trackSize","$dragEl","hide","opacity","display","divider","moveDivider","getPointerPosition","clientX","clientY","setDragPosition","dragStartPos","onDragStart","dragTimeout","onDragMove","onDragEnd","snapOnRelease","enableDraggable","disableDraggable","dragClass","dragEl","draggable","ne","setTransform","parallax","oe","getDistanceBetweenTouches","onGestureStart","zoom","gesture","fakeGestureTouched","fakeGestureMoved","scaleStart","$slideEl","$imageEl","$imageWrapEl","containerClass","maxRatio","isScaling","onGestureChange","scaleMove","scale","currentScale","minRatio","onGestureEnd","image","touchesStart","slideWidth","slideHeight","minX","maxX","minY","maxY","touchesCurrent","prevPositionX","prevPositionY","prevTime","onTransitionEnd","out","in","zoomedSlideClass","le","loadInSlide","elementClass","loadedClass","loadingClass","preloaderClass","initialImageLoaded","loadPrevNext","loadPrevNextAmount","de","LinearSpline","lastIndex","interpolate","getInterpolateFunction","controller","spline","control","by","inverse","he","makeElFocusable","addElRole","addElLabel","disableEl","enableEl","onEnterKey","a11y","notify","lastSlideMessage","nextSlideMessage","firstSlideMessage","prevSlideMessage","click","liveRegion","updateNavigation","updatePagination","paginationBulletMessage","pe","pushState","hashNavigation","paths","getPathValues","key","value","scrollToSlide","replaceState","setHistoryPopState","pathname","setHistory","slugify","includes","state","ce","onHashCange","setHash","watchState","ue","delay","reverseDirection","stopOnLastSlide","pause","waitForTransition","ve","fadeEffect","crossFade","fe","cubeEffect","shadow","slideShadows","shadowOffset","shadowScale","sin","cos","me","flipEffect","limitRotation","zIndex","round","ge","coverflowEffect","rotate","depth","modifier","stretch","prefixedPointerEvents","perspectiveOrigin","be","thumbs","swiperCreated","thumbsContainerClass","onThumbClick","slideThumbActiveClass","multipleActiveThumbs","we","hideOnClick","toEdge","fromEdge","activeIndexChange","snapIndexChange","slidesLengthChange","snapGridLengthChange","observerUpdate","touchStart","touchEnd","doubleTap","slideChange","loadOnTransitionStart","scroll","scrollbarDragMove","notificationClass","paginationUpdate","disableOnInteraction","onVisibilityChange","visibilityState","beforeTransitionStart","sliderFirstMove","beforeDestroy"],"mappings":"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","sourcesContent":["/**\n * Swiper 5.2.1\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * http://swiperjs.com\n *\n * Copyright 2014-2019 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: November 16, 2019\n */\n\n\n! function(e, t) { \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(t) : (e = e || self).Swiper = t() }(this, (function() {\n    \"use strict\";\n    var e = \"undefined\" == typeof document ? { body: {}, addEventListener: function() {}, removeEventListener: function() {}, activeElement: { blur: function() {}, nodeName: \"\" }, querySelector: function() { return null }, querySelectorAll: function() { return [] }, getElementById: function() { return null }, createEvent: function() { return { initEvent: function() {} } }, createElement: function() { return { children: [], childNodes: [], style: {}, setAttribute: function() {}, getElementsByTagName: function() { return [] } } }, location: { hash: \"\" } } : document,\n        t = \"undefined\" == typeof window ? { document: e, navigator: { userAgent: \"\" }, location: {}, history: {}, CustomEvent: function() { return this }, addEventListener: function() {}, removeEventListener: function() {}, getComputedStyle: function() { return { getPropertyValue: function() { return \"\" } } }, Image: function() {}, Date: function() {}, screen: {}, setTimeout: function() {}, clearTimeout: function() {} } : window,\n        i = function(e) { for (var t = 0; t < e.length; t += 1) this[t] = e[t]; return this.length = e.length, this };\n\n    function s(s, a) {\n        var r = [],\n            n = 0;\n        if (s && !a && s instanceof i) return s;\n        if (s)\n            if (\"string\" == typeof s) {\n                var o, l, d = s.trim();\n                if (d.indexOf(\"<\") >= 0 && d.indexOf(\">\") >= 0) { var h = \"div\"; for (0 === d.indexOf(\"<li\") && (h = \"ul\"), 0 === d.indexOf(\"<tr\") && (h = \"tbody\"), 0 !== d.indexOf(\"<td\") && 0 !== d.indexOf(\"<th\") || (h = \"tr\"), 0 === d.indexOf(\"<tbody\") && (h = \"table\"), 0 === d.indexOf(\"<option\") && (h = \"select\"), (l = e.createElement(h)).innerHTML = d, n = 0; n < l.childNodes.length; n += 1) r.push(l.childNodes[n]) } else\n                    for (o = a || \"#\" !== s[0] || s.match(/[ .<>:~]/) ? (a || e).querySelectorAll(s.trim()) : [e.getElementById(s.trim().split(\"#\")[1])], n = 0; n < o.length; n += 1) o[n] && r.push(o[n])\n            } else if (s.nodeType || s === t || s === e) r.push(s);\n        else if (s.length > 0 && s[0].nodeType)\n            for (n = 0; n < s.length; n += 1) r.push(s[n]);\n        return new i(r)\n    }\n\n    function a(e) { for (var t = [], i = 0; i < e.length; i += 1) - 1 === t.indexOf(e[i]) && t.push(e[i]); return t }\n    s.fn = i.prototype, s.Class = i, s.Dom7 = i;\n    var r = {\n        addClass: function(e) {\n            if (void 0 === e) return this;\n            for (var t = e.split(\" \"), i = 0; i < t.length; i += 1)\n                for (var s = 0; s < this.length; s += 1) void 0 !== this[s] && void 0 !== this[s].classList && this[s].classList.add(t[i]);\n            return this\n        },\n        removeClass: function(e) {\n            for (var t = e.split(\" \"), i = 0; i < t.length; i += 1)\n                for (var s = 0; s < this.length; s += 1) void 0 !== this[s] && void 0 !== this[s].classList && this[s].classList.remove(t[i]);\n            return this\n        },\n        hasClass: function(e) { return !!this[0] && this[0].classList.contains(e) },\n        toggleClass: function(e) {\n            for (var t = e.split(\" \"), i = 0; i < t.length; i += 1)\n                for (var s = 0; s < this.length; s += 1) void 0 !== this[s] && void 0 !== this[s].classList && this[s].classList.toggle(t[i]);\n            return this\n        },\n        attr: function(e, t) {\n            var i = arguments;\n            if (1 === arguments.length && \"string\" == typeof e) return this[0] ? this[0].getAttribute(e) : void 0;\n            for (var s = 0; s < this.length; s += 1)\n                if (2 === i.length) this[s].setAttribute(e, t);\n                else\n                    for (var a in e) this[s][a] = e[a], this[s].setAttribute(a, e[a]);\n            return this\n        },\n        removeAttr: function(e) { for (var t = 0; t < this.length; t += 1) this[t].removeAttribute(e); return this },\n        data: function(e, t) { var i; if (void 0 !== t) { for (var s = 0; s < this.length; s += 1)(i = this[s]).dom7ElementDataStorage || (i.dom7ElementDataStorage = {}), i.dom7ElementDataStorage[e] = t; return this } if (i = this[0]) { if (i.dom7ElementDataStorage && e in i.dom7ElementDataStorage) return i.dom7ElementDataStorage[e]; var a = i.getAttribute(\"data-\" + e); return a || void 0 } },\n        transform: function(e) {\n            for (var t = 0; t < this.length; t += 1) {\n                var i = this[t].style;\n                i.webkitTransform = e, i.transform = e\n            }\n            return this\n        },\n        transition: function(e) {\n            \"string\" != typeof e && (e += \"ms\");\n            for (var t = 0; t < this.length; t += 1) {\n                var i = this[t].style;\n                i.webkitTransitionDuration = e, i.transitionDuration = e\n            }\n            return this\n        },\n        on: function() {\n            for (var e, t = [], i = arguments.length; i--;) t[i] = arguments[i];\n            var a = t[0],\n                r = t[1],\n                n = t[2],\n                o = t[3];\n\n            function l(e) {\n                var t = e.target;\n                if (t) {\n                    var i = e.target.dom7EventData || [];\n                    if (i.indexOf(e) < 0 && i.unshift(e), s(t).is(r)) n.apply(t, i);\n                    else\n                        for (var a = s(t).parents(), o = 0; o < a.length; o += 1) s(a[o]).is(r) && n.apply(a[o], i)\n                }\n            }\n\n            function d(e) {\n                var t = e && e.target && e.target.dom7EventData || [];\n                t.indexOf(e) < 0 && t.unshift(e), n.apply(this, t)\n            }\n            \"function\" == typeof t[1] && (a = (e = t)[0], n = e[1], o = e[2], r = void 0), o || (o = !1);\n            for (var h, p = a.split(\" \"), c = 0; c < this.length; c += 1) {\n                var u = this[c];\n                if (r)\n                    for (h = 0; h < p.length; h += 1) {\n                        var v = p[h];\n                        u.dom7LiveListeners || (u.dom7LiveListeners = {}), u.dom7LiveListeners[v] || (u.dom7LiveListeners[v] = []), u.dom7LiveListeners[v].push({ listener: n, proxyListener: l }), u.addEventListener(v, l, o)\n                    } else\n                        for (h = 0; h < p.length; h += 1) {\n                            var f = p[h];\n                            u.dom7Listeners || (u.dom7Listeners = {}), u.dom7Listeners[f] || (u.dom7Listeners[f] = []), u.dom7Listeners[f].push({ listener: n, proxyListener: d }), u.addEventListener(f, d, o)\n                        }\n            }\n            return this\n        },\n        off: function() {\n            for (var e, t = [], i = arguments.length; i--;) t[i] = arguments[i];\n            var s = t[0],\n                a = t[1],\n                r = t[2],\n                n = t[3];\n            \"function\" == typeof t[1] && (s = (e = t)[0], r = e[1], n = e[2], a = void 0), n || (n = !1);\n            for (var o = s.split(\" \"), l = 0; l < o.length; l += 1)\n                for (var d = o[l], h = 0; h < this.length; h += 1) {\n                    var p = this[h],\n                        c = void 0;\n                    if (!a && p.dom7Listeners ? c = p.dom7Listeners[d] : a && p.dom7LiveListeners && (c = p.dom7LiveListeners[d]), c && c.length)\n                        for (var u = c.length - 1; u >= 0; u -= 1) {\n                            var v = c[u];\n                            r && v.listener === r ? (p.removeEventListener(d, v.proxyListener, n), c.splice(u, 1)) : r && v.listener && v.listener.dom7proxy && v.listener.dom7proxy === r ? (p.removeEventListener(d, v.proxyListener, n), c.splice(u, 1)) : r || (p.removeEventListener(d, v.proxyListener, n), c.splice(u, 1))\n                        }\n                }\n            return this\n        },\n        trigger: function() {\n            for (var i = [], s = arguments.length; s--;) i[s] = arguments[s];\n            for (var a = i[0].split(\" \"), r = i[1], n = 0; n < a.length; n += 1)\n                for (var o = a[n], l = 0; l < this.length; l += 1) {\n                    var d = this[l],\n                        h = void 0;\n                    try { h = new t.CustomEvent(o, { detail: r, bubbles: !0, cancelable: !0 }) } catch (t) {\n                        (h = e.createEvent(\"Event\")).initEvent(o, !0, !0), h.detail = r\n                    }\n                    d.dom7EventData = i.filter((function(e, t) { return t > 0 })), d.dispatchEvent(h), d.dom7EventData = [], delete d.dom7EventData\n                }\n            return this\n        },\n        transitionEnd: function(e) {\n            var t, i = [\"webkitTransitionEnd\", \"transitionend\"],\n                s = this;\n\n            function a(r) {\n                if (r.target === this)\n                    for (e.call(this, r), t = 0; t < i.length; t += 1) s.off(i[t], a)\n            }\n            if (e)\n                for (t = 0; t < i.length; t += 1) s.on(i[t], a);\n            return this\n        },\n        outerWidth: function(e) { if (this.length > 0) { if (e) { var t = this.styles(); return this[0].offsetWidth + parseFloat(t.getPropertyValue(\"margin-right\")) + parseFloat(t.getPropertyValue(\"margin-left\")) } return this[0].offsetWidth } return null },\n        outerHeight: function(e) { if (this.length > 0) { if (e) { var t = this.styles(); return this[0].offsetHeight + parseFloat(t.getPropertyValue(\"margin-top\")) + parseFloat(t.getPropertyValue(\"margin-bottom\")) } return this[0].offsetHeight } return null },\n        offset: function() {\n            if (this.length > 0) {\n                var i = this[0],\n                    s = i.getBoundingClientRect(),\n                    a = e.body,\n                    r = i.clientTop || a.clientTop || 0,\n                    n = i.clientLeft || a.clientLeft || 0,\n                    o = i === t ? t.scrollY : i.scrollTop,\n                    l = i === t ? t.scrollX : i.scrollLeft;\n                return { top: s.top + o - r, left: s.left + l - n }\n            }\n            return null\n        },\n        css: function(e, i) {\n            var s;\n            if (1 === arguments.length) {\n                if (\"string\" != typeof e) {\n                    for (s = 0; s < this.length; s += 1)\n                        for (var a in e) this[s].style[a] = e[a];\n                    return this\n                }\n                if (this[0]) return t.getComputedStyle(this[0], null).getPropertyValue(e)\n            }\n            if (2 === arguments.length && \"string\" == typeof e) { for (s = 0; s < this.length; s += 1) this[s].style[e] = i; return this }\n            return this\n        },\n        each: function(e) {\n            if (!e) return this;\n            for (var t = 0; t < this.length; t += 1)\n                if (!1 === e.call(this[t], t, this[t])) return this;\n            return this\n        },\n        html: function(e) { if (void 0 === e) return this[0] ? this[0].innerHTML : void 0; for (var t = 0; t < this.length; t += 1) this[t].innerHTML = e; return this },\n        text: function(e) { if (void 0 === e) return this[0] ? this[0].textContent.trim() : null; for (var t = 0; t < this.length; t += 1) this[t].textContent = e; return this },\n        is: function(a) {\n            var r, n, o = this[0];\n            if (!o || void 0 === a) return !1;\n            if (\"string\" == typeof a) {\n                if (o.matches) return o.matches(a);\n                if (o.webkitMatchesSelector) return o.webkitMatchesSelector(a);\n                if (o.msMatchesSelector) return o.msMatchesSelector(a);\n                for (r = s(a), n = 0; n < r.length; n += 1)\n                    if (r[n] === o) return !0;\n                return !1\n            }\n            if (a === e) return o === e;\n            if (a === t) return o === t;\n            if (a.nodeType || a instanceof i) {\n                for (r = a.nodeType ? [a] : a, n = 0; n < r.length; n += 1)\n                    if (r[n] === o) return !0;\n                return !1\n            }\n            return !1\n        },\n        index: function() { var e, t = this[0]; if (t) { for (e = 0; null !== (t = t.previousSibling);) 1 === t.nodeType && (e += 1); return e } },\n        eq: function(e) { if (void 0 === e) return this; var t, s = this.length; return new i(e > s - 1 ? [] : e < 0 ? (t = s + e) < 0 ? [] : [this[t]] : [this[e]]) },\n        append: function() {\n            for (var t, s = [], a = arguments.length; a--;) s[a] = arguments[a];\n            for (var r = 0; r < s.length; r += 1) {\n                t = s[r];\n                for (var n = 0; n < this.length; n += 1)\n                    if (\"string\" == typeof t) { var o = e.createElement(\"div\"); for (o.innerHTML = t; o.firstChild;) this[n].appendChild(o.firstChild) } else if (t instanceof i)\n                    for (var l = 0; l < t.length; l += 1) this[n].appendChild(t[l]);\n                else this[n].appendChild(t)\n            }\n            return this\n        },\n        prepend: function(t) {\n            var s, a;\n            for (s = 0; s < this.length; s += 1)\n                if (\"string\" == typeof t) { var r = e.createElement(\"div\"); for (r.innerHTML = t, a = r.childNodes.length - 1; a >= 0; a -= 1) this[s].insertBefore(r.childNodes[a], this[s].childNodes[0]) } else if (t instanceof i)\n                for (a = 0; a < t.length; a += 1) this[s].insertBefore(t[a], this[s].childNodes[0]);\n            else this[s].insertBefore(t, this[s].childNodes[0]);\n            return this\n        },\n        next: function(e) { return this.length > 0 ? e ? this[0].nextElementSibling && s(this[0].nextElementSibling).is(e) ? new i([this[0].nextElementSibling]) : new i([]) : this[0].nextElementSibling ? new i([this[0].nextElementSibling]) : new i([]) : new i([]) },\n        nextAll: function(e) {\n            var t = [],\n                a = this[0];\n            if (!a) return new i([]);\n            for (; a.nextElementSibling;) {\n                var r = a.nextElementSibling;\n                e ? s(r).is(e) && t.push(r) : t.push(r), a = r\n            }\n            return new i(t)\n        },\n        prev: function(e) { if (this.length > 0) { var t = this[0]; return e ? t.previousElementSibling && s(t.previousElementSibling).is(e) ? new i([t.previousElementSibling]) : new i([]) : t.previousElementSibling ? new i([t.previousElementSibling]) : new i([]) } return new i([]) },\n        prevAll: function(e) {\n            var t = [],\n                a = this[0];\n            if (!a) return new i([]);\n            for (; a.previousElementSibling;) {\n                var r = a.previousElementSibling;\n                e ? s(r).is(e) && t.push(r) : t.push(r), a = r\n            }\n            return new i(t)\n        },\n        parent: function(e) { for (var t = [], i = 0; i < this.length; i += 1) null !== this[i].parentNode && (e ? s(this[i].parentNode).is(e) && t.push(this[i].parentNode) : t.push(this[i].parentNode)); return s(a(t)) },\n        parents: function(e) {\n            for (var t = [], i = 0; i < this.length; i += 1)\n                for (var r = this[i].parentNode; r;) e ? s(r).is(e) && t.push(r) : t.push(r), r = r.parentNode;\n            return s(a(t))\n        },\n        closest: function(e) { var t = this; return void 0 === e ? new i([]) : (t.is(e) || (t = t.parents(e).eq(0)), t) },\n        find: function(e) {\n            for (var t = [], s = 0; s < this.length; s += 1)\n                for (var a = this[s].querySelectorAll(e), r = 0; r < a.length; r += 1) t.push(a[r]);\n            return new i(t)\n        },\n        children: function(e) {\n            for (var t = [], r = 0; r < this.length; r += 1)\n                for (var n = this[r].childNodes, o = 0; o < n.length; o += 1) e ? 1 === n[o].nodeType && s(n[o]).is(e) && t.push(n[o]) : 1 === n[o].nodeType && t.push(n[o]);\n            return new i(a(t))\n        },\n        filter: function(e) { for (var t = [], s = 0; s < this.length; s += 1) e.call(this[s], s, this[s]) && t.push(this[s]); return new i(t) },\n        remove: function() { for (var e = 0; e < this.length; e += 1) this[e].parentNode && this[e].parentNode.removeChild(this[e]); return this },\n        add: function() { for (var e = [], t = arguments.length; t--;) e[t] = arguments[t]; var i, a; for (i = 0; i < e.length; i += 1) { var r = s(e[i]); for (a = 0; a < r.length; a += 1) this[this.length] = r[a], this.length += 1 } return this },\n        styles: function() { return this[0] ? t.getComputedStyle(this[0], null) : {} }\n    };\n    Object.keys(r).forEach((function(e) { s.fn[e] = s.fn[e] || r[e] }));\n    var n = {\n            deleteProps: function(e) {\n                var t = e;\n                Object.keys(t).forEach((function(e) { try { t[e] = null } catch (e) {} try { delete t[e] } catch (e) {} }))\n            },\n            nextTick: function(e, t) { return void 0 === t && (t = 0), setTimeout(e, t) },\n            now: function() { return Date.now() },\n            getTranslate: function(e, i) {\n                var s, a, r;\n                void 0 === i && (i = \"x\");\n                var n = t.getComputedStyle(e, null);\n                return t.WebKitCSSMatrix ? ((a = n.transform || n.webkitTransform).split(\",\").length > 6 && (a = a.split(\", \").map((function(e) { return e.replace(\",\", \".\") })).join(\", \")), r = new t.WebKitCSSMatrix(\"none\" === a ? \"\" : a)) : s = (r = n.MozTransform || n.OTransform || n.MsTransform || n.msTransform || n.transform || n.getPropertyValue(\"transform\").replace(\"translate(\", \"matrix(1, 0, 0, 1,\")).toString().split(\",\"), \"x\" === i && (a = t.WebKitCSSMatrix ? r.m41 : 16 === s.length ? parseFloat(s[12]) : parseFloat(s[4])), \"y\" === i && (a = t.WebKitCSSMatrix ? r.m42 : 16 === s.length ? parseFloat(s[13]) : parseFloat(s[5])), a || 0\n            },\n            parseUrlQuery: function(e) {\n                var i, s, a, r, n = {},\n                    o = e || t.location.href;\n                if (\"string\" == typeof o && o.length)\n                    for (r = (s = (o = o.indexOf(\"?\") > -1 ? o.replace(/\\S*\\?/, \"\") : \"\").split(\"&\").filter((function(e) { return \"\" !== e }))).length, i = 0; i < r; i += 1) a = s[i].replace(/#\\S+/g, \"\").split(\"=\"), n[decodeURIComponent(a[0])] = void 0 === a[1] ? void 0 : decodeURIComponent(a[1]) || \"\";\n                return n\n            },\n            isObject: function(e) { return \"object\" == typeof e && null !== e && e.constructor && e.constructor === Object },\n            extend: function() {\n                for (var e = [], t = arguments.length; t--;) e[t] = arguments[t];\n                for (var i = Object(e[0]), s = 1; s < e.length; s += 1) {\n                    var a = e[s];\n                    if (null != a)\n                        for (var r = Object.keys(Object(a)), o = 0, l = r.length; o < l; o += 1) {\n                            var d = r[o],\n                                h = Object.getOwnPropertyDescriptor(a, d);\n                            void 0 !== h && h.enumerable && (n.isObject(i[d]) && n.isObject(a[d]) ? n.extend(i[d], a[d]) : !n.isObject(i[d]) && n.isObject(a[d]) ? (i[d] = {}, n.extend(i[d], a[d])) : i[d] = a[d])\n                        }\n                }\n                return i\n            }\n        },\n        o = {\n            touch: t.Modernizr && !0 === t.Modernizr.touch || !!(t.navigator.maxTouchPoints > 0 || \"ontouchstart\" in t || t.DocumentTouch && e instanceof t.DocumentTouch),\n            pointerEvents: !!t.PointerEvent && \"maxTouchPoints\" in t.navigator && t.navigator.maxTouchPoints > 0,\n            observer: \"MutationObserver\" in t || \"WebkitMutationObserver\" in t,\n            passiveListener: function() {\n                var e = !1;\n                try {\n                    var i = Object.defineProperty({}, \"passive\", { get: function() { e = !0 } });\n                    t.addEventListener(\"testPassiveListener\", null, i)\n                } catch (e) {}\n                return e\n            }(),\n            gestures: \"ongesturestart\" in t\n        },\n        l = function(e) {\n            void 0 === e && (e = {});\n            var t = this;\n            t.params = e, t.eventsListeners = {}, t.params && t.params.on && Object.keys(t.params.on).forEach((function(e) { t.on(e, t.params.on[e]) }))\n        },\n        d = { components: { configurable: !0 } };\n    l.prototype.on = function(e, t, i) { var s = this; if (\"function\" != typeof t) return s; var a = i ? \"unshift\" : \"push\"; return e.split(\" \").forEach((function(e) { s.eventsListeners[e] || (s.eventsListeners[e] = []), s.eventsListeners[e][a](t) })), s }, l.prototype.once = function(e, t, i) {\n        var s = this;\n        if (\"function\" != typeof t) return s;\n\n        function a() {\n            for (var i = [], r = arguments.length; r--;) i[r] = arguments[r];\n            s.off(e, a), a.f7proxy && delete a.f7proxy, t.apply(s, i)\n        }\n        return a.f7proxy = t, s.on(e, a, i)\n    }, l.prototype.off = function(e, t) {\n        var i = this;\n        return i.eventsListeners ? (e.split(\" \").forEach((function(e) {\n            void 0 === t ? i.eventsListeners[e] = [] : i.eventsListeners[e] && i.eventsListeners[e].length && i.eventsListeners[e].forEach((function(s, a) {\n                (s === t || s.f7proxy && s.f7proxy === t) && i.eventsListeners[e].splice(a, 1)\n            }))\n        })), i) : i\n    }, l.prototype.emit = function() {\n        for (var e = [], t = arguments.length; t--;) e[t] = arguments[t];\n        var i, s, a, r = this;\n        if (!r.eventsListeners) return r;\n        \"string\" == typeof e[0] || Array.isArray(e[0]) ? (i = e[0], s = e.slice(1, e.length), a = r) : (i = e[0].events, s = e[0].data, a = e[0].context || r);\n        var n = Array.isArray(i) ? i : i.split(\" \");\n        return n.forEach((function(e) {\n            if (r.eventsListeners && r.eventsListeners[e]) {\n                var t = [];\n                r.eventsListeners[e].forEach((function(e) { t.push(e) })), t.forEach((function(e) { e.apply(a, s) }))\n            }\n        })), r\n    }, l.prototype.useModulesParams = function(e) {\n        var t = this;\n        t.modules && Object.keys(t.modules).forEach((function(i) {\n            var s = t.modules[i];\n            s.params && n.extend(e, s.params)\n        }))\n    }, l.prototype.useModules = function(e) {\n        void 0 === e && (e = {});\n        var t = this;\n        t.modules && Object.keys(t.modules).forEach((function(i) {\n            var s = t.modules[i],\n                a = e[i] || {};\n            s.instance && Object.keys(s.instance).forEach((function(e) {\n                var i = s.instance[e];\n                t[e] = \"function\" == typeof i ? i.bind(t) : i\n            })), s.on && t.on && Object.keys(s.on).forEach((function(e) { t.on(e, s.on[e]) })), s.create && s.create.bind(t)(a)\n        }))\n    }, d.components.set = function(e) { this.use && this.use(e) }, l.installModule = function(e) {\n        for (var t = [], i = arguments.length - 1; i-- > 0;) t[i] = arguments[i + 1];\n        var s = this;\n        s.prototype.modules || (s.prototype.modules = {});\n        var a = e.name || Object.keys(s.prototype.modules).length + \"_\" + n.now();\n        return s.prototype.modules[a] = e, e.proto && Object.keys(e.proto).forEach((function(t) { s.prototype[t] = e.proto[t] })), e.static && Object.keys(e.static).forEach((function(t) { s[t] = e.static[t] })), e.install && e.install.apply(s, t), s\n    }, l.use = function(e) { for (var t = [], i = arguments.length - 1; i-- > 0;) t[i] = arguments[i + 1]; var s = this; return Array.isArray(e) ? (e.forEach((function(e) { return s.installModule(e) })), s) : s.installModule.apply(s, [e].concat(t)) }, Object.defineProperties(l, d);\n    var h = {\n        updateSize: function() {\n            var e, t, i = this.$el;\n            e = void 0 !== this.params.width ? this.params.width : i[0].clientWidth, t = void 0 !== this.params.height ? this.params.height : i[0].clientHeight, 0 === e && this.isHorizontal() || 0 === t && this.isVertical() || (e = e - parseInt(i.css(\"padding-left\"), 10) - parseInt(i.css(\"padding-right\"), 10), t = t - parseInt(i.css(\"padding-top\"), 10) - parseInt(i.css(\"padding-bottom\"), 10), n.extend(this, { width: e, height: t, size: this.isHorizontal() ? e : t }))\n        },\n        updateSlides: function() {\n            var e = this.params,\n                i = this.$wrapperEl,\n                s = this.size,\n                a = this.rtlTranslate,\n                r = this.wrongRTL,\n                o = this.virtual && e.virtual.enabled,\n                l = o ? this.virtual.slides.length : this.slides.length,\n                d = i.children(\".\" + this.params.slideClass),\n                h = o ? this.virtual.slides.length : d.length,\n                p = [],\n                c = [],\n                u = [];\n\n            function v(t) { return !e.cssMode || t !== d.length - 1 }\n            var f = e.slidesOffsetBefore;\n            \"function\" == typeof f && (f = e.slidesOffsetBefore.call(this));\n            var m = e.slidesOffsetAfter;\n            \"function\" == typeof m && (m = e.slidesOffsetAfter.call(this));\n            var g = this.snapGrid.length,\n                b = this.snapGrid.length,\n                w = e.spaceBetween,\n                y = -f,\n                x = 0,\n                T = 0;\n            if (void 0 !== s) {\n                var E, S;\n                \"string\" == typeof w && w.indexOf(\"%\") >= 0 && (w = parseFloat(w.replace(\"%\", \"\")) / 100 * s), this.virtualSize = -w, a ? d.css({ marginLeft: \"\", marginTop: \"\" }) : d.css({ marginRight: \"\", marginBottom: \"\" }), e.slidesPerColumn > 1 && (E = Math.floor(h / e.slidesPerColumn) === h / this.params.slidesPerColumn ? h : Math.ceil(h / e.slidesPerColumn) * e.slidesPerColumn, \"auto\" !== e.slidesPerView && \"row\" === e.slidesPerColumnFill && (E = Math.max(E, e.slidesPerView * e.slidesPerColumn)));\n                for (var C, M = e.slidesPerColumn, P = E / M, z = Math.floor(h / e.slidesPerColumn), k = 0; k < h; k += 1) {\n                    S = 0;\n                    var $ = d.eq(k);\n                    if (e.slidesPerColumn > 1) {\n                        var L = void 0,\n                            I = void 0,\n                            D = void 0;\n                        if (\"row\" === e.slidesPerColumnFill && e.slidesPerGroup > 1) {\n                            var O = Math.floor(k / (e.slidesPerGroup * e.slidesPerColumn)),\n                                A = k - e.slidesPerColumn * e.slidesPerGroup * O,\n                                G = 0 === O ? e.slidesPerGroup : Math.min(Math.ceil((h - O * M * e.slidesPerGroup) / M), e.slidesPerGroup);\n                            L = (I = A - (D = Math.floor(A / G)) * G + O * e.slidesPerGroup) + D * E / M, $.css({ \"-webkit-box-ordinal-group\": L, \"-moz-box-ordinal-group\": L, \"-ms-flex-order\": L, \"-webkit-order\": L, order: L })\n                        } else \"column\" === e.slidesPerColumnFill ? (D = k - (I = Math.floor(k / M)) * M, (I > z || I === z && D === M - 1) && (D += 1) >= M && (D = 0, I += 1)) : I = k - (D = Math.floor(k / P)) * P;\n                        $.css(\"margin-\" + (this.isHorizontal() ? \"top\" : \"left\"), 0 !== D && e.spaceBetween && e.spaceBetween + \"px\")\n                    }\n                    if (\"none\" !== $.css(\"display\")) {\n                        if (\"auto\" === e.slidesPerView) {\n                            var B = t.getComputedStyle($[0], null),\n                                H = $[0].style.transform,\n                                N = $[0].style.webkitTransform;\n                            if (H && ($[0].style.transform = \"none\"), N && ($[0].style.webkitTransform = \"none\"), e.roundLengths) S = this.isHorizontal() ? $.outerWidth(!0) : $.outerHeight(!0);\n                            else if (this.isHorizontal()) {\n                                var X = parseFloat(B.getPropertyValue(\"width\")),\n                                    V = parseFloat(B.getPropertyValue(\"padding-left\")),\n                                    Y = parseFloat(B.getPropertyValue(\"padding-right\")),\n                                    F = parseFloat(B.getPropertyValue(\"margin-left\")),\n                                    W = parseFloat(B.getPropertyValue(\"margin-right\")),\n                                    R = B.getPropertyValue(\"box-sizing\");\n                                S = R && \"border-box\" === R ? X + F + W : X + V + Y + F + W\n                            } else {\n                                var q = parseFloat(B.getPropertyValue(\"height\")),\n                                    j = parseFloat(B.getPropertyValue(\"padding-top\")),\n                                    K = parseFloat(B.getPropertyValue(\"padding-bottom\")),\n                                    U = parseFloat(B.getPropertyValue(\"margin-top\")),\n                                    _ = parseFloat(B.getPropertyValue(\"margin-bottom\")),\n                                    Z = B.getPropertyValue(\"box-sizing\");\n                                S = Z && \"border-box\" === Z ? q + U + _ : q + j + K + U + _\n                            }\n                            H && ($[0].style.transform = H), N && ($[0].style.webkitTransform = N), e.roundLengths && (S = Math.floor(S))\n                        } else S = (s - (e.slidesPerView - 1) * w) / e.slidesPerView, e.roundLengths && (S = Math.floor(S)), d[k] && (this.isHorizontal() ? d[k].style.width = S + \"px\" : d[k].style.height = S + \"px\");\n                        d[k] && (d[k].swiperSlideSize = S), u.push(S), e.centeredSlides ? (y = y + S / 2 + x / 2 + w, 0 === x && 0 !== k && (y = y - s / 2 - w), 0 === k && (y = y - s / 2 - w), Math.abs(y) < .001 && (y = 0), e.roundLengths && (y = Math.floor(y)), T % e.slidesPerGroup == 0 && p.push(y), c.push(y)) : (e.roundLengths && (y = Math.floor(y)), T % e.slidesPerGroup == 0 && p.push(y), c.push(y), y = y + S + w), this.virtualSize += S + w, x = S, T += 1\n                    }\n                }\n                if (this.virtualSize = Math.max(this.virtualSize, s) + m, a && r && (\"slide\" === e.effect || \"coverflow\" === e.effect) && i.css({ width: this.virtualSize + e.spaceBetween + \"px\" }), e.setWrapperSize && (this.isHorizontal() ? i.css({ width: this.virtualSize + e.spaceBetween + \"px\" }) : i.css({ height: this.virtualSize + e.spaceBetween + \"px\" })), e.slidesPerColumn > 1 && (this.virtualSize = (S + e.spaceBetween) * E, this.virtualSize = Math.ceil(this.virtualSize / e.slidesPerColumn) - e.spaceBetween, this.isHorizontal() ? i.css({ width: this.virtualSize + e.spaceBetween + \"px\" }) : i.css({ height: this.virtualSize + e.spaceBetween + \"px\" }), e.centeredSlides)) {\n                    C = [];\n                    for (var Q = 0; Q < p.length; Q += 1) {\n                        var J = p[Q];\n                        e.roundLengths && (J = Math.floor(J)), p[Q] < this.virtualSize + p[0] && C.push(J)\n                    }\n                    p = C\n                }\n                if (!e.centeredSlides) {\n                    C = [];\n                    for (var ee = 0; ee < p.length; ee += 1) {\n                        var te = p[ee];\n                        e.roundLengths && (te = Math.floor(te)), p[ee] <= this.virtualSize - s && C.push(te)\n                    }\n                    p = C, Math.floor(this.virtualSize - s) - Math.floor(p[p.length - 1]) > 1 && p.push(this.virtualSize - s)\n                }\n                if (0 === p.length && (p = [0]), 0 !== e.spaceBetween && (this.isHorizontal() ? a ? d.filter(v).css({ marginLeft: w + \"px\" }) : d.filter(v).css({ marginRight: w + \"px\" }) : d.filter(v).css({ marginBottom: w + \"px\" })), e.centeredSlides && e.centeredSlidesBounds) {\n                    var ie = 0;\n                    u.forEach((function(t) { ie += t + (e.spaceBetween ? e.spaceBetween : 0) }));\n                    var se = (ie -= e.spaceBetween) - s;\n                    p = p.map((function(e) { return e < 0 ? -f : e > se ? se + m : e }))\n                }\n                if (e.centerInsufficientSlides) {\n                    var ae = 0;\n                    if (u.forEach((function(t) { ae += t + (e.spaceBetween ? e.spaceBetween : 0) })), (ae -= e.spaceBetween) < s) {\n                        var re = (s - ae) / 2;\n                        p.forEach((function(e, t) { p[t] = e - re })), c.forEach((function(e, t) { c[t] = e + re }))\n                    }\n                }\n                n.extend(this, { slides: d, snapGrid: p, slidesGrid: c, slidesSizesGrid: u }), h !== l && this.emit(\"slidesLengthChange\"), p.length !== g && (this.params.watchOverflow && this.checkOverflow(), this.emit(\"snapGridLengthChange\")), c.length !== b && this.emit(\"slidesGridLengthChange\"), (e.watchSlidesProgress || e.watchSlidesVisibility) && this.updateSlidesOffset()\n            }\n        },\n        updateAutoHeight: function(e) {\n            var t, i = [],\n                s = 0;\n            if (\"number\" == typeof e ? this.setTransition(e) : !0 === e && this.setTransition(this.params.speed), \"auto\" !== this.params.slidesPerView && this.params.slidesPerView > 1)\n                for (t = 0; t < Math.ceil(this.params.slidesPerView); t += 1) {\n                    var a = this.activeIndex + t;\n                    if (a > this.slides.length) break;\n                    i.push(this.slides.eq(a)[0])\n                } else i.push(this.slides.eq(this.activeIndex)[0]);\n            for (t = 0; t < i.length; t += 1)\n                if (void 0 !== i[t]) {\n                    var r = i[t].offsetHeight;\n                    s = r > s ? r : s\n                }\n            s && this.$wrapperEl.css(\"height\", s + \"px\")\n        },\n        updateSlidesOffset: function() { for (var e = this.slides, t = 0; t < e.length; t += 1) e[t].swiperSlideOffset = this.isHorizontal() ? e[t].offsetLeft : e[t].offsetTop },\n        updateSlidesProgress: function(e) {\n            void 0 === e && (e = this && this.translate || 0);\n            var t = this.params,\n                i = this.slides,\n                a = this.rtlTranslate;\n            if (0 !== i.length) {\n                void 0 === i[0].swiperSlideOffset && this.updateSlidesOffset();\n                var r = -e;\n                a && (r = e), i.removeClass(t.slideVisibleClass), this.visibleSlidesIndexes = [], this.visibleSlides = [];\n                for (var n = 0; n < i.length; n += 1) {\n                    var o = i[n],\n                        l = (r + (t.centeredSlides ? this.minTranslate() : 0) - o.swiperSlideOffset) / (o.swiperSlideSize + t.spaceBetween);\n                    if (t.watchSlidesVisibility) {\n                        var d = -(r - o.swiperSlideOffset),\n                            h = d + this.slidesSizesGrid[n];\n                        (d >= 0 && d < this.size - 1 || h > 1 && h <= this.size || d <= 0 && h >= this.size) && (this.visibleSlides.push(o), this.visibleSlidesIndexes.push(n), i.eq(n).addClass(t.slideVisibleClass))\n                    }\n                    o.progress = a ? -l : l\n                }\n                this.visibleSlides = s(this.visibleSlides)\n            }\n        },\n        updateProgress: function(e) {\n            if (void 0 === e) {\n                var t = this.rtlTranslate ? -1 : 1;\n                e = this && this.translate && this.translate * t || 0\n            }\n            var i = this.params,\n                s = this.maxTranslate() - this.minTranslate(),\n                a = this.progress,\n                r = this.isBeginning,\n                o = this.isEnd,\n                l = r,\n                d = o;\n            0 === s ? (a = 0, r = !0, o = !0) : (r = (a = (e - this.minTranslate()) / s) <= 0, o = a >= 1), n.extend(this, { progress: a, isBeginning: r, isEnd: o }), (i.watchSlidesProgress || i.watchSlidesVisibility) && this.updateSlidesProgress(e), r && !l && this.emit(\"reachBeginning toEdge\"), o && !d && this.emit(\"reachEnd toEdge\"), (l && !r || d && !o) && this.emit(\"fromEdge\"), this.emit(\"progress\", a)\n        },\n        updateSlidesClasses: function() {\n            var e, t = this.slides,\n                i = this.params,\n                s = this.$wrapperEl,\n                a = this.activeIndex,\n                r = this.realIndex,\n                n = this.virtual && i.virtual.enabled;\n            t.removeClass(i.slideActiveClass + \" \" + i.slideNextClass + \" \" + i.slidePrevClass + \" \" + i.slideDuplicateActiveClass + \" \" + i.slideDuplicateNextClass + \" \" + i.slideDuplicatePrevClass), (e = n ? this.$wrapperEl.find(\".\" + i.slideClass + '[data-swiper-slide-index=\"' + a + '\"]') : t.eq(a)).addClass(i.slideActiveClass), i.loop && (e.hasClass(i.slideDuplicateClass) ? s.children(\".\" + i.slideClass + \":not(.\" + i.slideDuplicateClass + ')[data-swiper-slide-index=\"' + r + '\"]').addClass(i.slideDuplicateActiveClass) : s.children(\".\" + i.slideClass + \".\" + i.slideDuplicateClass + '[data-swiper-slide-index=\"' + r + '\"]').addClass(i.slideDuplicateActiveClass));\n            var o = e.nextAll(\".\" + i.slideClass).eq(0).addClass(i.slideNextClass);\n            i.loop && 0 === o.length && (o = t.eq(0)).addClass(i.slideNextClass);\n            var l = e.prevAll(\".\" + i.slideClass).eq(0).addClass(i.slidePrevClass);\n            i.loop && 0 === l.length && (l = t.eq(-1)).addClass(i.slidePrevClass), i.loop && (o.hasClass(i.slideDuplicateClass) ? s.children(\".\" + i.slideClass + \":not(.\" + i.slideDuplicateClass + ')[data-swiper-slide-index=\"' + o.attr(\"data-swiper-slide-index\") + '\"]').addClass(i.slideDuplicateNextClass) : s.children(\".\" + i.slideClass + \".\" + i.slideDuplicateClass + '[data-swiper-slide-index=\"' + o.attr(\"data-swiper-slide-index\") + '\"]').addClass(i.slideDuplicateNextClass), l.hasClass(i.slideDuplicateClass) ? s.children(\".\" + i.slideClass + \":not(.\" + i.slideDuplicateClass + ')[data-swiper-slide-index=\"' + l.attr(\"data-swiper-slide-index\") + '\"]').addClass(i.slideDuplicatePrevClass) : s.children(\".\" + i.slideClass + \".\" + i.slideDuplicateClass + '[data-swiper-slide-index=\"' + l.attr(\"data-swiper-slide-index\") + '\"]').addClass(i.slideDuplicatePrevClass))\n        },\n        updateActiveIndex: function(e) {\n            var t, i = this.rtlTranslate ? this.translate : -this.translate,\n                s = this.slidesGrid,\n                a = this.snapGrid,\n                r = this.params,\n                o = this.activeIndex,\n                l = this.realIndex,\n                d = this.snapIndex,\n                h = e;\n            if (void 0 === h) {\n                for (var p = 0; p < s.length; p += 1) void 0 !== s[p + 1] ? i >= s[p] && i < s[p + 1] - (s[p + 1] - s[p]) / 2 ? h = p : i >= s[p] && i < s[p + 1] && (h = p + 1) : i >= s[p] && (h = p);\n                r.normalizeSlideIndex && (h < 0 || void 0 === h) && (h = 0)\n            }\n            if ((t = a.indexOf(i) >= 0 ? a.indexOf(i) : Math.floor(h / r.slidesPerGroup)) >= a.length && (t = a.length - 1), h !== o) {\n                var c = parseInt(this.slides.eq(h).attr(\"data-swiper-slide-index\") || h, 10);\n                n.extend(this, { snapIndex: t, realIndex: c, previousIndex: o, activeIndex: h }), this.emit(\"activeIndexChange\"), this.emit(\"snapIndexChange\"), l !== c && this.emit(\"realIndexChange\"), (this.initialized || this.runCallbacksOnInit) && this.emit(\"slideChange\")\n            } else t !== d && (this.snapIndex = t, this.emit(\"snapIndexChange\"))\n        },\n        updateClickedSlide: function(e) {\n            var t = this.params,\n                i = s(e.target).closest(\".\" + t.slideClass)[0],\n                a = !1;\n            if (i)\n                for (var r = 0; r < this.slides.length; r += 1) this.slides[r] === i && (a = !0);\n            if (!i || !a) return this.clickedSlide = void 0, void(this.clickedIndex = void 0);\n            this.clickedSlide = i, this.virtual && this.params.virtual.enabled ? this.clickedIndex = parseInt(s(i).attr(\"data-swiper-slide-index\"), 10) : this.clickedIndex = s(i).index(), t.slideToClickedSlide && void 0 !== this.clickedIndex && this.clickedIndex !== this.activeIndex && this.slideToClickedSlide()\n        }\n    };\n    var p = {\n        getTranslate: function(e) {\n            void 0 === e && (e = this.isHorizontal() ? \"x\" : \"y\");\n            var t = this.params,\n                i = this.rtlTranslate,\n                s = this.translate,\n                a = this.$wrapperEl;\n            if (t.virtualTranslate) return i ? -s : s;\n            if (t.cssMode) return s;\n            var r = n.getTranslate(a[0], e);\n            return i && (r = -r), r || 0\n        },\n        setTranslate: function(e, t) {\n            var i = this.rtlTranslate,\n                s = this.params,\n                a = this.$wrapperEl,\n                r = this.wrapperEl,\n                n = this.progress,\n                o = 0,\n                l = 0;\n            this.isHorizontal() ? o = i ? -e : e : l = e, s.roundLengths && (o = Math.floor(o), l = Math.floor(l)), s.cssMode ? r[this.isHorizontal() ? \"scrollLeft\" : \"scrollTop\"] = this.isHorizontal() ? -o : -l : s.virtualTranslate || a.transform(\"translate3d(\" + o + \"px, \" + l + \"px, 0px)\"), this.previousTranslate = this.translate, this.translate = this.isHorizontal() ? o : l;\n            var d = this.maxTranslate() - this.minTranslate();\n            (0 === d ? 0 : (e - this.minTranslate()) / d) !== n && this.updateProgress(e), this.emit(\"setTranslate\", this.translate, t)\n        },\n        minTranslate: function() { return -this.snapGrid[0] },\n        maxTranslate: function() { return -this.snapGrid[this.snapGrid.length - 1] },\n        translateTo: function(e, t, i, s, a) {\n            var r;\n            void 0 === e && (e = 0), void 0 === t && (t = this.params.speed), void 0 === i && (i = !0), void 0 === s && (s = !0);\n            var n = this,\n                o = n.params,\n                l = n.wrapperEl;\n            if (n.animating && o.preventInteractionOnTransition) return !1;\n            var d, h = n.minTranslate(),\n                p = n.maxTranslate();\n            if (d = s && e > h ? h : s && e < p ? p : e, n.updateProgress(d), o.cssMode) { var c = n.isHorizontal(); return 0 === t ? l[c ? \"scrollLeft\" : \"scrollTop\"] = -d : l.scrollTo ? l.scrollTo(((r = {})[c ? \"left\" : \"top\"] = -d, r.behavior = \"smooth\", r)) : l[c ? \"scrollLeft\" : \"scrollTop\"] = -d, !0 }\n            return 0 === t ? (n.setTransition(0), n.setTranslate(d), i && (n.emit(\"beforeTransitionStart\", t, a), n.emit(\"transitionEnd\"))) : (n.setTransition(t), n.setTranslate(d), i && (n.emit(\"beforeTransitionStart\", t, a), n.emit(\"transitionStart\")), n.animating || (n.animating = !0, n.onTranslateToWrapperTransitionEnd || (n.onTranslateToWrapperTransitionEnd = function(e) { n && !n.destroyed && e.target === this && (n.$wrapperEl[0].removeEventListener(\"transitionend\", n.onTranslateToWrapperTransitionEnd), n.$wrapperEl[0].removeEventListener(\"webkitTransitionEnd\", n.onTranslateToWrapperTransitionEnd), n.onTranslateToWrapperTransitionEnd = null, delete n.onTranslateToWrapperTransitionEnd, i && n.emit(\"transitionEnd\")) }), n.$wrapperEl[0].addEventListener(\"transitionend\", n.onTranslateToWrapperTransitionEnd), n.$wrapperEl[0].addEventListener(\"webkitTransitionEnd\", n.onTranslateToWrapperTransitionEnd))), !0\n        }\n    };\n    var c = {\n        setTransition: function(e, t) { this.params.cssMode || this.$wrapperEl.transition(e), this.emit(\"setTransition\", e, t) },\n        transitionStart: function(e, t) {\n            void 0 === e && (e = !0);\n            var i = this.activeIndex,\n                s = this.params,\n                a = this.previousIndex;\n            if (!s.cssMode) {\n                s.autoHeight && this.updateAutoHeight();\n                var r = t;\n                if (r || (r = i > a ? \"next\" : i < a ? \"prev\" : \"reset\"), this.emit(\"transitionStart\"), e && i !== a) {\n                    if (\"reset\" === r) return void this.emit(\"slideResetTransitionStart\");\n                    this.emit(\"slideChangeTransitionStart\"), \"next\" === r ? this.emit(\"slideNextTransitionStart\") : this.emit(\"slidePrevTransitionStart\")\n                }\n            }\n        },\n        transitionEnd: function(e, t) {\n            void 0 === e && (e = !0);\n            var i = this.activeIndex,\n                s = this.previousIndex,\n                a = this.params;\n            if (this.animating = !1, !a.cssMode) {\n                this.setTransition(0);\n                var r = t;\n                if (r || (r = i > s ? \"next\" : i < s ? \"prev\" : \"reset\"), this.emit(\"transitionEnd\"), e && i !== s) {\n                    if (\"reset\" === r) return void this.emit(\"slideResetTransitionEnd\");\n                    this.emit(\"slideChangeTransitionEnd\"), \"next\" === r ? this.emit(\"slideNextTransitionEnd\") : this.emit(\"slidePrevTransitionEnd\")\n                }\n            }\n        }\n    };\n    var u = {\n        slideTo: function(e, t, i, s) {\n            var a;\n            void 0 === e && (e = 0), void 0 === t && (t = this.params.speed), void 0 === i && (i = !0);\n            var r = this,\n                n = e;\n            n < 0 && (n = 0);\n            var o = r.params,\n                l = r.snapGrid,\n                d = r.slidesGrid,\n                h = r.previousIndex,\n                p = r.activeIndex,\n                c = r.rtlTranslate,\n                u = r.wrapperEl;\n            if (r.animating && o.preventInteractionOnTransition) return !1;\n            var v = Math.floor(n / o.slidesPerGroup);\n            v >= l.length && (v = l.length - 1), (p || o.initialSlide || 0) === (h || 0) && i && r.emit(\"beforeSlideChangeStart\");\n            var f, m = -l[v];\n            if (r.updateProgress(m), o.normalizeSlideIndex)\n                for (var g = 0; g < d.length; g += 1) - Math.floor(100 * m) >= Math.floor(100 * d[g]) && (n = g);\n            if (r.initialized && n !== p) { if (!r.allowSlideNext && m < r.translate && m < r.minTranslate()) return !1; if (!r.allowSlidePrev && m > r.translate && m > r.maxTranslate() && (p || 0) !== n) return !1 }\n            if (f = n > p ? \"next\" : n < p ? \"prev\" : \"reset\", c && -m === r.translate || !c && m === r.translate) return r.updateActiveIndex(n), o.autoHeight && r.updateAutoHeight(), r.updateSlidesClasses(), \"slide\" !== o.effect && r.setTranslate(m), \"reset\" !== f && (r.transitionStart(i, f), r.transitionEnd(i, f)), !1;\n            if (o.cssMode) { var b = r.isHorizontal(); return 0 === t ? u[b ? \"scrollLeft\" : \"scrollTop\"] = -m : u.scrollTo ? u.scrollTo(((a = {})[b ? \"left\" : \"top\"] = -m, a.behavior = \"smooth\", a)) : u[b ? \"scrollLeft\" : \"scrollTop\"] = -m, !0 }\n            return 0 === t ? (r.setTransition(0), r.setTranslate(m), r.updateActiveIndex(n), r.updateSlidesClasses(), r.emit(\"beforeTransitionStart\", t, s), r.transitionStart(i, f), r.transitionEnd(i, f)) : (r.setTransition(t), r.setTranslate(m), r.updateActiveIndex(n), r.updateSlidesClasses(), r.emit(\"beforeTransitionStart\", t, s), r.transitionStart(i, f), r.animating || (r.animating = !0, r.onSlideToWrapperTransitionEnd || (r.onSlideToWrapperTransitionEnd = function(e) { r && !r.destroyed && e.target === this && (r.$wrapperEl[0].removeEventListener(\"transitionend\", r.onSlideToWrapperTransitionEnd), r.$wrapperEl[0].removeEventListener(\"webkitTransitionEnd\", r.onSlideToWrapperTransitionEnd), r.onSlideToWrapperTransitionEnd = null, delete r.onSlideToWrapperTransitionEnd, r.transitionEnd(i, f)) }), r.$wrapperEl[0].addEventListener(\"transitionend\", r.onSlideToWrapperTransitionEnd), r.$wrapperEl[0].addEventListener(\"webkitTransitionEnd\", r.onSlideToWrapperTransitionEnd))), !0\n        },\n        slideToLoop: function(e, t, i, s) { void 0 === e && (e = 0), void 0 === t && (t = this.params.speed), void 0 === i && (i = !0); var a = e; return this.params.loop && (a += this.loopedSlides), this.slideTo(a, t, i, s) },\n        slideNext: function(e, t, i) {\n            void 0 === e && (e = this.params.speed), void 0 === t && (t = !0);\n            var s = this.params,\n                a = this.animating;\n            return s.loop ? !a && (this.loopFix(), this._clientLeft = this.$wrapperEl[0].clientLeft, this.slideTo(this.activeIndex + s.slidesPerGroup, e, t, i)) : this.slideTo(this.activeIndex + s.slidesPerGroup, e, t, i)\n        },\n        slidePrev: function(e, t, i) {\n            void 0 === e && (e = this.params.speed), void 0 === t && (t = !0);\n            var s = this.params,\n                a = this.animating,\n                r = this.snapGrid,\n                n = this.slidesGrid,\n                o = this.rtlTranslate;\n            if (s.loop) {\n                if (a) return !1;\n                this.loopFix(), this._clientLeft = this.$wrapperEl[0].clientLeft\n            }\n\n            function l(e) { return e < 0 ? -Math.floor(Math.abs(e)) : Math.floor(e) }\n            var d, h = l(o ? this.translate : -this.translate),\n                p = r.map((function(e) { return l(e) })),\n                c = (n.map((function(e) { return l(e) })), r[p.indexOf(h)], r[p.indexOf(h) - 1]);\n            return void 0 === c && s.cssMode && r.forEach((function(e) {!c && h >= e && (c = e) })), void 0 !== c && (d = n.indexOf(c)) < 0 && (d = this.activeIndex - 1), this.slideTo(d, e, t, i)\n        },\n        slideReset: function(e, t, i) { return void 0 === e && (e = this.params.speed), void 0 === t && (t = !0), this.slideTo(this.activeIndex, e, t, i) },\n        slideToClosest: function(e, t, i, s) {\n            void 0 === e && (e = this.params.speed), void 0 === t && (t = !0), void 0 === s && (s = .5);\n            var a = this.activeIndex,\n                r = Math.floor(a / this.params.slidesPerGroup),\n                n = this.rtlTranslate ? this.translate : -this.translate;\n            if (n >= this.snapGrid[r]) {\n                var o = this.snapGrid[r];\n                n - o > (this.snapGrid[r + 1] - o) * s && (a += this.params.slidesPerGroup)\n            } else {\n                var l = this.snapGrid[r - 1];\n                n - l <= (this.snapGrid[r] - l) * s && (a -= this.params.slidesPerGroup)\n            }\n            return a = Math.max(a, 0), a = Math.min(a, this.snapGrid.length - 1), this.slideTo(a, e, t, i)\n        },\n        slideToClickedSlide: function() {\n            var e, t = this,\n                i = t.params,\n                a = t.$wrapperEl,\n                r = \"auto\" === i.slidesPerView ? t.slidesPerViewDynamic() : i.slidesPerView,\n                o = t.clickedIndex;\n            if (i.loop) {\n                if (t.animating) return;\n                e = parseInt(s(t.clickedSlide).attr(\"data-swiper-slide-index\"), 10), i.centeredSlides ? o < t.loopedSlides - r / 2 || o > t.slides.length - t.loopedSlides + r / 2 ? (t.loopFix(), o = a.children(\".\" + i.slideClass + '[data-swiper-slide-index=\"' + e + '\"]:not(.' + i.slideDuplicateClass + \")\").eq(0).index(), n.nextTick((function() { t.slideTo(o) }))) : t.slideTo(o) : o > t.slides.length - r ? (t.loopFix(), o = a.children(\".\" + i.slideClass + '[data-swiper-slide-index=\"' + e + '\"]:not(.' + i.slideDuplicateClass + \")\").eq(0).index(), n.nextTick((function() { t.slideTo(o) }))) : t.slideTo(o)\n            } else t.slideTo(o)\n        }\n    };\n    var v = {\n        loopCreate: function() {\n            var t = this,\n                i = t.params,\n                a = t.$wrapperEl;\n            a.children(\".\" + i.slideClass + \".\" + i.slideDuplicateClass).remove();\n            var r = a.children(\".\" + i.slideClass);\n            if (i.loopFillGroupWithBlank) {\n                var n = i.slidesPerGroup - r.length % i.slidesPerGroup;\n                if (n !== i.slidesPerGroup) {\n                    for (var o = 0; o < n; o += 1) {\n                        var l = s(e.createElement(\"div\")).addClass(i.slideClass + \" \" + i.slideBlankClass);\n                        a.append(l)\n                    }\n                    r = a.children(\".\" + i.slideClass)\n                }\n            }\n            \"auto\" !== i.slidesPerView || i.loopedSlides || (i.loopedSlides = r.length), t.loopedSlides = Math.ceil(parseFloat(i.loopedSlides || i.slidesPerView, 10)), t.loopedSlides += i.loopAdditionalSlides, t.loopedSlides > r.length && (t.loopedSlides = r.length);\n            var d = [],\n                h = [];\n            r.each((function(e, i) {\n                var a = s(i);\n                e < t.loopedSlides && h.push(i), e < r.length && e >= r.length - t.loopedSlides && d.push(i), a.attr(\"data-swiper-slide-index\", e)\n            }));\n            for (var p = 0; p < h.length; p += 1) a.append(s(h[p].cloneNode(!0)).addClass(i.slideDuplicateClass));\n            for (var c = d.length - 1; c >= 0; c -= 1) a.prepend(s(d[c].cloneNode(!0)).addClass(i.slideDuplicateClass))\n        },\n        loopFix: function() {\n            this.emit(\"beforeLoopFix\");\n            var e, t = this.activeIndex,\n                i = this.slides,\n                s = this.loopedSlides,\n                a = this.allowSlidePrev,\n                r = this.allowSlideNext,\n                n = this.snapGrid,\n                o = this.rtlTranslate;\n            this.allowSlidePrev = !0, this.allowSlideNext = !0;\n            var l = -n[t] - this.getTranslate();\n            if (t < s) e = i.length - 3 * s + t, e += s, this.slideTo(e, 0, !1, !0) && 0 !== l && this.setTranslate((o ? -this.translate : this.translate) - l);\n            else if (t >= i.length - s) { e = -i.length + t + s, e += s, this.slideTo(e, 0, !1, !0) && 0 !== l && this.setTranslate((o ? -this.translate : this.translate) - l) }\n            this.allowSlidePrev = a, this.allowSlideNext = r, this.emit(\"loopFix\")\n        },\n        loopDestroy: function() {\n            var e = this.$wrapperEl,\n                t = this.params,\n                i = this.slides;\n            e.children(\".\" + t.slideClass + \".\" + t.slideDuplicateClass + \",.\" + t.slideClass + \".\" + t.slideBlankClass).remove(), i.removeAttr(\"data-swiper-slide-index\")\n        }\n    };\n    var f = {\n        setGrabCursor: function(e) {\n            if (!(o.touch || !this.params.simulateTouch || this.params.watchOverflow && this.isLocked || this.params.cssMode)) {\n                var t = this.el;\n                t.style.cursor = \"move\", t.style.cursor = e ? \"-webkit-grabbing\" : \"-webkit-grab\", t.style.cursor = e ? \"-moz-grabbin\" : \"-moz-grab\", t.style.cursor = e ? \"grabbing\" : \"grab\"\n            }\n        },\n        unsetGrabCursor: function() { o.touch || this.params.watchOverflow && this.isLocked || this.params.cssMode || (this.el.style.cursor = \"\") }\n    };\n    var m, g, b, w, y, x, T, E, S, C, M, P, z, k, $, L = {\n            appendSlide: function(e) {\n                var t = this.$wrapperEl,\n                    i = this.params;\n                if (i.loop && this.loopDestroy(), \"object\" == typeof e && \"length\" in e)\n                    for (var s = 0; s < e.length; s += 1) e[s] && t.append(e[s]);\n                else t.append(e);\n                i.loop && this.loopCreate(), i.observer && o.observer || this.update()\n            },\n            prependSlide: function(e) {\n                var t = this.params,\n                    i = this.$wrapperEl,\n                    s = this.activeIndex;\n                t.loop && this.loopDestroy();\n                var a = s + 1;\n                if (\"object\" == typeof e && \"length\" in e) {\n                    for (var r = 0; r < e.length; r += 1) e[r] && i.prepend(e[r]);\n                    a = s + e.length\n                } else i.prepend(e);\n                t.loop && this.loopCreate(), t.observer && o.observer || this.update(), this.slideTo(a, 0, !1)\n            },\n            addSlide: function(e, t) {\n                var i = this.$wrapperEl,\n                    s = this.params,\n                    a = this.activeIndex;\n                s.loop && (a -= this.loopedSlides, this.loopDestroy(), this.slides = i.children(\".\" + s.slideClass));\n                var r = this.slides.length;\n                if (e <= 0) this.prependSlide(t);\n                else if (e >= r) this.appendSlide(t);\n                else {\n                    for (var n = a > e ? a + 1 : a, l = [], d = r - 1; d >= e; d -= 1) {\n                        var h = this.slides.eq(d);\n                        h.remove(), l.unshift(h)\n                    }\n                    if (\"object\" == typeof t && \"length\" in t) {\n                        for (var p = 0; p < t.length; p += 1) t[p] && i.append(t[p]);\n                        n = a > e ? a + t.length : a\n                    } else i.append(t);\n                    for (var c = 0; c < l.length; c += 1) i.append(l[c]);\n                    s.loop && this.loopCreate(), s.observer && o.observer || this.update(), s.loop ? this.slideTo(n + this.loopedSlides, 0, !1) : this.slideTo(n, 0, !1)\n                }\n            },\n            removeSlide: function(e) {\n                var t = this.params,\n                    i = this.$wrapperEl,\n                    s = this.activeIndex;\n                t.loop && (s -= this.loopedSlides, this.loopDestroy(), this.slides = i.children(\".\" + t.slideClass));\n                var a, r = s;\n                if (\"object\" == typeof e && \"length\" in e) {\n                    for (var n = 0; n < e.length; n += 1) a = e[n], this.slides[a] && this.slides.eq(a).remove(), a < r && (r -= 1);\n                    r = Math.max(r, 0)\n                } else a = e, this.slides[a] && this.slides.eq(a).remove(), a < r && (r -= 1), r = Math.max(r, 0);\n                t.loop && this.loopCreate(), t.observer && o.observer || this.update(), t.loop ? this.slideTo(r + this.loopedSlides, 0, !1) : this.slideTo(r, 0, !1)\n            },\n            removeAllSlides: function() {\n                for (var e = [], t = 0; t < this.slides.length; t += 1) e.push(t);\n                this.removeSlide(e)\n            }\n        },\n        I = (m = t.navigator.platform, g = t.navigator.userAgent, b = { ios: !1, android: !1, androidChrome: !1, desktop: !1, iphone: !1, ipod: !1, ipad: !1, edge: !1, ie: !1, firefox: !1, macos: !1, windows: !1, cordova: !(!t.cordova && !t.phonegap), phonegap: !(!t.cordova && !t.phonegap), electron: !1 }, w = t.screen.width, y = t.screen.height, x = g.match(/(Android);?[\\s\\/]+([\\d.]+)?/), T = g.match(/(iPad).*OS\\s([\\d_]+)/), E = g.match(/(iPod)(.*OS\\s([\\d_]+))?/), S = !T && g.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/), C = g.indexOf(\"MSIE \") >= 0 || g.indexOf(\"Trident/\") >= 0, M = g.indexOf(\"Edge/\") >= 0, P = g.indexOf(\"Gecko/\") >= 0 && g.indexOf(\"Firefox/\") >= 0, z = \"Win32\" === m, k = g.toLowerCase().indexOf(\"electron\") >= 0, $ = \"MacIntel\" === m, !T && $ && o.touch && (1024 === w && 1366 === y || 834 === w && 1194 === y || 834 === w && 1112 === y || 768 === w && 1024 === y) && (T = g.match(/(Version)\\/([\\d.]+)/), $ = !1), b.ie = C, b.edge = M, b.firefox = P, x && !z && (b.os = \"android\", b.osVersion = x[2], b.android = !0, b.androidChrome = g.toLowerCase().indexOf(\"chrome\") >= 0), (T || S || E) && (b.os = \"ios\", b.ios = !0), S && !E && (b.osVersion = S[2].replace(/_/g, \".\"), b.iphone = !0), T && (b.osVersion = T[2].replace(/_/g, \".\"), b.ipad = !0), E && (b.osVersion = E[3] ? E[3].replace(/_/g, \".\") : null, b.ipod = !0), b.ios && b.osVersion && g.indexOf(\"Version/\") >= 0 && \"10\" === b.osVersion.split(\".\")[0] && (b.osVersion = g.toLowerCase().split(\"version/\")[1].split(\" \")[0]), b.webView = !(!(S || T || E) || !g.match(/.*AppleWebKit(?!.*Safari)/i) && !t.navigator.standalone) || t.matchMedia && t.matchMedia(\"(display-mode: standalone)\").matches, b.webview = b.webView, b.standalone = b.webView, b.desktop = !(b.ios || b.android) || k, b.desktop && (b.electron = k, b.macos = $, b.windows = z, b.macos && (b.os = \"macos\"), b.windows && (b.os = \"windows\")), b.pixelRatio = t.devicePixelRatio || 1, b);\n\n    function D(i) {\n        var a = this.touchEventsData,\n            r = this.params,\n            o = this.touches;\n        if (!this.animating || !r.preventInteractionOnTransition) {\n            var l = i;\n            l.originalEvent && (l = l.originalEvent);\n            var d = s(l.target);\n            if ((\"wrapper\" !== r.touchEventsTarget || d.closest(this.wrapperEl).length) && (a.isTouchEvent = \"touchstart\" === l.type, (a.isTouchEvent || !(\"which\" in l) || 3 !== l.which) && !(!a.isTouchEvent && \"button\" in l && l.button > 0 || a.isTouched && a.isMoved)))\n                if (r.noSwiping && d.closest(r.noSwipingSelector ? r.noSwipingSelector : \".\" + r.noSwipingClass)[0]) this.allowClick = !0;\n                else if (!r.swipeHandler || d.closest(r.swipeHandler)[0]) {\n                o.currentX = \"touchstart\" === l.type ? l.targetTouches[0].pageX : l.pageX, o.currentY = \"touchstart\" === l.type ? l.targetTouches[0].pageY : l.pageY;\n                var h = o.currentX,\n                    p = o.currentY,\n                    c = r.edgeSwipeDetection || r.iOSEdgeSwipeDetection,\n                    u = r.edgeSwipeThreshold || r.iOSEdgeSwipeThreshold;\n                if (!c || !(h <= u || h >= t.screen.width - u)) {\n                    if (n.extend(a, { isTouched: !0, isMoved: !1, allowTouchCallbacks: !0, isScrolling: void 0, startMoving: void 0 }), o.startX = h, o.startY = p, a.touchStartTime = n.now(), this.allowClick = !0, this.updateSize(), this.swipeDirection = void 0, r.threshold > 0 && (a.allowThresholdMove = !1), \"touchstart\" !== l.type) {\n                        var v = !0;\n                        d.is(a.formElements) && (v = !1), e.activeElement && s(e.activeElement).is(a.formElements) && e.activeElement !== d[0] && e.activeElement.blur();\n                        var f = v && this.allowTouchMove && r.touchStartPreventDefault;\n                        (r.touchStartForcePreventDefault || f) && l.preventDefault()\n                    }\n                    this.emit(\"touchStart\", l)\n                }\n            }\n        }\n    }\n\n    function O(t) {\n        var i = this.touchEventsData,\n            a = this.params,\n            r = this.touches,\n            o = this.rtlTranslate,\n            l = t;\n        if (l.originalEvent && (l = l.originalEvent), i.isTouched) {\n            if (!i.isTouchEvent || \"mousemove\" !== l.type) {\n                var d = \"touchmove\" === l.type && l.targetTouches && (l.targetTouches[0] || l.changedTouches[0]),\n                    h = \"touchmove\" === l.type ? d.pageX : l.pageX,\n                    p = \"touchmove\" === l.type ? d.pageY : l.pageY;\n                if (l.preventedByNestedSwiper) return r.startX = h, void(r.startY = p);\n                if (!this.allowTouchMove) return this.allowClick = !1, void(i.isTouched && (n.extend(r, { startX: h, startY: p, currentX: h, currentY: p }), i.touchStartTime = n.now()));\n                if (i.isTouchEvent && a.touchReleaseOnEdges && !a.loop)\n                    if (this.isVertical()) { if (p < r.startY && this.translate <= this.maxTranslate() || p > r.startY && this.translate >= this.minTranslate()) return i.isTouched = !1, void(i.isMoved = !1) } else if (h < r.startX && this.translate <= this.maxTranslate() || h > r.startX && this.translate >= this.minTranslate()) return;\n                if (i.isTouchEvent && e.activeElement && l.target === e.activeElement && s(l.target).is(i.formElements)) return i.isMoved = !0, void(this.allowClick = !1);\n                if (i.allowTouchCallbacks && this.emit(\"touchMove\", l), !(l.targetTouches && l.targetTouches.length > 1)) {\n                    r.currentX = h, r.currentY = p;\n                    var c = r.currentX - r.startX,\n                        u = r.currentY - r.startY;\n                    if (!(this.params.threshold && Math.sqrt(Math.pow(c, 2) + Math.pow(u, 2)) < this.params.threshold)) {\n                        var v;\n                        if (void 0 === i.isScrolling) this.isHorizontal() && r.currentY === r.startY || this.isVertical() && r.currentX === r.startX ? i.isScrolling = !1 : c * c + u * u >= 25 && (v = 180 * Math.atan2(Math.abs(u), Math.abs(c)) / Math.PI, i.isScrolling = this.isHorizontal() ? v > a.touchAngle : 90 - v > a.touchAngle);\n                        if (i.isScrolling && this.emit(\"touchMoveOpposite\", l), void 0 === i.startMoving && (r.currentX === r.startX && r.currentY === r.startY || (i.startMoving = !0)), i.isScrolling) i.isTouched = !1;\n                        else if (i.startMoving) {\n                            this.allowClick = !1, a.cssMode || l.preventDefault(), a.touchMoveStopPropagation && !a.nested && l.stopPropagation(), i.isMoved || (a.loop && this.loopFix(), i.startTranslate = this.getTranslate(), this.setTransition(0), this.animating && this.$wrapperEl.trigger(\"webkitTransitionEnd transitionend\"), i.allowMomentumBounce = !1, !a.grabCursor || !0 !== this.allowSlideNext && !0 !== this.allowSlidePrev || this.setGrabCursor(!0), this.emit(\"sliderFirstMove\", l)), this.emit(\"sliderMove\", l), i.isMoved = !0;\n                            var f = this.isHorizontal() ? c : u;\n                            r.diff = f, f *= a.touchRatio, o && (f = -f), this.swipeDirection = f > 0 ? \"prev\" : \"next\", i.currentTranslate = f + i.startTranslate;\n                            var m = !0,\n                                g = a.resistanceRatio;\n                            if (a.touchReleaseOnEdges && (g = 0), f > 0 && i.currentTranslate > this.minTranslate() ? (m = !1, a.resistance && (i.currentTranslate = this.minTranslate() - 1 + Math.pow(-this.minTranslate() + i.startTranslate + f, g))) : f < 0 && i.currentTranslate < this.maxTranslate() && (m = !1, a.resistance && (i.currentTranslate = this.maxTranslate() + 1 - Math.pow(this.maxTranslate() - i.startTranslate - f, g))), m && (l.preventedByNestedSwiper = !0), !this.allowSlideNext && \"next\" === this.swipeDirection && i.currentTranslate < i.startTranslate && (i.currentTranslate = i.startTranslate), !this.allowSlidePrev && \"prev\" === this.swipeDirection && i.currentTranslate > i.startTranslate && (i.currentTranslate = i.startTranslate), a.threshold > 0) { if (!(Math.abs(f) > a.threshold || i.allowThresholdMove)) return void(i.currentTranslate = i.startTranslate); if (!i.allowThresholdMove) return i.allowThresholdMove = !0, r.startX = r.currentX, r.startY = r.currentY, i.currentTranslate = i.startTranslate, void(r.diff = this.isHorizontal() ? r.currentX - r.startX : r.currentY - r.startY) }\n                            a.followFinger && !a.cssMode && ((a.freeMode || a.watchSlidesProgress || a.watchSlidesVisibility) && (this.updateActiveIndex(), this.updateSlidesClasses()), a.freeMode && (0 === i.velocities.length && i.velocities.push({ position: r[this.isHorizontal() ? \"startX\" : \"startY\"], time: i.touchStartTime }), i.velocities.push({ position: r[this.isHorizontal() ? \"currentX\" : \"currentY\"], time: n.now() })), this.updateProgress(i.currentTranslate), this.setTranslate(i.currentTranslate))\n                        }\n                    }\n                }\n            }\n        } else i.startMoving && i.isScrolling && this.emit(\"touchMoveOpposite\", l)\n    }\n\n    function A(e) {\n        var t = this,\n            i = t.touchEventsData,\n            s = t.params,\n            a = t.touches,\n            r = t.rtlTranslate,\n            o = t.$wrapperEl,\n            l = t.slidesGrid,\n            d = t.snapGrid,\n            h = e;\n        if (h.originalEvent && (h = h.originalEvent), i.allowTouchCallbacks && t.emit(\"touchEnd\", h), i.allowTouchCallbacks = !1, !i.isTouched) return i.isMoved && s.grabCursor && t.setGrabCursor(!1), i.isMoved = !1, void(i.startMoving = !1);\n        s.grabCursor && i.isMoved && i.isTouched && (!0 === t.allowSlideNext || !0 === t.allowSlidePrev) && t.setGrabCursor(!1);\n        var p, c = n.now(),\n            u = c - i.touchStartTime;\n        if (t.allowClick && (t.updateClickedSlide(h), t.emit(\"tap click\", h), u < 300 && c - i.lastClickTime < 300 && t.emit(\"doubleTap doubleClick\", h)), i.lastClickTime = n.now(), n.nextTick((function() { t.destroyed || (t.allowClick = !0) })), !i.isTouched || !i.isMoved || !t.swipeDirection || 0 === a.diff || i.currentTranslate === i.startTranslate) return i.isTouched = !1, i.isMoved = !1, void(i.startMoving = !1);\n        if (i.isTouched = !1, i.isMoved = !1, i.startMoving = !1, p = s.followFinger ? r ? t.translate : -t.translate : -i.currentTranslate, !s.cssMode)\n            if (s.freeMode) {\n                if (p < -t.minTranslate()) return void t.slideTo(t.activeIndex);\n                if (p > -t.maxTranslate()) return void(t.slides.length < d.length ? t.slideTo(d.length - 1) : t.slideTo(t.slides.length - 1));\n                if (s.freeModeMomentum) {\n                    if (i.velocities.length > 1) {\n                        var v = i.velocities.pop(),\n                            f = i.velocities.pop(),\n                            m = v.position - f.position,\n                            g = v.time - f.time;\n                        t.velocity = m / g, t.velocity /= 2, Math.abs(t.velocity) < s.freeModeMinimumVelocity && (t.velocity = 0), (g > 150 || n.now() - v.time > 300) && (t.velocity = 0)\n                    } else t.velocity = 0;\n                    t.velocity *= s.freeModeMomentumVelocityRatio, i.velocities.length = 0;\n                    var b = 1e3 * s.freeModeMomentumRatio,\n                        w = t.velocity * b,\n                        y = t.translate + w;\n                    r && (y = -y);\n                    var x, T, E = !1,\n                        S = 20 * Math.abs(t.velocity) * s.freeModeMomentumBounceRatio;\n                    if (y < t.maxTranslate()) s.freeModeMomentumBounce ? (y + t.maxTranslate() < -S && (y = t.maxTranslate() - S), x = t.maxTranslate(), E = !0, i.allowMomentumBounce = !0) : y = t.maxTranslate(), s.loop && s.centeredSlides && (T = !0);\n                    else if (y > t.minTranslate()) s.freeModeMomentumBounce ? (y - t.minTranslate() > S && (y = t.minTranslate() + S), x = t.minTranslate(), E = !0, i.allowMomentumBounce = !0) : y = t.minTranslate(), s.loop && s.centeredSlides && (T = !0);\n                    else if (s.freeModeSticky) {\n                        for (var C, M = 0; M < d.length; M += 1)\n                            if (d[M] > -y) { C = M; break }\n                        y = -(y = Math.abs(d[C] - y) < Math.abs(d[C - 1] - y) || \"next\" === t.swipeDirection ? d[C] : d[C - 1])\n                    }\n                    if (T && t.once(\"transitionEnd\", (function() { t.loopFix() })), 0 !== t.velocity) {\n                        if (b = r ? Math.abs((-y - t.translate) / t.velocity) : Math.abs((y - t.translate) / t.velocity), s.freeModeSticky) {\n                            var P = Math.abs((r ? -y : y) - t.translate),\n                                z = t.slidesSizesGrid[t.activeIndex];\n                            b = P < z ? s.speed : P < 2 * z ? 1.5 * s.speed : 2.5 * s.speed\n                        }\n                    } else if (s.freeModeSticky) return void t.slideToClosest();\n                    s.freeModeMomentumBounce && E ? (t.updateProgress(x), t.setTransition(b), t.setTranslate(y), t.transitionStart(!0, t.swipeDirection), t.animating = !0, o.transitionEnd((function() { t && !t.destroyed && i.allowMomentumBounce && (t.emit(\"momentumBounce\"), t.setTransition(s.speed), t.setTranslate(x), o.transitionEnd((function() { t && !t.destroyed && t.transitionEnd() }))) }))) : t.velocity ? (t.updateProgress(y), t.setTransition(b), t.setTranslate(y), t.transitionStart(!0, t.swipeDirection), t.animating || (t.animating = !0, o.transitionEnd((function() { t && !t.destroyed && t.transitionEnd() })))) : t.updateProgress(y), t.updateActiveIndex(), t.updateSlidesClasses()\n                } else if (s.freeModeSticky) return void t.slideToClosest();\n                (!s.freeModeMomentum || u >= s.longSwipesMs) && (t.updateProgress(), t.updateActiveIndex(), t.updateSlidesClasses())\n            } else {\n                for (var k = 0, $ = t.slidesSizesGrid[0], L = 0; L < l.length; L += s.slidesPerGroup) void 0 !== l[L + s.slidesPerGroup] ? p >= l[L] && p < l[L + s.slidesPerGroup] && (k = L, $ = l[L + s.slidesPerGroup] - l[L]) : p >= l[L] && (k = L, $ = l[l.length - 1] - l[l.length - 2]);\n                var I = (p - l[k]) / $;\n                if (u > s.longSwipesMs) { if (!s.longSwipes) return void t.slideTo(t.activeIndex); \"next\" === t.swipeDirection && (I >= s.longSwipesRatio ? t.slideTo(k + s.slidesPerGroup) : t.slideTo(k)), \"prev\" === t.swipeDirection && (I > 1 - s.longSwipesRatio ? t.slideTo(k + s.slidesPerGroup) : t.slideTo(k)) } else {\n                    if (!s.shortSwipes) return void t.slideTo(t.activeIndex);\n                    t.navigation && (h.target === t.navigation.nextEl || h.target === t.navigation.prevEl) ? h.target === t.navigation.nextEl ? t.slideTo(k + s.slidesPerGroup) : t.slideTo(k) : (\"next\" === t.swipeDirection && t.slideTo(k + s.slidesPerGroup), \"prev\" === t.swipeDirection && t.slideTo(k))\n                }\n            }\n    }\n\n    function G() {\n        var e = this.params,\n            t = this.el;\n        if (!t || 0 !== t.offsetWidth) {\n            e.breakpoints && this.setBreakpoint();\n            var i = this.allowSlideNext,\n                s = this.allowSlidePrev,\n                a = this.snapGrid;\n            this.allowSlideNext = !0, this.allowSlidePrev = !0, this.updateSize(), this.updateSlides(), this.updateSlidesClasses(), (\"auto\" === e.slidesPerView || e.slidesPerView > 1) && this.isEnd && !this.params.centeredSlides ? this.slideTo(this.slides.length - 1, 0, !1, !0) : this.slideTo(this.activeIndex, 0, !1, !0), this.autoplay && this.autoplay.running && this.autoplay.paused && this.autoplay.run(), this.allowSlidePrev = s, this.allowSlideNext = i, this.params.watchOverflow && a !== this.snapGrid && this.checkOverflow()\n        }\n    }\n\n    function B(e) { this.allowClick || (this.params.preventClicks && e.preventDefault(), this.params.preventClicksPropagation && this.animating && (e.stopPropagation(), e.stopImmediatePropagation())) }\n\n    function H() {\n        var e = this.wrapperEl;\n        this.previousTranslate = this.translate, this.translate = this.isHorizontal() ? -e.scrollLeft : -e.scrollTop, -0 === this.translate && (this.translate = 0), this.updateActiveIndex(), this.updateSlidesClasses();\n        var t = this.maxTranslate() - this.minTranslate();\n        (0 === t ? 0 : (this.translate - this.minTranslate()) / t) !== this.progress && this.updateProgress(this.translate), this.emit(\"setTranslate\", this.translate, !1)\n    }\n    var N = !1;\n\n    function X() {}\n    var V = { init: !0, direction: \"horizontal\", touchEventsTarget: \"container\", initialSlide: 0, speed: 300, cssMode: !1, updateOnWindowResize: !0, preventInteractionOnTransition: !1, edgeSwipeDetection: !1, edgeSwipeThreshold: 20, freeMode: !1, freeModeMomentum: !0, freeModeMomentumRatio: 1, freeModeMomentumBounce: !0, freeModeMomentumBounceRatio: 1, freeModeMomentumVelocityRatio: 1, freeModeSticky: !1, freeModeMinimumVelocity: .02, autoHeight: !1, setWrapperSize: !1, virtualTranslate: !1, effect: \"slide\", breakpoints: void 0, spaceBetween: 0, slidesPerView: 1, slidesPerColumn: 1, slidesPerColumnFill: \"column\", slidesPerGroup: 1, centeredSlides: !1, centeredSlidesBounds: !1, slidesOffsetBefore: 0, slidesOffsetAfter: 0, normalizeSlideIndex: !0, centerInsufficientSlides: !1, watchOverflow: !1, roundLengths: !1, touchRatio: 1, touchAngle: 45, simulateTouch: !0, shortSwipes: !0, longSwipes: !0, longSwipesRatio: .5, longSwipesMs: 300, followFinger: !0, allowTouchMove: !0, threshold: 0, touchMoveStopPropagation: !1, touchStartPreventDefault: !0, touchStartForcePreventDefault: !1, touchReleaseOnEdges: !1, uniqueNavElements: !0, resistance: !0, resistanceRatio: .85, watchSlidesProgress: !1, watchSlidesVisibility: !1, grabCursor: !1, preventClicks: !0, preventClicksPropagation: !0, slideToClickedSlide: !1, preloadImages: !0, updateOnImagesReady: !0, loop: !1, loopAdditionalSlides: 0, loopedSlides: null, loopFillGroupWithBlank: !1, allowSlidePrev: !0, allowSlideNext: !0, swipeHandler: null, noSwiping: !0, noSwipingClass: \"swiper-no-swiping\", noSwipingSelector: null, passiveListeners: !0, containerModifierClass: \"swiper-container-\", slideClass: \"swiper-slide\", slideBlankClass: \"swiper-slide-invisible-blank\", slideActiveClass: \"swiper-slide-active\", slideDuplicateActiveClass: \"swiper-slide-duplicate-active\", slideVisibleClass: \"swiper-slide-visible\", slideDuplicateClass: \"swiper-slide-duplicate\", slideNextClass: \"swiper-slide-next\", slideDuplicateNextClass: \"swiper-slide-duplicate-next\", slidePrevClass: \"swiper-slide-prev\", slideDuplicatePrevClass: \"swiper-slide-duplicate-prev\", wrapperClass: \"swiper-wrapper\", runCallbacksOnInit: !0 },\n        Y = {\n            update: h,\n            translate: p,\n            transition: c,\n            slide: u,\n            loop: v,\n            grabCursor: f,\n            manipulation: L,\n            events: {\n                attachEvents: function() {\n                    var t = this.params,\n                        i = this.touchEvents,\n                        s = this.el,\n                        a = this.wrapperEl;\n                    this.onTouchStart = D.bind(this), this.onTouchMove = O.bind(this), this.onTouchEnd = A.bind(this), t.cssMode && (this.onScroll = H.bind(this)), this.onClick = B.bind(this);\n                    var r = !!t.nested;\n                    if (!o.touch && o.pointerEvents) s.addEventListener(i.start, this.onTouchStart, !1), e.addEventListener(i.move, this.onTouchMove, r), e.addEventListener(i.end, this.onTouchEnd, !1);\n                    else {\n                        if (o.touch) {\n                            var n = !(\"touchstart\" !== i.start || !o.passiveListener || !t.passiveListeners) && { passive: !0, capture: !1 };\n                            s.addEventListener(i.start, this.onTouchStart, n), s.addEventListener(i.move, this.onTouchMove, o.passiveListener ? { passive: !1, capture: r } : r), s.addEventListener(i.end, this.onTouchEnd, n), i.cancel && s.addEventListener(i.cancel, this.onTouchEnd, n), N || (e.addEventListener(\"touchstart\", X), N = !0)\n                        }(t.simulateTouch && !I.ios && !I.android || t.simulateTouch && !o.touch && I.ios) && (s.addEventListener(\"mousedown\", this.onTouchStart, !1), e.addEventListener(\"mousemove\", this.onTouchMove, r), e.addEventListener(\"mouseup\", this.onTouchEnd, !1))\n                    }(t.preventClicks || t.preventClicksPropagation) && s.addEventListener(\"click\", this.onClick, !0), t.cssMode && a.addEventListener(\"scroll\", this.onScroll), t.updateOnWindowResize ? this.on(I.ios || I.android ? \"resize orientationchange observerUpdate\" : \"resize observerUpdate\", G, !0) : this.on(\"observerUpdate\", G, !0)\n                },\n                detachEvents: function() {\n                    var t = this.params,\n                        i = this.touchEvents,\n                        s = this.el,\n                        a = this.wrapperEl,\n                        r = !!t.nested;\n                    if (!o.touch && o.pointerEvents) s.removeEventListener(i.start, this.onTouchStart, !1), e.removeEventListener(i.move, this.onTouchMove, r), e.removeEventListener(i.end, this.onTouchEnd, !1);\n                    else {\n                        if (o.touch) {\n                            var n = !(\"onTouchStart\" !== i.start || !o.passiveListener || !t.passiveListeners) && { passive: !0, capture: !1 };\n                            s.removeEventListener(i.start, this.onTouchStart, n), s.removeEventListener(i.move, this.onTouchMove, r), s.removeEventListener(i.end, this.onTouchEnd, n), i.cancel && s.removeEventListener(i.cancel, this.onTouchEnd, n)\n                        }(t.simulateTouch && !I.ios && !I.android || t.simulateTouch && !o.touch && I.ios) && (s.removeEventListener(\"mousedown\", this.onTouchStart, !1), e.removeEventListener(\"mousemove\", this.onTouchMove, r), e.removeEventListener(\"mouseup\", this.onTouchEnd, !1))\n                    }(t.preventClicks || t.preventClicksPropagation) && s.removeEventListener(\"click\", this.onClick, !0), t.cssMode && a.removeEventListener(\"scroll\", this.onScroll), this.off(I.ios || I.android ? \"resize orientationchange observerUpdate\" : \"resize observerUpdate\", G)\n                }\n            },\n            breakpoints: {\n                setBreakpoint: function() {\n                    var e = this.activeIndex,\n                        t = this.initialized,\n                        i = this.loopedSlides;\n                    void 0 === i && (i = 0);\n                    var s = this.params,\n                        a = this.$el,\n                        r = s.breakpoints;\n                    if (r && (!r || 0 !== Object.keys(r).length)) {\n                        var o = this.getBreakpoint(r);\n                        if (o && this.currentBreakpoint !== o) {\n                            var l = o in r ? r[o] : void 0;\n                            l && [\"slidesPerView\", \"spaceBetween\", \"slidesPerGroup\", \"slidesPerColumn\"].forEach((function(e) {\n                                var t = l[e];\n                                void 0 !== t && (l[e] = \"slidesPerView\" !== e || \"AUTO\" !== t && \"auto\" !== t ? \"slidesPerView\" === e ? parseFloat(t) : parseInt(t, 10) : \"auto\")\n                            }));\n                            var d = l || this.originalParams,\n                                h = s.slidesPerColumn > 1,\n                                p = d.slidesPerColumn > 1;\n                            h && !p ? a.removeClass(s.containerModifierClass + \"multirow \" + s.containerModifierClass + \"multirow-column\") : !h && p && (a.addClass(s.containerModifierClass + \"multirow\"), \"column\" === d.slidesPerColumnFill && a.addClass(s.containerModifierClass + \"multirow-column\"));\n                            var c = d.direction && d.direction !== s.direction,\n                                u = s.loop && (d.slidesPerView !== s.slidesPerView || c);\n                            c && t && this.changeDirection(), n.extend(this.params, d), n.extend(this, { allowTouchMove: this.params.allowTouchMove, allowSlideNext: this.params.allowSlideNext, allowSlidePrev: this.params.allowSlidePrev }), this.currentBreakpoint = o, u && t && (this.loopDestroy(), this.loopCreate(), this.updateSlides(), this.slideTo(e - i + this.loopedSlides, 0, !1)), this.emit(\"breakpoint\", d)\n                        }\n                    }\n                },\n                getBreakpoint: function(e) {\n                    if (e) {\n                        var i = !1,\n                            s = [];\n                        Object.keys(e).forEach((function(e) { s.push(e) })), s.sort((function(e, t) { return parseInt(e, 10) - parseInt(t, 10) }));\n                        for (var a = 0; a < s.length; a += 1) {\n                            var r = s[a];\n                            r <= t.innerWidth && (i = r)\n                        }\n                        return i || \"max\"\n                    }\n                }\n            },\n            checkOverflow: {\n                checkOverflow: function() {\n                    var e = this.params,\n                        t = this.isLocked,\n                        i = this.slides.length > 0 && e.slidesOffsetBefore + e.spaceBetween * (this.slides.length - 1) + this.slides[0].offsetWidth * this.slides.length;\n                    e.slidesOffsetBefore && e.slidesOffsetAfter && i ? this.isLocked = i <= this.size : this.isLocked = 1 === this.snapGrid.length, this.allowSlideNext = !this.isLocked, this.allowSlidePrev = !this.isLocked, t !== this.isLocked && this.emit(this.isLocked ? \"lock\" : \"unlock\"), t && t !== this.isLocked && (this.isEnd = !1, this.navigation.update())\n                }\n            },\n            classes: {\n                addClasses: function() {\n                    var e = this.classNames,\n                        t = this.params,\n                        i = this.rtl,\n                        s = this.$el,\n                        a = [];\n                    a.push(\"initialized\"), a.push(t.direction), t.freeMode && a.push(\"free-mode\"), t.autoHeight && a.push(\"autoheight\"), i && a.push(\"rtl\"), t.slidesPerColumn > 1 && (a.push(\"multirow\"), \"column\" === t.slidesPerColumnFill && a.push(\"multirow-column\")), I.android && a.push(\"android\"), I.ios && a.push(\"ios\"), t.cssMode && a.push(\"css-mode\"), a.forEach((function(i) { e.push(t.containerModifierClass + i) })), s.addClass(e.join(\" \"))\n                },\n                removeClasses: function() {\n                    var e = this.$el,\n                        t = this.classNames;\n                    e.removeClass(t.join(\" \"))\n                }\n            },\n            images: {\n                loadImage: function(e, i, s, a, r, n) {\n                    var o;\n\n                    function l() { n && n() }\n                    e.complete && r ? l() : i ? ((o = new t.Image).onload = l, o.onerror = l, a && (o.sizes = a), s && (o.srcset = s), i && (o.src = i)) : l()\n                },\n                preloadImages: function() {\n                    var e = this;\n\n                    function t() { null != e && e && !e.destroyed && (void 0 !== e.imagesLoaded && (e.imagesLoaded += 1), e.imagesLoaded === e.imagesToLoad.length && (e.params.updateOnImagesReady && e.update(), e.emit(\"imagesReady\"))) }\n                    e.imagesToLoad = e.$el.find(\"img\");\n                    for (var i = 0; i < e.imagesToLoad.length; i += 1) {\n                        var s = e.imagesToLoad[i];\n                        e.loadImage(s, s.currentSrc || s.getAttribute(\"src\"), s.srcset || s.getAttribute(\"srcset\"), s.sizes || s.getAttribute(\"sizes\"), !0, t)\n                    }\n                }\n            }\n        },\n        F = {},\n        W = function(e) {\n            function t() {\n                for (var i, a, r, l = [], d = arguments.length; d--;) l[d] = arguments[d];\n                1 === l.length && l[0].constructor && l[0].constructor === Object ? r = l[0] : (a = (i = l)[0], r = i[1]), r || (r = {}), r = n.extend({}, r), a && !r.el && (r.el = a), e.call(this, r), Object.keys(Y).forEach((function(e) { Object.keys(Y[e]).forEach((function(i) { t.prototype[i] || (t.prototype[i] = Y[e][i]) })) }));\n                var h = this;\n                void 0 === h.modules && (h.modules = {}), Object.keys(h.modules).forEach((function(e) {\n                    var t = h.modules[e];\n                    if (t.params) {\n                        var i = Object.keys(t.params)[0],\n                            s = t.params[i];\n                        if (\"object\" != typeof s || null === s) return;\n                        if (!(i in r && \"enabled\" in s)) return;\n                        !0 === r[i] && (r[i] = { enabled: !0 }), \"object\" != typeof r[i] || \"enabled\" in r[i] || (r[i].enabled = !0), r[i] || (r[i] = { enabled: !1 })\n                    }\n                }));\n                var p = n.extend({}, V);\n                h.useModulesParams(p), h.params = n.extend({}, p, F, r), h.originalParams = n.extend({}, h.params), h.passedParams = n.extend({}, r), h.$ = s;\n                var c = s(h.params.el);\n                if (a = c[0]) {\n                    if (c.length > 1) {\n                        var u = [];\n                        return c.each((function(e, i) {\n                            var s = n.extend({}, r, { el: i });\n                            u.push(new t(s))\n                        })), u\n                    }\n                    var v, f, m;\n                    return a.swiper = h, c.data(\"swiper\", h), a && a.shadowRoot && a.shadowRoot.querySelector ? (v = s(a.shadowRoot.querySelector(\".\" + h.params.wrapperClass))).children = function(e) { return c.children(e) } : v = c.children(\".\" + h.params.wrapperClass), n.extend(h, { $el: c, el: a, $wrapperEl: v, wrapperEl: v[0], classNames: [], slides: s(), slidesGrid: [], snapGrid: [], slidesSizesGrid: [], isHorizontal: function() { return \"horizontal\" === h.params.direction }, isVertical: function() { return \"vertical\" === h.params.direction }, rtl: \"rtl\" === a.dir.toLowerCase() || \"rtl\" === c.css(\"direction\"), rtlTranslate: \"horizontal\" === h.params.direction && (\"rtl\" === a.dir.toLowerCase() || \"rtl\" === c.css(\"direction\")), wrongRTL: \"-webkit-box\" === v.css(\"display\"), activeIndex: 0, realIndex: 0, isBeginning: !0, isEnd: !1, translate: 0, previousTranslate: 0, progress: 0, velocity: 0, animating: !1, allowSlideNext: h.params.allowSlideNext, allowSlidePrev: h.params.allowSlidePrev, touchEvents: (f = [\"touchstart\", \"touchmove\", \"touchend\", \"touchcancel\"], m = [\"mousedown\", \"mousemove\", \"mouseup\"], o.pointerEvents && (m = [\"pointerdown\", \"pointermove\", \"pointerup\"]), h.touchEventsTouch = { start: f[0], move: f[1], end: f[2], cancel: f[3] }, h.touchEventsDesktop = { start: m[0], move: m[1], end: m[2] }, o.touch || !h.params.simulateTouch ? h.touchEventsTouch : h.touchEventsDesktop), touchEventsData: { isTouched: void 0, isMoved: void 0, allowTouchCallbacks: void 0, touchStartTime: void 0, isScrolling: void 0, currentTranslate: void 0, startTranslate: void 0, allowThresholdMove: void 0, formElements: \"input, select, option, textarea, button, video\", lastClickTime: n.now(), clickTimeout: void 0, velocities: [], allowMomentumBounce: void 0, isTouchEvent: void 0, startMoving: void 0 }, allowClick: !0, allowTouchMove: h.params.allowTouchMove, touches: { startX: 0, startY: 0, currentX: 0, currentY: 0, diff: 0 }, imagesToLoad: [], imagesLoaded: 0 }), h.useModules(), h.params.init && h.init(), h\n                }\n            }\n            e && (t.__proto__ = e), t.prototype = Object.create(e && e.prototype), t.prototype.constructor = t;\n            var i = { extendedDefaults: { configurable: !0 }, defaults: { configurable: !0 }, Class: { configurable: !0 }, $: { configurable: !0 } };\n            return t.prototype.slidesPerViewDynamic = function() {\n                var e = this.params,\n                    t = this.slides,\n                    i = this.slidesGrid,\n                    s = this.size,\n                    a = this.activeIndex,\n                    r = 1;\n                if (e.centeredSlides) { for (var n, o = t[a].swiperSlideSize, l = a + 1; l < t.length; l += 1) t[l] && !n && (r += 1, (o += t[l].swiperSlideSize) > s && (n = !0)); for (var d = a - 1; d >= 0; d -= 1) t[d] && !n && (r += 1, (o += t[d].swiperSlideSize) > s && (n = !0)) } else\n                    for (var h = a + 1; h < t.length; h += 1) i[h] - i[a] < s && (r += 1);\n                return r\n            }, t.prototype.update = function() {\n                var e = this;\n                if (e && !e.destroyed) {\n                    var t = e.snapGrid,\n                        i = e.params;\n                    i.breakpoints && e.setBreakpoint(), e.updateSize(), e.updateSlides(), e.updateProgress(), e.updateSlidesClasses(), e.params.freeMode ? (s(), e.params.autoHeight && e.updateAutoHeight()) : ((\"auto\" === e.params.slidesPerView || e.params.slidesPerView > 1) && e.isEnd && !e.params.centeredSlides ? e.slideTo(e.slides.length - 1, 0, !1, !0) : e.slideTo(e.activeIndex, 0, !1, !0)) || s(), i.watchOverflow && t !== e.snapGrid && e.checkOverflow(), e.emit(\"update\")\n                }\n\n                function s() {\n                    var t = e.rtlTranslate ? -1 * e.translate : e.translate,\n                        i = Math.min(Math.max(t, e.maxTranslate()), e.minTranslate());\n                    e.setTranslate(i), e.updateActiveIndex(), e.updateSlidesClasses()\n                }\n            }, t.prototype.changeDirection = function(e, t) { void 0 === t && (t = !0); var i = this.params.direction; return e || (e = \"horizontal\" === i ? \"vertical\" : \"horizontal\"), e === i || \"horizontal\" !== e && \"vertical\" !== e ? this : (this.$el.removeClass(\"\" + this.params.containerModifierClass + i).addClass(\"\" + this.params.containerModifierClass + e), this.params.direction = e, this.slides.each((function(t, i) { \"vertical\" === e ? i.style.width = \"\" : i.style.height = \"\" })), this.emit(\"changeDirection\"), t && this.update(), this) }, t.prototype.init = function() { this.initialized || (this.emit(\"beforeInit\"), this.params.breakpoints && this.setBreakpoint(), this.addClasses(), this.params.loop && this.loopCreate(), this.updateSize(), this.updateSlides(), this.params.watchOverflow && this.checkOverflow(), this.params.grabCursor && this.setGrabCursor(), this.params.preloadImages && this.preloadImages(), this.params.loop ? this.slideTo(this.params.initialSlide + this.loopedSlides, 0, this.params.runCallbacksOnInit) : this.slideTo(this.params.initialSlide, 0, this.params.runCallbacksOnInit), this.attachEvents(), this.initialized = !0, this.emit(\"init\")) }, t.prototype.destroy = function(e, t) {\n                void 0 === e && (e = !0), void 0 === t && (t = !0);\n                var i = this,\n                    s = i.params,\n                    a = i.$el,\n                    r = i.$wrapperEl,\n                    o = i.slides;\n                return void 0 === i.params || i.destroyed ? null : (i.emit(\"beforeDestroy\"), i.initialized = !1, i.detachEvents(), s.loop && i.loopDestroy(), t && (i.removeClasses(), a.removeAttr(\"style\"), r.removeAttr(\"style\"), o && o.length && o.removeClass([s.slideVisibleClass, s.slideActiveClass, s.slideNextClass, s.slidePrevClass].join(\" \")).removeAttr(\"style\").removeAttr(\"data-swiper-slide-index\")), i.emit(\"destroy\"), Object.keys(i.eventsListeners).forEach((function(e) { i.off(e) })), !1 !== e && (i.$el[0].swiper = null, i.$el.data(\"swiper\", null), n.deleteProps(i)), i.destroyed = !0, null)\n            }, t.extendDefaults = function(e) { n.extend(F, e) }, i.extendedDefaults.get = function() { return F }, i.defaults.get = function() { return V }, i.Class.get = function() { return e }, i.$.get = function() { return s }, Object.defineProperties(t, i), t\n        }(l),\n        R = { name: \"device\", proto: { device: I }, static: { device: I } },\n        q = { name: \"support\", proto: { support: o }, static: { support: o } },\n        j = { isEdge: !!t.navigator.userAgent.match(/Edge/g), isSafari: function() { var e = t.navigator.userAgent.toLowerCase(); return e.indexOf(\"safari\") >= 0 && e.indexOf(\"chrome\") < 0 && e.indexOf(\"android\") < 0 }(), isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent) },\n        K = { name: \"browser\", proto: { browser: j }, static: { browser: j } },\n        U = {\n            name: \"resize\",\n            create: function() {\n                var e = this;\n                n.extend(e, { resize: { resizeHandler: function() { e && !e.destroyed && e.initialized && (e.emit(\"beforeResize\"), e.emit(\"resize\")) }, orientationChangeHandler: function() { e && !e.destroyed && e.initialized && e.emit(\"orientationchange\") } } })\n            },\n            on: { init: function() { t.addEventListener(\"resize\", this.resize.resizeHandler), t.addEventListener(\"orientationchange\", this.resize.orientationChangeHandler) }, destroy: function() { t.removeEventListener(\"resize\", this.resize.resizeHandler), t.removeEventListener(\"orientationchange\", this.resize.orientationChangeHandler) } }\n        },\n        _ = {\n            func: t.MutationObserver || t.WebkitMutationObserver,\n            attach: function(e, i) {\n                void 0 === i && (i = {});\n                var s = this,\n                    a = new(0, _.func)((function(e) {\n                        if (1 !== e.length) {\n                            var i = function() { s.emit(\"observerUpdate\", e[0]) };\n                            t.requestAnimationFrame ? t.requestAnimationFrame(i) : t.setTimeout(i, 0)\n                        } else s.emit(\"observerUpdate\", e[0])\n                    }));\n                a.observe(e, { attributes: void 0 === i.attributes || i.attributes, childList: void 0 === i.childList || i.childList, characterData: void 0 === i.characterData || i.characterData }), s.observer.observers.push(a)\n            },\n            init: function() {\n                if (o.observer && this.params.observer) {\n                    if (this.params.observeParents)\n                        for (var e = this.$el.parents(), t = 0; t < e.length; t += 1) this.observer.attach(e[t]);\n                    this.observer.attach(this.$el[0], { childList: this.params.observeSlideChildren }), this.observer.attach(this.$wrapperEl[0], { attributes: !1 })\n                }\n            },\n            destroy: function() { this.observer.observers.forEach((function(e) { e.disconnect() })), this.observer.observers = [] }\n        },\n        Z = { name: \"observer\", params: { observer: !1, observeParents: !1, observeSlideChildren: !1 }, create: function() { n.extend(this, { observer: { init: _.init.bind(this), attach: _.attach.bind(this), destroy: _.destroy.bind(this), observers: [] } }) }, on: { init: function() { this.observer.init() }, destroy: function() { this.observer.destroy() } } },\n        Q = {\n            update: function(e) {\n                var t = this,\n                    i = t.params,\n                    s = i.slidesPerView,\n                    a = i.slidesPerGroup,\n                    r = i.centeredSlides,\n                    o = t.params.virtual,\n                    l = o.addSlidesBefore,\n                    d = o.addSlidesAfter,\n                    h = t.virtual,\n                    p = h.from,\n                    c = h.to,\n                    u = h.slides,\n                    v = h.slidesGrid,\n                    f = h.renderSlide,\n                    m = h.offset;\n                t.updateActiveIndex();\n                var g, b, w, y = t.activeIndex || 0;\n                g = t.rtlTranslate ? \"right\" : t.isHorizontal() ? \"left\" : \"top\", r ? (b = Math.floor(s / 2) + a + l, w = Math.floor(s / 2) + a + d) : (b = s + (a - 1) + l, w = a + d);\n                var x = Math.max((y || 0) - w, 0),\n                    T = Math.min((y || 0) + b, u.length - 1),\n                    E = (t.slidesGrid[x] || 0) - (t.slidesGrid[0] || 0);\n\n                function S() { t.updateSlides(), t.updateProgress(), t.updateSlidesClasses(), t.lazy && t.params.lazy.enabled && t.lazy.load() }\n                if (n.extend(t.virtual, { from: x, to: T, offset: E, slidesGrid: t.slidesGrid }), p === x && c === T && !e) return t.slidesGrid !== v && E !== m && t.slides.css(g, E + \"px\"), void t.updateProgress();\n                if (t.params.virtual.renderExternal) return t.params.virtual.renderExternal.call(t, { offset: E, from: x, to: T, slides: function() { for (var e = [], t = x; t <= T; t += 1) e.push(u[t]); return e }() }), void S();\n                var C = [],\n                    M = [];\n                if (e) t.$wrapperEl.find(\".\" + t.params.slideClass).remove();\n                else\n                    for (var P = p; P <= c; P += 1)(P < x || P > T) && t.$wrapperEl.find(\".\" + t.params.slideClass + '[data-swiper-slide-index=\"' + P + '\"]').remove();\n                for (var z = 0; z < u.length; z += 1) z >= x && z <= T && (void 0 === c || e ? M.push(z) : (z > c && M.push(z), z < p && C.push(z)));\n                M.forEach((function(e) { t.$wrapperEl.append(f(u[e], e)) })), C.sort((function(e, t) { return t - e })).forEach((function(e) { t.$wrapperEl.prepend(f(u[e], e)) })), t.$wrapperEl.children(\".swiper-slide\").css(g, E + \"px\"), S()\n            },\n            renderSlide: function(e, t) { var i = this.params.virtual; if (i.cache && this.virtual.cache[t]) return this.virtual.cache[t]; var a = i.renderSlide ? s(i.renderSlide.call(this, e, t)) : s('<div class=\"' + this.params.slideClass + '\" data-swiper-slide-index=\"' + t + '\">' + e + \"</div>\"); return a.attr(\"data-swiper-slide-index\") || a.attr(\"data-swiper-slide-index\", t), i.cache && (this.virtual.cache[t] = a), a },\n            appendSlide: function(e) {\n                if (\"object\" == typeof e && \"length\" in e)\n                    for (var t = 0; t < e.length; t += 1) e[t] && this.virtual.slides.push(e[t]);\n                else this.virtual.slides.push(e);\n                this.virtual.update(!0)\n            },\n            prependSlide: function(e) {\n                var t = this.activeIndex,\n                    i = t + 1,\n                    s = 1;\n                if (Array.isArray(e)) {\n                    for (var a = 0; a < e.length; a += 1) e[a] && this.virtual.slides.unshift(e[a]);\n                    i = t + e.length, s = e.length\n                } else this.virtual.slides.unshift(e);\n                if (this.params.virtual.cache) {\n                    var r = this.virtual.cache,\n                        n = {};\n                    Object.keys(r).forEach((function(e) {\n                        var t = r[e],\n                            i = t.attr(\"data-swiper-slide-index\");\n                        i && t.attr(\"data-swiper-slide-index\", parseInt(i, 10) + 1), n[parseInt(e, 10) + s] = t\n                    })), this.virtual.cache = n\n                }\n                this.virtual.update(!0), this.slideTo(i, 0)\n            },\n            removeSlide: function(e) {\n                if (null != e) {\n                    var t = this.activeIndex;\n                    if (Array.isArray(e))\n                        for (var i = e.length - 1; i >= 0; i -= 1) this.virtual.slides.splice(e[i], 1), this.params.virtual.cache && delete this.virtual.cache[e[i]], e[i] < t && (t -= 1), t = Math.max(t, 0);\n                    else this.virtual.slides.splice(e, 1), this.params.virtual.cache && delete this.virtual.cache[e], e < t && (t -= 1), t = Math.max(t, 0);\n                    this.virtual.update(!0), this.slideTo(t, 0)\n                }\n            },\n            removeAllSlides: function() { this.virtual.slides = [], this.params.virtual.cache && (this.virtual.cache = {}), this.virtual.update(!0), this.slideTo(0, 0) }\n        },\n        J = {\n            name: \"virtual\",\n            params: { virtual: { enabled: !1, slides: [], cache: !0, renderSlide: null, renderExternal: null, addSlidesBefore: 0, addSlidesAfter: 0 } },\n            create: function() { n.extend(this, { virtual: { update: Q.update.bind(this), appendSlide: Q.appendSlide.bind(this), prependSlide: Q.prependSlide.bind(this), removeSlide: Q.removeSlide.bind(this), removeAllSlides: Q.removeAllSlides.bind(this), renderSlide: Q.renderSlide.bind(this), slides: this.params.virtual.slides, cache: {} } }) },\n            on: {\n                beforeInit: function() {\n                    if (this.params.virtual.enabled) {\n                        this.classNames.push(this.params.containerModifierClass + \"virtual\");\n                        var e = { watchSlidesProgress: !0 };\n                        n.extend(this.params, e), n.extend(this.originalParams, e), this.params.initialSlide || this.virtual.update()\n                    }\n                },\n                setTranslate: function() { this.params.virtual.enabled && this.virtual.update() }\n            }\n        },\n        ee = {\n            handle: function(i) {\n                var s = this.rtlTranslate,\n                    a = i;\n                a.originalEvent && (a = a.originalEvent);\n                var r = a.keyCode || a.charCode;\n                if (!this.allowSlideNext && (this.isHorizontal() && 39 === r || this.isVertical() && 40 === r || 34 === r)) return !1;\n                if (!this.allowSlidePrev && (this.isHorizontal() && 37 === r || this.isVertical() && 38 === r || 33 === r)) return !1;\n                if (!(a.shiftKey || a.altKey || a.ctrlKey || a.metaKey || e.activeElement && e.activeElement.nodeName && (\"input\" === e.activeElement.nodeName.toLowerCase() || \"textarea\" === e.activeElement.nodeName.toLowerCase()))) {\n                    if (this.params.keyboard.onlyInViewport && (33 === r || 34 === r || 37 === r || 39 === r || 38 === r || 40 === r)) {\n                        var n = !1;\n                        if (this.$el.parents(\".\" + this.params.slideClass).length > 0 && 0 === this.$el.parents(\".\" + this.params.slideActiveClass).length) return;\n                        var o = t.innerWidth,\n                            l = t.innerHeight,\n                            d = this.$el.offset();\n                        s && (d.left -= this.$el[0].scrollLeft);\n                        for (var h = [\n                                [d.left, d.top],\n                                [d.left + this.width, d.top],\n                                [d.left, d.top + this.height],\n                                [d.left + this.width, d.top + this.height]\n                            ], p = 0; p < h.length; p += 1) {\n                            var c = h[p];\n                            c[0] >= 0 && c[0] <= o && c[1] >= 0 && c[1] <= l && (n = !0)\n                        }\n                        if (!n) return\n                    }\n                    this.isHorizontal() ? (33 !== r && 34 !== r && 37 !== r && 39 !== r || (a.preventDefault ? a.preventDefault() : a.returnValue = !1), (34 !== r && 39 !== r || s) && (33 !== r && 37 !== r || !s) || this.slideNext(), (33 !== r && 37 !== r || s) && (34 !== r && 39 !== r || !s) || this.slidePrev()) : (33 !== r && 34 !== r && 38 !== r && 40 !== r || (a.preventDefault ? a.preventDefault() : a.returnValue = !1), 34 !== r && 40 !== r || this.slideNext(), 33 !== r && 38 !== r || this.slidePrev()), this.emit(\"keyPress\", r)\n                }\n            },\n            enable: function() { this.keyboard.enabled || (s(e).on(\"keydown\", this.keyboard.handle), this.keyboard.enabled = !0) },\n            disable: function() { this.keyboard.enabled && (s(e).off(\"keydown\", this.keyboard.handle), this.keyboard.enabled = !1) }\n        },\n        te = { name: \"keyboard\", params: { keyboard: { enabled: !1, onlyInViewport: !0 } }, create: function() { n.extend(this, { keyboard: { enabled: !1, enable: ee.enable.bind(this), disable: ee.disable.bind(this), handle: ee.handle.bind(this) } }) }, on: { init: function() { this.params.keyboard.enabled && this.keyboard.enable() }, destroy: function() { this.keyboard.enabled && this.keyboard.disable() } } };\n    var ie = {\n            lastScrollTime: n.now(),\n            lastEventBeforeSnap: void 0,\n            recentWheelEvents: [],\n            event: function() {\n                return t.navigator.userAgent.indexOf(\"firefox\") > -1 ? \"DOMMouseScroll\" : function() {\n                    var t = \"onwheel\" in e;\n                    if (!t) {\n                        var i = e.createElement(\"div\");\n                        i.setAttribute(\"onwheel\", \"return;\"), t = \"function\" == typeof i.onwheel\n                    }\n                    return !t && e.implementation && e.implementation.hasFeature && !0 !== e.implementation.hasFeature(\"\", \"\") && (t = e.implementation.hasFeature(\"Events.wheel\", \"3.0\")), t\n                }() ? \"wheel\" : \"mousewheel\"\n            },\n            normalize: function(e) {\n                var t = 0,\n                    i = 0,\n                    s = 0,\n                    a = 0;\n                return \"detail\" in e && (i = e.detail), \"wheelDelta\" in e && (i = -e.wheelDelta / 120), \"wheelDeltaY\" in e && (i = -e.wheelDeltaY / 120), \"wheelDeltaX\" in e && (t = -e.wheelDeltaX / 120), \"axis\" in e && e.axis === e.HORIZONTAL_AXIS && (t = i, i = 0), s = 10 * t, a = 10 * i, \"deltaY\" in e && (a = e.deltaY), \"deltaX\" in e && (s = e.deltaX), e.shiftKey && !s && (s = a, a = 0), (s || a) && e.deltaMode && (1 === e.deltaMode ? (s *= 40, a *= 40) : (s *= 800, a *= 800)), s && !t && (t = s < 1 ? -1 : 1), a && !i && (i = a < 1 ? -1 : 1), { spinX: t, spinY: i, pixelX: s, pixelY: a }\n            },\n            handleMouseEnter: function() { this.mouseEntered = !0 },\n            handleMouseLeave: function() { this.mouseEntered = !1 },\n            handle: function(e) {\n                var t = e,\n                    i = this,\n                    s = i.params.mousewheel;\n                if (i.params.cssMode && t.preventDefault(), !i.mouseEntered && !s.releaseOnEdges) return !0;\n                t.originalEvent && (t = t.originalEvent);\n                var a = 0,\n                    r = i.rtlTranslate ? -1 : 1,\n                    o = ie.normalize(t);\n                if (s.forceToAxis)\n                    if (i.isHorizontal()) {\n                        if (!(Math.abs(o.pixelX) > Math.abs(o.pixelY))) return !0;\n                        a = o.pixelX * r\n                    } else {\n                        if (!(Math.abs(o.pixelY) > Math.abs(o.pixelX))) return !0;\n                        a = o.pixelY\n                    }\n                else a = Math.abs(o.pixelX) > Math.abs(o.pixelY) ? -o.pixelX * r : -o.pixelY;\n                if (0 === a) return !0;\n                if (s.invert && (a = -a), i.params.freeMode) {\n                    var l = { time: n.now(), delta: Math.abs(a), direction: Math.sign(a) },\n                        d = i.mousewheel.lastEventBeforeSnap,\n                        h = d && l.time < d.time + 500 && l.delta <= d.delta && l.direction === d.direction;\n                    if (!h) {\n                        i.mousewheel.lastEventBeforeSnap = void 0, i.params.loop && i.loopFix();\n                        var p = i.getTranslate() + a * s.sensitivity,\n                            c = i.isBeginning,\n                            u = i.isEnd;\n                        if (p >= i.minTranslate() && (p = i.minTranslate()), p <= i.maxTranslate() && (p = i.maxTranslate()), i.setTransition(0), i.setTranslate(p), i.updateProgress(), i.updateActiveIndex(), i.updateSlidesClasses(), (!c && i.isBeginning || !u && i.isEnd) && i.updateSlidesClasses(), i.params.freeModeSticky) {\n                            clearTimeout(i.mousewheel.timeout), i.mousewheel.timeout = void 0;\n                            var v = i.mousewheel.recentWheelEvents;\n                            v.length >= 15 && v.shift();\n                            var f = v.length ? v[v.length - 1] : void 0,\n                                m = v[0];\n                            if (v.push(l), f && (l.delta > f.delta || l.direction !== f.direction)) v.splice(0);\n                            else if (v.length >= 15 && l.time - m.time < 500 && m.delta - l.delta >= 1 && l.delta <= 6) {\n                                var g = a > 0 ? .8 : .2;\n                                i.mousewheel.lastEventBeforeSnap = l, v.splice(0), i.mousewheel.timeout = n.nextTick((function() { i.slideToClosest(i.params.speed, !0, void 0, g) }), 0)\n                            }\n                            i.mousewheel.timeout || (i.mousewheel.timeout = n.nextTick((function() { i.mousewheel.lastEventBeforeSnap = l, v.splice(0), i.slideToClosest(i.params.speed, !0, void 0, .5) }), 500))\n                        }\n                        if (h || i.emit(\"scroll\", t), i.params.autoplay && i.params.autoplayDisableOnInteraction && i.autoplay.stop(), p === i.minTranslate() || p === i.maxTranslate()) return !0\n                    }\n                } else {\n                    var b = { time: n.now(), delta: Math.abs(a), direction: Math.sign(a), raw: e },\n                        w = i.mousewheel.recentWheelEvents;\n                    w.length >= 2 && w.shift();\n                    var y = w.length ? w[w.length - 1] : void 0;\n                    if (w.push(b), y ? (b.direction !== y.direction || b.delta > y.delta) && i.mousewheel.animateSlider(b) : i.mousewheel.animateSlider(b), i.mousewheel.releaseScroll(b)) return !0\n                }\n                return t.preventDefault ? t.preventDefault() : t.returnValue = !1, !1\n            },\n            animateSlider: function(e) { return e.delta >= 6 && n.now() - this.mousewheel.lastScrollTime < 60 || (e.direction < 0 ? this.isEnd && !this.params.loop || this.animating || (this.slideNext(), this.emit(\"scroll\", e.raw)) : this.isBeginning && !this.params.loop || this.animating || (this.slidePrev(), this.emit(\"scroll\", e.raw)), this.mousewheel.lastScrollTime = (new t.Date).getTime(), !1) },\n            releaseScroll: function(e) { var t = this.params.mousewheel; if (e.direction < 0) { if (this.isEnd && !this.params.loop && t.releaseOnEdges) return !0 } else if (this.isBeginning && !this.params.loop && t.releaseOnEdges) return !0; return !1 },\n            enable: function() { var e = ie.event(); if (this.params.cssMode) return this.wrapperEl.removeEventListener(e, this.mousewheel.handle), !0; if (!e) return !1; if (this.mousewheel.enabled) return !1; var t = this.$el; return \"container\" !== this.params.mousewheel.eventsTarged && (t = s(this.params.mousewheel.eventsTarged)), t.on(\"mouseenter\", this.mousewheel.handleMouseEnter), t.on(\"mouseleave\", this.mousewheel.handleMouseLeave), t.on(e, this.mousewheel.handle), this.mousewheel.enabled = !0, !0 },\n            disable: function() { var e = ie.event(); if (this.params.cssMode) return this.wrapperEl.addEventListener(e, this.mousewheel.handle), !0; if (!e) return !1; if (!this.mousewheel.enabled) return !1; var t = this.$el; return \"container\" !== this.params.mousewheel.eventsTarged && (t = s(this.params.mousewheel.eventsTarged)), t.off(e, this.mousewheel.handle), this.mousewheel.enabled = !1, !0 }\n        },\n        se = {\n            update: function() {\n                var e = this.params.navigation;\n                if (!this.params.loop) {\n                    var t = this.navigation,\n                        i = t.$nextEl,\n                        s = t.$prevEl;\n                    s && s.length > 0 && (this.isBeginning ? s.addClass(e.disabledClass) : s.removeClass(e.disabledClass), s[this.params.watchOverflow && this.isLocked ? \"addClass\" : \"removeClass\"](e.lockClass)), i && i.length > 0 && (this.isEnd ? i.addClass(e.disabledClass) : i.removeClass(e.disabledClass), i[this.params.watchOverflow && this.isLocked ? \"addClass\" : \"removeClass\"](e.lockClass))\n                }\n            },\n            onPrevClick: function(e) { e.preventDefault(), this.isBeginning && !this.params.loop || this.slidePrev() },\n            onNextClick: function(e) { e.preventDefault(), this.isEnd && !this.params.loop || this.slideNext() },\n            init: function() {\n                var e, t, i = this.params.navigation;\n                (i.nextEl || i.prevEl) && (i.nextEl && (e = s(i.nextEl), this.params.uniqueNavElements && \"string\" == typeof i.nextEl && e.length > 1 && 1 === this.$el.find(i.nextEl).length && (e = this.$el.find(i.nextEl))), i.prevEl && (t = s(i.prevEl), this.params.uniqueNavElements && \"string\" == typeof i.prevEl && t.length > 1 && 1 === this.$el.find(i.prevEl).length && (t = this.$el.find(i.prevEl))), e && e.length > 0 && e.on(\"click\", this.navigation.onNextClick), t && t.length > 0 && t.on(\"click\", this.navigation.onPrevClick), n.extend(this.navigation, { $nextEl: e, nextEl: e && e[0], $prevEl: t, prevEl: t && t[0] }))\n            },\n            destroy: function() {\n                var e = this.navigation,\n                    t = e.$nextEl,\n                    i = e.$prevEl;\n                t && t.length && (t.off(\"click\", this.navigation.onNextClick), t.removeClass(this.params.navigation.disabledClass)), i && i.length && (i.off(\"click\", this.navigation.onPrevClick), i.removeClass(this.params.navigation.disabledClass))\n            }\n        },\n        ae = {\n            update: function() {\n                var e = this.rtl,\n                    t = this.params.pagination;\n                if (t.el && this.pagination.el && this.pagination.$el && 0 !== this.pagination.$el.length) {\n                    var i, a = this.virtual && this.params.virtual.enabled ? this.virtual.slides.length : this.slides.length,\n                        r = this.pagination.$el,\n                        n = this.params.loop ? Math.ceil((a - 2 * this.loopedSlides) / this.params.slidesPerGroup) : this.snapGrid.length;\n                    if (this.params.loop ? ((i = Math.ceil((this.activeIndex - this.loopedSlides) / this.params.slidesPerGroup)) > a - 1 - 2 * this.loopedSlides && (i -= a - 2 * this.loopedSlides), i > n - 1 && (i -= n), i < 0 && \"bullets\" !== this.params.paginationType && (i = n + i)) : i = void 0 !== this.snapIndex ? this.snapIndex : this.activeIndex || 0, \"bullets\" === t.type && this.pagination.bullets && this.pagination.bullets.length > 0) {\n                        var o, l, d, h = this.pagination.bullets;\n                        if (t.dynamicBullets && (this.pagination.bulletSize = h.eq(0)[this.isHorizontal() ? \"outerWidth\" : \"outerHeight\"](!0), r.css(this.isHorizontal() ? \"width\" : \"height\", this.pagination.bulletSize * (t.dynamicMainBullets + 4) + \"px\"), t.dynamicMainBullets > 1 && void 0 !== this.previousIndex && (this.pagination.dynamicBulletIndex += i - this.previousIndex, this.pagination.dynamicBulletIndex > t.dynamicMainBullets - 1 ? this.pagination.dynamicBulletIndex = t.dynamicMainBullets - 1 : this.pagination.dynamicBulletIndex < 0 && (this.pagination.dynamicBulletIndex = 0)), o = i - this.pagination.dynamicBulletIndex, d = ((l = o + (Math.min(h.length, t.dynamicMainBullets) - 1)) + o) / 2), h.removeClass(t.bulletActiveClass + \" \" + t.bulletActiveClass + \"-next \" + t.bulletActiveClass + \"-next-next \" + t.bulletActiveClass + \"-prev \" + t.bulletActiveClass + \"-prev-prev \" + t.bulletActiveClass + \"-main\"), r.length > 1) h.each((function(e, a) {\n                            var r = s(a),\n                                n = r.index();\n                            n === i && r.addClass(t.bulletActiveClass), t.dynamicBullets && (n >= o && n <= l && r.addClass(t.bulletActiveClass + \"-main\"), n === o && r.prev().addClass(t.bulletActiveClass + \"-prev\").prev().addClass(t.bulletActiveClass + \"-prev-prev\"), n === l && r.next().addClass(t.bulletActiveClass + \"-next\").next().addClass(t.bulletActiveClass + \"-next-next\"))\n                        }));\n                        else {\n                            var p = h.eq(i),\n                                c = p.index();\n                            if (p.addClass(t.bulletActiveClass), t.dynamicBullets) {\n                                for (var u = h.eq(o), v = h.eq(l), f = o; f <= l; f += 1) h.eq(f).addClass(t.bulletActiveClass + \"-main\");\n                                if (this.params.loop)\n                                    if (c >= h.length - t.dynamicMainBullets) {\n                                        for (var m = t.dynamicMainBullets; m >= 0; m -= 1) h.eq(h.length - m).addClass(t.bulletActiveClass + \"-main\");\n                                        h.eq(h.length - t.dynamicMainBullets - 1).addClass(t.bulletActiveClass + \"-prev\")\n                                    } else u.prev().addClass(t.bulletActiveClass + \"-prev\").prev().addClass(t.bulletActiveClass + \"-prev-prev\"), v.next().addClass(t.bulletActiveClass + \"-next\").next().addClass(t.bulletActiveClass + \"-next-next\");\n                                else u.prev().addClass(t.bulletActiveClass + \"-prev\").prev().addClass(t.bulletActiveClass + \"-prev-prev\"), v.next().addClass(t.bulletActiveClass + \"-next\").next().addClass(t.bulletActiveClass + \"-next-next\")\n                            }\n                        }\n                        if (t.dynamicBullets) {\n                            var g = Math.min(h.length, t.dynamicMainBullets + 4),\n                                b = (this.pagination.bulletSize * g - this.pagination.bulletSize) / 2 - d * this.pagination.bulletSize,\n                                w = e ? \"right\" : \"left\";\n                            h.css(this.isHorizontal() ? w : \"top\", b + \"px\")\n                        }\n                    }\n                    if (\"fraction\" === t.type && (r.find(\".\" + t.currentClass).text(t.formatFractionCurrent(i + 1)), r.find(\".\" + t.totalClass).text(t.formatFractionTotal(n))), \"progressbar\" === t.type) {\n                        var y;\n                        y = t.progressbarOpposite ? this.isHorizontal() ? \"vertical\" : \"horizontal\" : this.isHorizontal() ? \"horizontal\" : \"vertical\";\n                        var x = (i + 1) / n,\n                            T = 1,\n                            E = 1;\n                        \"horizontal\" === y ? T = x : E = x, r.find(\".\" + t.progressbarFillClass).transform(\"translate3d(0,0,0) scaleX(\" + T + \") scaleY(\" + E + \")\").transition(this.params.speed)\n                    }\n                    \"custom\" === t.type && t.renderCustom ? (r.html(t.renderCustom(this, i + 1, n)), this.emit(\"paginationRender\", this, r[0])) : this.emit(\"paginationUpdate\", this, r[0]), r[this.params.watchOverflow && this.isLocked ? \"addClass\" : \"removeClass\"](t.lockClass)\n                }\n            },\n            render: function() {\n                var e = this.params.pagination;\n                if (e.el && this.pagination.el && this.pagination.$el && 0 !== this.pagination.$el.length) {\n                    var t = this.virtual && this.params.virtual.enabled ? this.virtual.slides.length : this.slides.length,\n                        i = this.pagination.$el,\n                        s = \"\";\n                    if (\"bullets\" === e.type) {\n                        for (var a = this.params.loop ? Math.ceil((t - 2 * this.loopedSlides) / this.params.slidesPerGroup) : this.snapGrid.length, r = 0; r < a; r += 1) e.renderBullet ? s += e.renderBullet.call(this, r, e.bulletClass) : s += \"<\" + e.bulletElement + ' class=\"' + e.bulletClass + '\"></' + e.bulletElement + \">\";\n                        i.html(s), this.pagination.bullets = i.find(\".\" + e.bulletClass)\n                    }\n                    \"fraction\" === e.type && (s = e.renderFraction ? e.renderFraction.call(this, e.currentClass, e.totalClass) : '<span class=\"' + e.currentClass + '\"></span> / <span class=\"' + e.totalClass + '\"></span>', i.html(s)), \"progressbar\" === e.type && (s = e.renderProgressbar ? e.renderProgressbar.call(this, e.progressbarFillClass) : '<span class=\"' + e.progressbarFillClass + '\"></span>', i.html(s)), \"custom\" !== e.type && this.emit(\"paginationRender\", this.pagination.$el[0])\n                }\n            },\n            init: function() {\n                var e = this,\n                    t = e.params.pagination;\n                if (t.el) {\n                    var i = s(t.el);\n                    0 !== i.length && (e.params.uniqueNavElements && \"string\" == typeof t.el && i.length > 1 && 1 === e.$el.find(t.el).length && (i = e.$el.find(t.el)), \"bullets\" === t.type && t.clickable && i.addClass(t.clickableClass), i.addClass(t.modifierClass + t.type), \"bullets\" === t.type && t.dynamicBullets && (i.addClass(\"\" + t.modifierClass + t.type + \"-dynamic\"), e.pagination.dynamicBulletIndex = 0, t.dynamicMainBullets < 1 && (t.dynamicMainBullets = 1)), \"progressbar\" === t.type && t.progressbarOpposite && i.addClass(t.progressbarOppositeClass), t.clickable && i.on(\"click\", \".\" + t.bulletClass, (function(t) {\n                        t.preventDefault();\n                        var i = s(this).index() * e.params.slidesPerGroup;\n                        e.params.loop && (i += e.loopedSlides), e.slideTo(i)\n                    })), n.extend(e.pagination, { $el: i, el: i[0] }))\n                }\n            },\n            destroy: function() {\n                var e = this.params.pagination;\n                if (e.el && this.pagination.el && this.pagination.$el && 0 !== this.pagination.$el.length) {\n                    var t = this.pagination.$el;\n                    t.removeClass(e.hiddenClass), t.removeClass(e.modifierClass + e.type), this.pagination.bullets && this.pagination.bullets.removeClass(e.bulletActiveClass), e.clickable && t.off(\"click\", \".\" + e.bulletClass)\n                }\n            }\n        },\n        re = {\n            setTranslate: function() {\n                if (this.params.scrollbar.el && this.scrollbar.el) {\n                    var e = this.scrollbar,\n                        t = this.rtlTranslate,\n                        i = this.progress,\n                        s = e.dragSize,\n                        a = e.trackSize,\n                        r = e.$dragEl,\n                        n = e.$el,\n                        o = this.params.scrollbar,\n                        l = s,\n                        d = (a - s) * i;\n                    t ? (d = -d) > 0 ? (l = s - d, d = 0) : -d + s > a && (l = a + d) : d < 0 ? (l = s + d, d = 0) : d + s > a && (l = a - d), this.isHorizontal() ? (r.transform(\"translate3d(\" + d + \"px, 0, 0)\"), r[0].style.width = l + \"px\") : (r.transform(\"translate3d(0px, \" + d + \"px, 0)\"), r[0].style.height = l + \"px\"), o.hide && (clearTimeout(this.scrollbar.timeout), n[0].style.opacity = 1, this.scrollbar.timeout = setTimeout((function() { n[0].style.opacity = 0, n.transition(400) }), 1e3))\n                }\n            },\n            setTransition: function(e) { this.params.scrollbar.el && this.scrollbar.el && this.scrollbar.$dragEl.transition(e) },\n            updateSize: function() {\n                if (this.params.scrollbar.el && this.scrollbar.el) {\n                    var e = this.scrollbar,\n                        t = e.$dragEl,\n                        i = e.$el;\n                    t[0].style.width = \"\", t[0].style.height = \"\";\n                    var s, a = this.isHorizontal() ? i[0].offsetWidth : i[0].offsetHeight,\n                        r = this.size / this.virtualSize,\n                        o = r * (a / this.size);\n                    s = \"auto\" === this.params.scrollbar.dragSize ? a * r : parseInt(this.params.scrollbar.dragSize, 10), this.isHorizontal() ? t[0].style.width = s + \"px\" : t[0].style.height = s + \"px\", i[0].style.display = r >= 1 ? \"none\" : \"\", this.params.scrollbar.hide && (i[0].style.opacity = 0), n.extend(e, { trackSize: a, divider: r, moveDivider: o, dragSize: s }), e.$el[this.params.watchOverflow && this.isLocked ? \"addClass\" : \"removeClass\"](this.params.scrollbar.lockClass)\n                }\n            },\n            getPointerPosition: function(e) { return this.isHorizontal() ? \"touchstart\" === e.type || \"touchmove\" === e.type ? e.targetTouches[0].clientX : e.clientX : \"touchstart\" === e.type || \"touchmove\" === e.type ? e.targetTouches[0].clientY : e.clientY },\n            setDragPosition: function(e) {\n                var t, i = this.scrollbar,\n                    s = this.rtlTranslate,\n                    a = i.$el,\n                    r = i.dragSize,\n                    n = i.trackSize,\n                    o = i.dragStartPos;\n                t = (i.getPointerPosition(e) - a.offset()[this.isHorizontal() ? \"left\" : \"top\"] - (null !== o ? o : r / 2)) / (n - r), t = Math.max(Math.min(t, 1), 0), s && (t = 1 - t);\n                var l = this.minTranslate() + (this.maxTranslate() - this.minTranslate()) * t;\n                this.updateProgress(l), this.setTranslate(l), this.updateActiveIndex(), this.updateSlidesClasses()\n            },\n            onDragStart: function(e) {\n                var t = this.params.scrollbar,\n                    i = this.scrollbar,\n                    s = this.$wrapperEl,\n                    a = i.$el,\n                    r = i.$dragEl;\n                this.scrollbar.isTouched = !0, this.scrollbar.dragStartPos = e.target === r[0] || e.target === r ? i.getPointerPosition(e) - e.target.getBoundingClientRect()[this.isHorizontal() ? \"left\" : \"top\"] : null, e.preventDefault(), e.stopPropagation(), s.transition(100), r.transition(100), i.setDragPosition(e), clearTimeout(this.scrollbar.dragTimeout), a.transition(0), t.hide && a.css(\"opacity\", 1), this.params.cssMode && this.$wrapperEl.css(\"scroll-snap-type\", \"none\"), this.emit(\"scrollbarDragStart\", e)\n            },\n            onDragMove: function(e) {\n                var t = this.scrollbar,\n                    i = this.$wrapperEl,\n                    s = t.$el,\n                    a = t.$dragEl;\n                this.scrollbar.isTouched && (e.preventDefault ? e.preventDefault() : e.returnValue = !1, t.setDragPosition(e), i.transition(0), s.transition(0), a.transition(0), this.emit(\"scrollbarDragMove\", e))\n            },\n            onDragEnd: function(e) {\n                var t = this.params.scrollbar,\n                    i = this.scrollbar,\n                    s = this.$wrapperEl,\n                    a = i.$el;\n                this.scrollbar.isTouched && (this.scrollbar.isTouched = !1, this.params.cssMode && (this.$wrapperEl.css(\"scroll-snap-type\", \"\"), s.transition(\"\")), t.hide && (clearTimeout(this.scrollbar.dragTimeout), this.scrollbar.dragTimeout = n.nextTick((function() { a.css(\"opacity\", 0), a.transition(400) }), 1e3)), this.emit(\"scrollbarDragEnd\", e), t.snapOnRelease && this.slideToClosest())\n            },\n            enableDraggable: function() {\n                if (this.params.scrollbar.el) {\n                    var t = this.scrollbar,\n                        i = this.touchEventsTouch,\n                        s = this.touchEventsDesktop,\n                        a = this.params,\n                        r = t.$el[0],\n                        n = !(!o.passiveListener || !a.passiveListeners) && { passive: !1, capture: !1 },\n                        l = !(!o.passiveListener || !a.passiveListeners) && { passive: !0, capture: !1 };\n                    o.touch ? (r.addEventListener(i.start, this.scrollbar.onDragStart, n), r.addEventListener(i.move, this.scrollbar.onDragMove, n), r.addEventListener(i.end, this.scrollbar.onDragEnd, l)) : (r.addEventListener(s.start, this.scrollbar.onDragStart, n), e.addEventListener(s.move, this.scrollbar.onDragMove, n), e.addEventListener(s.end, this.scrollbar.onDragEnd, l))\n                }\n            },\n            disableDraggable: function() {\n                if (this.params.scrollbar.el) {\n                    var t = this.scrollbar,\n                        i = this.touchEventsTouch,\n                        s = this.touchEventsDesktop,\n                        a = this.params,\n                        r = t.$el[0],\n                        n = !(!o.passiveListener || !a.passiveListeners) && { passive: !1, capture: !1 },\n                        l = !(!o.passiveListener || !a.passiveListeners) && { passive: !0, capture: !1 };\n                    o.touch ? (r.removeEventListener(i.start, this.scrollbar.onDragStart, n), r.removeEventListener(i.move, this.scrollbar.onDragMove, n), r.removeEventListener(i.end, this.scrollbar.onDragEnd, l)) : (r.removeEventListener(s.start, this.scrollbar.onDragStart, n), e.removeEventListener(s.move, this.scrollbar.onDragMove, n), e.removeEventListener(s.end, this.scrollbar.onDragEnd, l))\n                }\n            },\n            init: function() {\n                if (this.params.scrollbar.el) {\n                    var e = this.scrollbar,\n                        t = this.$el,\n                        i = this.params.scrollbar,\n                        a = s(i.el);\n                    this.params.uniqueNavElements && \"string\" == typeof i.el && a.length > 1 && 1 === t.find(i.el).length && (a = t.find(i.el));\n                    var r = a.find(\".\" + this.params.scrollbar.dragClass);\n                    0 === r.length && (r = s('<div class=\"' + this.params.scrollbar.dragClass + '\"></div>'), a.append(r)), n.extend(e, { $el: a, el: a[0], $dragEl: r, dragEl: r[0] }), i.draggable && e.enableDraggable()\n                }\n            },\n            destroy: function() { this.scrollbar.disableDraggable() }\n        },\n        ne = {\n            setTransform: function(e, t) {\n                var i = this.rtl,\n                    a = s(e),\n                    r = i ? -1 : 1,\n                    n = a.attr(\"data-swiper-parallax\") || \"0\",\n                    o = a.attr(\"data-swiper-parallax-x\"),\n                    l = a.attr(\"data-swiper-parallax-y\"),\n                    d = a.attr(\"data-swiper-parallax-scale\"),\n                    h = a.attr(\"data-swiper-parallax-opacity\");\n                if (o || l ? (o = o || \"0\", l = l || \"0\") : this.isHorizontal() ? (o = n, l = \"0\") : (l = n, o = \"0\"), o = o.indexOf(\"%\") >= 0 ? parseInt(o, 10) * t * r + \"%\" : o * t * r + \"px\", l = l.indexOf(\"%\") >= 0 ? parseInt(l, 10) * t + \"%\" : l * t + \"px\", null != h) {\n                    var p = h - (h - 1) * (1 - Math.abs(t));\n                    a[0].style.opacity = p\n                }\n                if (null == d) a.transform(\"translate3d(\" + o + \", \" + l + \", 0px)\");\n                else {\n                    var c = d - (d - 1) * (1 - Math.abs(t));\n                    a.transform(\"translate3d(\" + o + \", \" + l + \", 0px) scale(\" + c + \")\")\n                }\n            },\n            setTranslate: function() {\n                var e = this,\n                    t = e.$el,\n                    i = e.slides,\n                    a = e.progress,\n                    r = e.snapGrid;\n                t.children(\"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]\").each((function(t, i) { e.parallax.setTransform(i, a) })), i.each((function(t, i) {\n                    var n = i.progress;\n                    e.params.slidesPerGroup > 1 && \"auto\" !== e.params.slidesPerView && (n += Math.ceil(t / 2) - a * (r.length - 1)), n = Math.min(Math.max(n, -1), 1), s(i).find(\"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]\").each((function(t, i) { e.parallax.setTransform(i, n) }))\n                }))\n            },\n            setTransition: function(e) {\n                void 0 === e && (e = this.params.speed);\n                this.$el.find(\"[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]\").each((function(t, i) {\n                    var a = s(i),\n                        r = parseInt(a.attr(\"data-swiper-parallax-duration\"), 10) || e;\n                    0 === e && (r = 0), a.transition(r)\n                }))\n            }\n        },\n        oe = {\n            getDistanceBetweenTouches: function(e) {\n                if (e.targetTouches.length < 2) return 1;\n                var t = e.targetTouches[0].pageX,\n                    i = e.targetTouches[0].pageY,\n                    s = e.targetTouches[1].pageX,\n                    a = e.targetTouches[1].pageY;\n                return Math.sqrt(Math.pow(s - t, 2) + Math.pow(a - i, 2))\n            },\n            onGestureStart: function(e) {\n                var t = this.params.zoom,\n                    i = this.zoom,\n                    a = i.gesture;\n                if (i.fakeGestureTouched = !1, i.fakeGestureMoved = !1, !o.gestures) {\n                    if (\"touchstart\" !== e.type || \"touchstart\" === e.type && e.targetTouches.length < 2) return;\n                    i.fakeGestureTouched = !0, a.scaleStart = oe.getDistanceBetweenTouches(e)\n                }\n                a.$slideEl && a.$slideEl.length || (a.$slideEl = s(e.target).closest(\".swiper-slide\"), 0 === a.$slideEl.length && (a.$slideEl = this.slides.eq(this.activeIndex)), a.$imageEl = a.$slideEl.find(\"img, svg, canvas\"), a.$imageWrapEl = a.$imageEl.parent(\".\" + t.containerClass), a.maxRatio = a.$imageWrapEl.attr(\"data-swiper-zoom\") || t.maxRatio, 0 !== a.$imageWrapEl.length) ? (a.$imageEl.transition(0), this.zoom.isScaling = !0) : a.$imageEl = void 0\n            },\n            onGestureChange: function(e) {\n                var t = this.params.zoom,\n                    i = this.zoom,\n                    s = i.gesture;\n                if (!o.gestures) {\n                    if (\"touchmove\" !== e.type || \"touchmove\" === e.type && e.targetTouches.length < 2) return;\n                    i.fakeGestureMoved = !0, s.scaleMove = oe.getDistanceBetweenTouches(e)\n                }\n                s.$imageEl && 0 !== s.$imageEl.length && (o.gestures ? i.scale = e.scale * i.currentScale : i.scale = s.scaleMove / s.scaleStart * i.currentScale, i.scale > s.maxRatio && (i.scale = s.maxRatio - 1 + Math.pow(i.scale - s.maxRatio + 1, .5)), i.scale < t.minRatio && (i.scale = t.minRatio + 1 - Math.pow(t.minRatio - i.scale + 1, .5)), s.$imageEl.transform(\"translate3d(0,0,0) scale(\" + i.scale + \")\"))\n            },\n            onGestureEnd: function(e) {\n                var t = this.params.zoom,\n                    i = this.zoom,\n                    s = i.gesture;\n                if (!o.gestures) {\n                    if (!i.fakeGestureTouched || !i.fakeGestureMoved) return;\n                    if (\"touchend\" !== e.type || \"touchend\" === e.type && e.changedTouches.length < 2 && !I.android) return;\n                    i.fakeGestureTouched = !1, i.fakeGestureMoved = !1\n                }\n                s.$imageEl && 0 !== s.$imageEl.length && (i.scale = Math.max(Math.min(i.scale, s.maxRatio), t.minRatio), s.$imageEl.transition(this.params.speed).transform(\"translate3d(0,0,0) scale(\" + i.scale + \")\"), i.currentScale = i.scale, i.isScaling = !1, 1 === i.scale && (s.$slideEl = void 0))\n            },\n            onTouchStart: function(e) {\n                var t = this.zoom,\n                    i = t.gesture,\n                    s = t.image;\n                i.$imageEl && 0 !== i.$imageEl.length && (s.isTouched || (I.android && e.preventDefault(), s.isTouched = !0, s.touchesStart.x = \"touchstart\" === e.type ? e.targetTouches[0].pageX : e.pageX, s.touchesStart.y = \"touchstart\" === e.type ? e.targetTouches[0].pageY : e.pageY))\n            },\n            onTouchMove: function(e) {\n                var t = this.zoom,\n                    i = t.gesture,\n                    s = t.image,\n                    a = t.velocity;\n                if (i.$imageEl && 0 !== i.$imageEl.length && (this.allowClick = !1, s.isTouched && i.$slideEl)) {\n                    s.isMoved || (s.width = i.$imageEl[0].offsetWidth, s.height = i.$imageEl[0].offsetHeight, s.startX = n.getTranslate(i.$imageWrapEl[0], \"x\") || 0, s.startY = n.getTranslate(i.$imageWrapEl[0], \"y\") || 0, i.slideWidth = i.$slideEl[0].offsetWidth, i.slideHeight = i.$slideEl[0].offsetHeight, i.$imageWrapEl.transition(0), this.rtl && (s.startX = -s.startX, s.startY = -s.startY));\n                    var r = s.width * t.scale,\n                        o = s.height * t.scale;\n                    if (!(r < i.slideWidth && o < i.slideHeight)) {\n                        if (s.minX = Math.min(i.slideWidth / 2 - r / 2, 0), s.maxX = -s.minX, s.minY = Math.min(i.slideHeight / 2 - o / 2, 0), s.maxY = -s.minY, s.touchesCurrent.x = \"touchmove\" === e.type ? e.targetTouches[0].pageX : e.pageX, s.touchesCurrent.y = \"touchmove\" === e.type ? e.targetTouches[0].pageY : e.pageY, !s.isMoved && !t.isScaling) { if (this.isHorizontal() && (Math.floor(s.minX) === Math.floor(s.startX) && s.touchesCurrent.x < s.touchesStart.x || Math.floor(s.maxX) === Math.floor(s.startX) && s.touchesCurrent.x > s.touchesStart.x)) return void(s.isTouched = !1); if (!this.isHorizontal() && (Math.floor(s.minY) === Math.floor(s.startY) && s.touchesCurrent.y < s.touchesStart.y || Math.floor(s.maxY) === Math.floor(s.startY) && s.touchesCurrent.y > s.touchesStart.y)) return void(s.isTouched = !1) }\n                        e.preventDefault(), e.stopPropagation(), s.isMoved = !0, s.currentX = s.touchesCurrent.x - s.touchesStart.x + s.startX, s.currentY = s.touchesCurrent.y - s.touchesStart.y + s.startY, s.currentX < s.minX && (s.currentX = s.minX + 1 - Math.pow(s.minX - s.currentX + 1, .8)), s.currentX > s.maxX && (s.currentX = s.maxX - 1 + Math.pow(s.currentX - s.maxX + 1, .8)), s.currentY < s.minY && (s.currentY = s.minY + 1 - Math.pow(s.minY - s.currentY + 1, .8)), s.currentY > s.maxY && (s.currentY = s.maxY - 1 + Math.pow(s.currentY - s.maxY + 1, .8)), a.prevPositionX || (a.prevPositionX = s.touchesCurrent.x), a.prevPositionY || (a.prevPositionY = s.touchesCurrent.y), a.prevTime || (a.prevTime = Date.now()), a.x = (s.touchesCurrent.x - a.prevPositionX) / (Date.now() - a.prevTime) / 2, a.y = (s.touchesCurrent.y - a.prevPositionY) / (Date.now() - a.prevTime) / 2, Math.abs(s.touchesCurrent.x - a.prevPositionX) < 2 && (a.x = 0), Math.abs(s.touchesCurrent.y - a.prevPositionY) < 2 && (a.y = 0), a.prevPositionX = s.touchesCurrent.x, a.prevPositionY = s.touchesCurrent.y, a.prevTime = Date.now(), i.$imageWrapEl.transform(\"translate3d(\" + s.currentX + \"px, \" + s.currentY + \"px,0)\")\n                    }\n                }\n            },\n            onTouchEnd: function() {\n                var e = this.zoom,\n                    t = e.gesture,\n                    i = e.image,\n                    s = e.velocity;\n                if (t.$imageEl && 0 !== t.$imageEl.length) {\n                    if (!i.isTouched || !i.isMoved) return i.isTouched = !1, void(i.isMoved = !1);\n                    i.isTouched = !1, i.isMoved = !1;\n                    var a = 300,\n                        r = 300,\n                        n = s.x * a,\n                        o = i.currentX + n,\n                        l = s.y * r,\n                        d = i.currentY + l;\n                    0 !== s.x && (a = Math.abs((o - i.currentX) / s.x)), 0 !== s.y && (r = Math.abs((d - i.currentY) / s.y));\n                    var h = Math.max(a, r);\n                    i.currentX = o, i.currentY = d;\n                    var p = i.width * e.scale,\n                        c = i.height * e.scale;\n                    i.minX = Math.min(t.slideWidth / 2 - p / 2, 0), i.maxX = -i.minX, i.minY = Math.min(t.slideHeight / 2 - c / 2, 0), i.maxY = -i.minY, i.currentX = Math.max(Math.min(i.currentX, i.maxX), i.minX), i.currentY = Math.max(Math.min(i.currentY, i.maxY), i.minY), t.$imageWrapEl.transition(h).transform(\"translate3d(\" + i.currentX + \"px, \" + i.currentY + \"px,0)\")\n                }\n            },\n            onTransitionEnd: function() {\n                var e = this.zoom,\n                    t = e.gesture;\n                t.$slideEl && this.previousIndex !== this.activeIndex && (t.$imageEl.transform(\"translate3d(0,0,0) scale(1)\"), t.$imageWrapEl.transform(\"translate3d(0,0,0)\"), e.scale = 1, e.currentScale = 1, t.$slideEl = void 0, t.$imageEl = void 0, t.$imageWrapEl = void 0)\n            },\n            toggle: function(e) {\n                var t = this.zoom;\n                t.scale && 1 !== t.scale ? t.out() : t.in(e)\n            },\n            in: function(e) {\n                var t, i, a, r, n, o, l, d, h, p, c, u, v, f, m, g, b = this.zoom,\n                    w = this.params.zoom,\n                    y = b.gesture,\n                    x = b.image;\n                (y.$slideEl || (y.$slideEl = this.clickedSlide ? s(this.clickedSlide) : this.slides.eq(this.activeIndex), y.$imageEl = y.$slideEl.find(\"img, svg, canvas\"), y.$imageWrapEl = y.$imageEl.parent(\".\" + w.containerClass)), y.$imageEl && 0 !== y.$imageEl.length) && (y.$slideEl.addClass(\"\" + w.zoomedSlideClass), void 0 === x.touchesStart.x && e ? (t = \"touchend\" === e.type ? e.changedTouches[0].pageX : e.pageX, i = \"touchend\" === e.type ? e.changedTouches[0].pageY : e.pageY) : (t = x.touchesStart.x, i = x.touchesStart.y), b.scale = y.$imageWrapEl.attr(\"data-swiper-zoom\") || w.maxRatio, b.currentScale = y.$imageWrapEl.attr(\"data-swiper-zoom\") || w.maxRatio, e ? (m = y.$slideEl[0].offsetWidth, g = y.$slideEl[0].offsetHeight, a = y.$slideEl.offset().left + m / 2 - t, r = y.$slideEl.offset().top + g / 2 - i, l = y.$imageEl[0].offsetWidth, d = y.$imageEl[0].offsetHeight, h = l * b.scale, p = d * b.scale, v = -(c = Math.min(m / 2 - h / 2, 0)), f = -(u = Math.min(g / 2 - p / 2, 0)), (n = a * b.scale) < c && (n = c), n > v && (n = v), (o = r * b.scale) < u && (o = u), o > f && (o = f)) : (n = 0, o = 0), y.$imageWrapEl.transition(300).transform(\"translate3d(\" + n + \"px, \" + o + \"px,0)\"), y.$imageEl.transition(300).transform(\"translate3d(0,0,0) scale(\" + b.scale + \")\"))\n            },\n            out: function() {\n                var e = this.zoom,\n                    t = this.params.zoom,\n                    i = e.gesture;\n                i.$slideEl || (i.$slideEl = this.clickedSlide ? s(this.clickedSlide) : this.slides.eq(this.activeIndex), i.$imageEl = i.$slideEl.find(\"img, svg, canvas\"), i.$imageWrapEl = i.$imageEl.parent(\".\" + t.containerClass)), i.$imageEl && 0 !== i.$imageEl.length && (e.scale = 1, e.currentScale = 1, i.$imageWrapEl.transition(300).transform(\"translate3d(0,0,0)\"), i.$imageEl.transition(300).transform(\"translate3d(0,0,0) scale(1)\"), i.$slideEl.removeClass(\"\" + t.zoomedSlideClass), i.$slideEl = void 0)\n            },\n            enable: function() {\n                var e = this.zoom;\n                if (!e.enabled) {\n                    e.enabled = !0;\n                    var t = !(\"touchstart\" !== this.touchEvents.start || !o.passiveListener || !this.params.passiveListeners) && { passive: !0, capture: !1 },\n                        i = !o.passiveListener || { passive: !1, capture: !0 };\n                    o.gestures ? (this.$wrapperEl.on(\"gesturestart\", \".swiper-slide\", e.onGestureStart, t), this.$wrapperEl.on(\"gesturechange\", \".swiper-slide\", e.onGestureChange, t), this.$wrapperEl.on(\"gestureend\", \".swiper-slide\", e.onGestureEnd, t)) : \"touchstart\" === this.touchEvents.start && (this.$wrapperEl.on(this.touchEvents.start, \".swiper-slide\", e.onGestureStart, t), this.$wrapperEl.on(this.touchEvents.move, \".swiper-slide\", e.onGestureChange, i), this.$wrapperEl.on(this.touchEvents.end, \".swiper-slide\", e.onGestureEnd, t), this.touchEvents.cancel && this.$wrapperEl.on(this.touchEvents.cancel, \".swiper-slide\", e.onGestureEnd, t)), this.$wrapperEl.on(this.touchEvents.move, \".\" + this.params.zoom.containerClass, e.onTouchMove, i)\n                }\n            },\n            disable: function() {\n                var e = this.zoom;\n                if (e.enabled) {\n                    this.zoom.enabled = !1;\n                    var t = !(\"touchstart\" !== this.touchEvents.start || !o.passiveListener || !this.params.passiveListeners) && { passive: !0, capture: !1 },\n                        i = !o.passiveListener || { passive: !1, capture: !0 };\n                    o.gestures ? (this.$wrapperEl.off(\"gesturestart\", \".swiper-slide\", e.onGestureStart, t), this.$wrapperEl.off(\"gesturechange\", \".swiper-slide\", e.onGestureChange, t), this.$wrapperEl.off(\"gestureend\", \".swiper-slide\", e.onGestureEnd, t)) : \"touchstart\" === this.touchEvents.start && (this.$wrapperEl.off(this.touchEvents.start, \".swiper-slide\", e.onGestureStart, t), this.$wrapperEl.off(this.touchEvents.move, \".swiper-slide\", e.onGestureChange, i), this.$wrapperEl.off(this.touchEvents.end, \".swiper-slide\", e.onGestureEnd, t), this.touchEvents.cancel && this.$wrapperEl.off(this.touchEvents.cancel, \".swiper-slide\", e.onGestureEnd, t)), this.$wrapperEl.off(this.touchEvents.move, \".\" + this.params.zoom.containerClass, e.onTouchMove, i)\n                }\n            }\n        },\n        le = {\n            loadInSlide: function(e, t) {\n                void 0 === t && (t = !0);\n                var i = this,\n                    a = i.params.lazy;\n                if (void 0 !== e && 0 !== i.slides.length) {\n                    var r = i.virtual && i.params.virtual.enabled ? i.$wrapperEl.children(\".\" + i.params.slideClass + '[data-swiper-slide-index=\"' + e + '\"]') : i.slides.eq(e),\n                        n = r.find(\".\" + a.elementClass + \":not(.\" + a.loadedClass + \"):not(.\" + a.loadingClass + \")\");\n                    !r.hasClass(a.elementClass) || r.hasClass(a.loadedClass) || r.hasClass(a.loadingClass) || (n = n.add(r[0])), 0 !== n.length && n.each((function(e, n) {\n                        var o = s(n);\n                        o.addClass(a.loadingClass);\n                        var l = o.attr(\"data-background\"),\n                            d = o.attr(\"data-src\"),\n                            h = o.attr(\"data-srcset\"),\n                            p = o.attr(\"data-sizes\");\n                        i.loadImage(o[0], d || l, h, p, !1, (function() {\n                            if (null != i && i && (!i || i.params) && !i.destroyed) {\n                                if (l ? (o.css(\"background-image\", 'url(\"' + l + '\")'), o.removeAttr(\"data-background\")) : (h && (o.attr(\"srcset\", h), o.removeAttr(\"data-srcset\")), p && (o.attr(\"sizes\", p), o.removeAttr(\"data-sizes\")), d && (o.attr(\"src\", d), o.removeAttr(\"data-src\"))), o.addClass(a.loadedClass).removeClass(a.loadingClass), r.find(\".\" + a.preloaderClass).remove(), i.params.loop && t) {\n                                    var e = r.attr(\"data-swiper-slide-index\");\n                                    if (r.hasClass(i.params.slideDuplicateClass)) {\n                                        var s = i.$wrapperEl.children('[data-swiper-slide-index=\"' + e + '\"]:not(.' + i.params.slideDuplicateClass + \")\");\n                                        i.lazy.loadInSlide(s.index(), !1)\n                                    } else {\n                                        var n = i.$wrapperEl.children(\".\" + i.params.slideDuplicateClass + '[data-swiper-slide-index=\"' + e + '\"]');\n                                        i.lazy.loadInSlide(n.index(), !1)\n                                    }\n                                }\n                                i.emit(\"lazyImageReady\", r[0], o[0])\n                            }\n                        })), i.emit(\"lazyImageLoad\", r[0], o[0])\n                    }))\n                }\n            },\n            load: function() {\n                var e = this,\n                    t = e.$wrapperEl,\n                    i = e.params,\n                    a = e.slides,\n                    r = e.activeIndex,\n                    n = e.virtual && i.virtual.enabled,\n                    o = i.lazy,\n                    l = i.slidesPerView;\n\n                function d(e) { if (n) { if (t.children(\".\" + i.slideClass + '[data-swiper-slide-index=\"' + e + '\"]').length) return !0 } else if (a[e]) return !0; return !1 }\n\n                function h(e) { return n ? s(e).attr(\"data-swiper-slide-index\") : s(e).index() }\n                if (\"auto\" === l && (l = 0), e.lazy.initialImageLoaded || (e.lazy.initialImageLoaded = !0), e.params.watchSlidesVisibility) t.children(\".\" + i.slideVisibleClass).each((function(t, i) {\n                    var a = n ? s(i).attr(\"data-swiper-slide-index\") : s(i).index();\n                    e.lazy.loadInSlide(a)\n                }));\n                else if (l > 1)\n                    for (var p = r; p < r + l; p += 1) d(p) && e.lazy.loadInSlide(p);\n                else e.lazy.loadInSlide(r);\n                if (o.loadPrevNext)\n                    if (l > 1 || o.loadPrevNextAmount && o.loadPrevNextAmount > 1) { for (var c = o.loadPrevNextAmount, u = l, v = Math.min(r + u + Math.max(c, u), a.length), f = Math.max(r - Math.max(u, c), 0), m = r + l; m < v; m += 1) d(m) && e.lazy.loadInSlide(m); for (var g = f; g < r; g += 1) d(g) && e.lazy.loadInSlide(g) } else {\n                        var b = t.children(\".\" + i.slideNextClass);\n                        b.length > 0 && e.lazy.loadInSlide(h(b));\n                        var w = t.children(\".\" + i.slidePrevClass);\n                        w.length > 0 && e.lazy.loadInSlide(h(w))\n                    }\n            }\n        },\n        de = {\n            LinearSpline: function(e, t) { var i, s, a, r, n, o = function(e, t) { for (s = -1, i = e.length; i - s > 1;) e[a = i + s >> 1] <= t ? s = a : i = a; return i }; return this.x = e, this.y = t, this.lastIndex = e.length - 1, this.interpolate = function(e) { return e ? (n = o(this.x, e), r = n - 1, (e - this.x[r]) * (this.y[n] - this.y[r]) / (this.x[n] - this.x[r]) + this.y[r]) : 0 }, this },\n            getInterpolateFunction: function(e) { this.controller.spline || (this.controller.spline = this.params.loop ? new de.LinearSpline(this.slidesGrid, e.slidesGrid) : new de.LinearSpline(this.snapGrid, e.snapGrid)) },\n            setTranslate: function(e, t) {\n                var i, s, a = this,\n                    r = a.controller.control;\n\n                function n(e) { var t = a.rtlTranslate ? -a.translate : a.translate; \"slide\" === a.params.controller.by && (a.controller.getInterpolateFunction(e), s = -a.controller.spline.interpolate(-t)), s && \"container\" !== a.params.controller.by || (i = (e.maxTranslate() - e.minTranslate()) / (a.maxTranslate() - a.minTranslate()), s = (t - a.minTranslate()) * i + e.minTranslate()), a.params.controller.inverse && (s = e.maxTranslate() - s), e.updateProgress(s), e.setTranslate(s, a), e.updateActiveIndex(), e.updateSlidesClasses() }\n                if (Array.isArray(r))\n                    for (var o = 0; o < r.length; o += 1) r[o] !== t && r[o] instanceof W && n(r[o]);\n                else r instanceof W && t !== r && n(r)\n            },\n            setTransition: function(e, t) {\n                var i, s = this,\n                    a = s.controller.control;\n\n                function r(t) { t.setTransition(e, s), 0 !== e && (t.transitionStart(), t.params.autoHeight && n.nextTick((function() { t.updateAutoHeight() })), t.$wrapperEl.transitionEnd((function() { a && (t.params.loop && \"slide\" === s.params.controller.by && t.loopFix(), t.transitionEnd()) }))) }\n                if (Array.isArray(a))\n                    for (i = 0; i < a.length; i += 1) a[i] !== t && a[i] instanceof W && r(a[i]);\n                else a instanceof W && t !== a && r(a)\n            }\n        },\n        he = {\n            makeElFocusable: function(e) { return e.attr(\"tabIndex\", \"0\"), e },\n            addElRole: function(e, t) { return e.attr(\"role\", t), e },\n            addElLabel: function(e, t) { return e.attr(\"aria-label\", t), e },\n            disableEl: function(e) { return e.attr(\"aria-disabled\", !0), e },\n            enableEl: function(e) { return e.attr(\"aria-disabled\", !1), e },\n            onEnterKey: function(e) {\n                var t = this.params.a11y;\n                if (13 === e.keyCode) {\n                    var i = s(e.target);\n                    this.navigation && this.navigation.$nextEl && i.is(this.navigation.$nextEl) && (this.isEnd && !this.params.loop || this.slideNext(), this.isEnd ? this.a11y.notify(t.lastSlideMessage) : this.a11y.notify(t.nextSlideMessage)), this.navigation && this.navigation.$prevEl && i.is(this.navigation.$prevEl) && (this.isBeginning && !this.params.loop || this.slidePrev(), this.isBeginning ? this.a11y.notify(t.firstSlideMessage) : this.a11y.notify(t.prevSlideMessage)), this.pagination && i.is(\".\" + this.params.pagination.bulletClass) && i[0].click()\n                }\n            },\n            notify: function(e) {\n                var t = this.a11y.liveRegion;\n                0 !== t.length && (t.html(\"\"), t.html(e))\n            },\n            updateNavigation: function() {\n                if (!this.params.loop && this.navigation) {\n                    var e = this.navigation,\n                        t = e.$nextEl,\n                        i = e.$prevEl;\n                    i && i.length > 0 && (this.isBeginning ? this.a11y.disableEl(i) : this.a11y.enableEl(i)), t && t.length > 0 && (this.isEnd ? this.a11y.disableEl(t) : this.a11y.enableEl(t))\n                }\n            },\n            updatePagination: function() {\n                var e = this,\n                    t = e.params.a11y;\n                e.pagination && e.params.pagination.clickable && e.pagination.bullets && e.pagination.bullets.length && e.pagination.bullets.each((function(i, a) {\n                    var r = s(a);\n                    e.a11y.makeElFocusable(r), e.a11y.addElRole(r, \"button\"), e.a11y.addElLabel(r, t.paginationBulletMessage.replace(/{{index}}/, r.index() + 1))\n                }))\n            },\n            init: function() {\n                this.$el.append(this.a11y.liveRegion);\n                var e, t, i = this.params.a11y;\n                this.navigation && this.navigation.$nextEl && (e = this.navigation.$nextEl), this.navigation && this.navigation.$prevEl && (t = this.navigation.$prevEl), e && (this.a11y.makeElFocusable(e), this.a11y.addElRole(e, \"button\"), this.a11y.addElLabel(e, i.nextSlideMessage), e.on(\"keydown\", this.a11y.onEnterKey)), t && (this.a11y.makeElFocusable(t), this.a11y.addElRole(t, \"button\"), this.a11y.addElLabel(t, i.prevSlideMessage), t.on(\"keydown\", this.a11y.onEnterKey)), this.pagination && this.params.pagination.clickable && this.pagination.bullets && this.pagination.bullets.length && this.pagination.$el.on(\"keydown\", \".\" + this.params.pagination.bulletClass, this.a11y.onEnterKey)\n            },\n            destroy: function() {\n                var e, t;\n                this.a11y.liveRegion && this.a11y.liveRegion.length > 0 && this.a11y.liveRegion.remove(), this.navigation && this.navigation.$nextEl && (e = this.navigation.$nextEl), this.navigation && this.navigation.$prevEl && (t = this.navigation.$prevEl), e && e.off(\"keydown\", this.a11y.onEnterKey), t && t.off(\"keydown\", this.a11y.onEnterKey), this.pagination && this.params.pagination.clickable && this.pagination.bullets && this.pagination.bullets.length && this.pagination.$el.off(\"keydown\", \".\" + this.params.pagination.bulletClass, this.a11y.onEnterKey)\n            }\n        },\n        pe = {\n            init: function() {\n                if (this.params.history) {\n                    if (!t.history || !t.history.pushState) return this.params.history.enabled = !1, void(this.params.hashNavigation.enabled = !0);\n                    var e = this.history;\n                    e.initialized = !0, e.paths = pe.getPathValues(), (e.paths.key || e.paths.value) && (e.scrollToSlide(0, e.paths.value, this.params.runCallbacksOnInit), this.params.history.replaceState || t.addEventListener(\"popstate\", this.history.setHistoryPopState))\n                }\n            },\n            destroy: function() { this.params.history.replaceState || t.removeEventListener(\"popstate\", this.history.setHistoryPopState) },\n            setHistoryPopState: function() { this.history.paths = pe.getPathValues(), this.history.scrollToSlide(this.params.speed, this.history.paths.value, !1) },\n            getPathValues: function() {\n                var e = t.location.pathname.slice(1).split(\"/\").filter((function(e) { return \"\" !== e })),\n                    i = e.length;\n                return { key: e[i - 2], value: e[i - 1] }\n            },\n            setHistory: function(e, i) {\n                if (this.history.initialized && this.params.history.enabled) {\n                    var s = this.slides.eq(i),\n                        a = pe.slugify(s.attr(\"data-history\"));\n                    t.location.pathname.includes(e) || (a = e + \"/\" + a);\n                    var r = t.history.state;\n                    r && r.value === a || (this.params.history.replaceState ? t.history.replaceState({ value: a }, null, a) : t.history.pushState({ value: a }, null, a))\n                }\n            },\n            slugify: function(e) { return e.toString().replace(/\\s+/g, \"-\").replace(/[^\\w-]+/g, \"\").replace(/--+/g, \"-\").replace(/^-+/, \"\").replace(/-+$/, \"\") },\n            scrollToSlide: function(e, t, i) {\n                if (t)\n                    for (var s = 0, a = this.slides.length; s < a; s += 1) {\n                        var r = this.slides.eq(s);\n                        if (pe.slugify(r.attr(\"data-history\")) === t && !r.hasClass(this.params.slideDuplicateClass)) {\n                            var n = r.index();\n                            this.slideTo(n, e, i)\n                        }\n                    } else this.slideTo(0, e, i)\n            }\n        },\n        ce = {\n            onHashCange: function() {\n                var t = e.location.hash.replace(\"#\", \"\");\n                if (t !== this.slides.eq(this.activeIndex).attr(\"data-hash\")) {\n                    var i = this.$wrapperEl.children(\".\" + this.params.slideClass + '[data-hash=\"' + t + '\"]').index();\n                    if (void 0 === i) return;\n                    this.slideTo(i)\n                }\n            },\n            setHash: function() {\n                if (this.hashNavigation.initialized && this.params.hashNavigation.enabled)\n                    if (this.params.hashNavigation.replaceState && t.history && t.history.replaceState) t.history.replaceState(null, null, \"#\" + this.slides.eq(this.activeIndex).attr(\"data-hash\") || \"\");\n                    else {\n                        var i = this.slides.eq(this.activeIndex),\n                            s = i.attr(\"data-hash\") || i.attr(\"data-history\");\n                        e.location.hash = s || \"\"\n                    }\n            },\n            init: function() {\n                if (!(!this.params.hashNavigation.enabled || this.params.history && this.params.history.enabled)) {\n                    this.hashNavigation.initialized = !0;\n                    var i = e.location.hash.replace(\"#\", \"\");\n                    if (i)\n                        for (var a = 0, r = this.slides.length; a < r; a += 1) {\n                            var n = this.slides.eq(a);\n                            if ((n.attr(\"data-hash\") || n.attr(\"data-history\")) === i && !n.hasClass(this.params.slideDuplicateClass)) {\n                                var o = n.index();\n                                this.slideTo(o, 0, this.params.runCallbacksOnInit, !0)\n                            }\n                        }\n                    this.params.hashNavigation.watchState && s(t).on(\"hashchange\", this.hashNavigation.onHashCange)\n                }\n            },\n            destroy: function() { this.params.hashNavigation.watchState && s(t).off(\"hashchange\", this.hashNavigation.onHashCange) }\n        },\n        ue = {\n            run: function() {\n                var e = this,\n                    t = e.slides.eq(e.activeIndex),\n                    i = e.params.autoplay.delay;\n                t.attr(\"data-swiper-autoplay\") && (i = t.attr(\"data-swiper-autoplay\") || e.params.autoplay.delay), clearTimeout(e.autoplay.timeout), e.autoplay.timeout = n.nextTick((function() { e.params.autoplay.reverseDirection ? e.params.loop ? (e.loopFix(), e.slidePrev(e.params.speed, !0, !0), e.emit(\"autoplay\")) : e.isBeginning ? e.params.autoplay.stopOnLastSlide ? e.autoplay.stop() : (e.slideTo(e.slides.length - 1, e.params.speed, !0, !0), e.emit(\"autoplay\")) : (e.slidePrev(e.params.speed, !0, !0), e.emit(\"autoplay\")) : e.params.loop ? (e.loopFix(), e.slideNext(e.params.speed, !0, !0), e.emit(\"autoplay\")) : e.isEnd ? e.params.autoplay.stopOnLastSlide ? e.autoplay.stop() : (e.slideTo(0, e.params.speed, !0, !0), e.emit(\"autoplay\")) : (e.slideNext(e.params.speed, !0, !0), e.emit(\"autoplay\")), e.params.cssMode && e.autoplay.running && e.autoplay.run() }), i)\n            },\n            start: function() { return void 0 === this.autoplay.timeout && (!this.autoplay.running && (this.autoplay.running = !0, this.emit(\"autoplayStart\"), this.autoplay.run(), !0)) },\n            stop: function() { return !!this.autoplay.running && (void 0 !== this.autoplay.timeout && (this.autoplay.timeout && (clearTimeout(this.autoplay.timeout), this.autoplay.timeout = void 0), this.autoplay.running = !1, this.emit(\"autoplayStop\"), !0)) },\n            pause: function(e) { this.autoplay.running && (this.autoplay.paused || (this.autoplay.timeout && clearTimeout(this.autoplay.timeout), this.autoplay.paused = !0, 0 !== e && this.params.autoplay.waitForTransition ? (this.$wrapperEl[0].addEventListener(\"transitionend\", this.autoplay.onTransitionEnd), this.$wrapperEl[0].addEventListener(\"webkitTransitionEnd\", this.autoplay.onTransitionEnd)) : (this.autoplay.paused = !1, this.autoplay.run()))) }\n        },\n        ve = {\n            setTranslate: function() {\n                for (var e = this.slides, t = 0; t < e.length; t += 1) {\n                    var i = this.slides.eq(t),\n                        s = -i[0].swiperSlideOffset;\n                    this.params.virtualTranslate || (s -= this.translate);\n                    var a = 0;\n                    this.isHorizontal() || (a = s, s = 0);\n                    var r = this.params.fadeEffect.crossFade ? Math.max(1 - Math.abs(i[0].progress), 0) : 1 + Math.min(Math.max(i[0].progress, -1), 0);\n                    i.css({ opacity: r }).transform(\"translate3d(\" + s + \"px, \" + a + \"px, 0px)\")\n                }\n            },\n            setTransition: function(e) {\n                var t = this,\n                    i = t.slides,\n                    s = t.$wrapperEl;\n                if (i.transition(e), t.params.virtualTranslate && 0 !== e) {\n                    var a = !1;\n                    i.transitionEnd((function() { if (!a && t && !t.destroyed) { a = !0, t.animating = !1; for (var e = [\"webkitTransitionEnd\", \"transitionend\"], i = 0; i < e.length; i += 1) s.trigger(e[i]) } }))\n                }\n            }\n        },\n        fe = {\n            setTranslate: function() {\n                var e, t = this.$el,\n                    i = this.$wrapperEl,\n                    a = this.slides,\n                    r = this.width,\n                    n = this.height,\n                    o = this.rtlTranslate,\n                    l = this.size,\n                    d = this.params.cubeEffect,\n                    h = this.isHorizontal(),\n                    p = this.virtual && this.params.virtual.enabled,\n                    c = 0;\n                d.shadow && (h ? (0 === (e = i.find(\".swiper-cube-shadow\")).length && (e = s('<div class=\"swiper-cube-shadow\"></div>'), i.append(e)), e.css({ height: r + \"px\" })) : 0 === (e = t.find(\".swiper-cube-shadow\")).length && (e = s('<div class=\"swiper-cube-shadow\"></div>'), t.append(e)));\n                for (var u = 0; u < a.length; u += 1) {\n                    var v = a.eq(u),\n                        f = u;\n                    p && (f = parseInt(v.attr(\"data-swiper-slide-index\"), 10));\n                    var m = 90 * f,\n                        g = Math.floor(m / 360);\n                    o && (m = -m, g = Math.floor(-m / 360));\n                    var b = Math.max(Math.min(v[0].progress, 1), -1),\n                        w = 0,\n                        y = 0,\n                        x = 0;\n                    f % 4 == 0 ? (w = 4 * -g * l, x = 0) : (f - 1) % 4 == 0 ? (w = 0, x = 4 * -g * l) : (f - 2) % 4 == 0 ? (w = l + 4 * g * l, x = l) : (f - 3) % 4 == 0 && (w = -l, x = 3 * l + 4 * l * g), o && (w = -w), h || (y = w, w = 0);\n                    var T = \"rotateX(\" + (h ? 0 : -m) + \"deg) rotateY(\" + (h ? m : 0) + \"deg) translate3d(\" + w + \"px, \" + y + \"px, \" + x + \"px)\";\n                    if (b <= 1 && b > -1 && (c = 90 * f + 90 * b, o && (c = 90 * -f - 90 * b)), v.transform(T), d.slideShadows) {\n                        var E = h ? v.find(\".swiper-slide-shadow-left\") : v.find(\".swiper-slide-shadow-top\"),\n                            S = h ? v.find(\".swiper-slide-shadow-right\") : v.find(\".swiper-slide-shadow-bottom\");\n                        0 === E.length && (E = s('<div class=\"swiper-slide-shadow-' + (h ? \"left\" : \"top\") + '\"></div>'), v.append(E)), 0 === S.length && (S = s('<div class=\"swiper-slide-shadow-' + (h ? \"right\" : \"bottom\") + '\"></div>'), v.append(S)), E.length && (E[0].style.opacity = Math.max(-b, 0)), S.length && (S[0].style.opacity = Math.max(b, 0))\n                    }\n                }\n                if (i.css({ \"-webkit-transform-origin\": \"50% 50% -\" + l / 2 + \"px\", \"-moz-transform-origin\": \"50% 50% -\" + l / 2 + \"px\", \"-ms-transform-origin\": \"50% 50% -\" + l / 2 + \"px\", \"transform-origin\": \"50% 50% -\" + l / 2 + \"px\" }), d.shadow)\n                    if (h) e.transform(\"translate3d(0px, \" + (r / 2 + d.shadowOffset) + \"px, \" + -r / 2 + \"px) rotateX(90deg) rotateZ(0deg) scale(\" + d.shadowScale + \")\");\n                    else {\n                        var C = Math.abs(c) - 90 * Math.floor(Math.abs(c) / 90),\n                            M = 1.5 - (Math.sin(2 * C * Math.PI / 360) / 2 + Math.cos(2 * C * Math.PI / 360) / 2),\n                            P = d.shadowScale,\n                            z = d.shadowScale / M,\n                            k = d.shadowOffset;\n                        e.transform(\"scale3d(\" + P + \", 1, \" + z + \") translate3d(0px, \" + (n / 2 + k) + \"px, \" + -n / 2 / z + \"px) rotateX(-90deg)\")\n                    }\n                var $ = j.isSafari || j.isUiWebView ? -l / 2 : 0;\n                i.transform(\"translate3d(0px,0,\" + $ + \"px) rotateX(\" + (this.isHorizontal() ? 0 : c) + \"deg) rotateY(\" + (this.isHorizontal() ? -c : 0) + \"deg)\")\n            },\n            setTransition: function(e) {\n                var t = this.$el;\n                this.slides.transition(e).find(\".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left\").transition(e), this.params.cubeEffect.shadow && !this.isHorizontal() && t.find(\".swiper-cube-shadow\").transition(e)\n            }\n        },\n        me = {\n            setTranslate: function() {\n                for (var e = this.slides, t = this.rtlTranslate, i = 0; i < e.length; i += 1) {\n                    var a = e.eq(i),\n                        r = a[0].progress;\n                    this.params.flipEffect.limitRotation && (r = Math.max(Math.min(a[0].progress, 1), -1));\n                    var n = -180 * r,\n                        o = 0,\n                        l = -a[0].swiperSlideOffset,\n                        d = 0;\n                    if (this.isHorizontal() ? t && (n = -n) : (d = l, l = 0, o = -n, n = 0), a[0].style.zIndex = -Math.abs(Math.round(r)) + e.length, this.params.flipEffect.slideShadows) {\n                        var h = this.isHorizontal() ? a.find(\".swiper-slide-shadow-left\") : a.find(\".swiper-slide-shadow-top\"),\n                            p = this.isHorizontal() ? a.find(\".swiper-slide-shadow-right\") : a.find(\".swiper-slide-shadow-bottom\");\n                        0 === h.length && (h = s('<div class=\"swiper-slide-shadow-' + (this.isHorizontal() ? \"left\" : \"top\") + '\"></div>'), a.append(h)), 0 === p.length && (p = s('<div class=\"swiper-slide-shadow-' + (this.isHorizontal() ? \"right\" : \"bottom\") + '\"></div>'), a.append(p)), h.length && (h[0].style.opacity = Math.max(-r, 0)), p.length && (p[0].style.opacity = Math.max(r, 0))\n                    }\n                    a.transform(\"translate3d(\" + l + \"px, \" + d + \"px, 0px) rotateX(\" + o + \"deg) rotateY(\" + n + \"deg)\")\n                }\n            },\n            setTransition: function(e) {\n                var t = this,\n                    i = t.slides,\n                    s = t.activeIndex,\n                    a = t.$wrapperEl;\n                if (i.transition(e).find(\".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left\").transition(e), t.params.virtualTranslate && 0 !== e) {\n                    var r = !1;\n                    i.eq(s).transitionEnd((function() { if (!r && t && !t.destroyed) { r = !0, t.animating = !1; for (var e = [\"webkitTransitionEnd\", \"transitionend\"], i = 0; i < e.length; i += 1) a.trigger(e[i]) } }))\n                }\n            }\n        },\n        ge = {\n            setTranslate: function() {\n                for (var e = this.width, t = this.height, i = this.slides, a = this.$wrapperEl, r = this.slidesSizesGrid, n = this.params.coverflowEffect, l = this.isHorizontal(), d = this.translate, h = l ? e / 2 - d : t / 2 - d, p = l ? n.rotate : -n.rotate, c = n.depth, u = 0, v = i.length; u < v; u += 1) {\n                    var f = i.eq(u),\n                        m = r[u],\n                        g = (h - f[0].swiperSlideOffset - m / 2) / m * n.modifier,\n                        b = l ? p * g : 0,\n                        w = l ? 0 : p * g,\n                        y = -c * Math.abs(g),\n                        x = l ? 0 : n.stretch * g,\n                        T = l ? n.stretch * g : 0;\n                    Math.abs(T) < .001 && (T = 0), Math.abs(x) < .001 && (x = 0), Math.abs(y) < .001 && (y = 0), Math.abs(b) < .001 && (b = 0), Math.abs(w) < .001 && (w = 0);\n                    var E = \"translate3d(\" + T + \"px,\" + x + \"px,\" + y + \"px)  rotateX(\" + w + \"deg) rotateY(\" + b + \"deg)\";\n                    if (f.transform(E), f[0].style.zIndex = 1 - Math.abs(Math.round(g)), n.slideShadows) {\n                        var S = l ? f.find(\".swiper-slide-shadow-left\") : f.find(\".swiper-slide-shadow-top\"),\n                            C = l ? f.find(\".swiper-slide-shadow-right\") : f.find(\".swiper-slide-shadow-bottom\");\n                        0 === S.length && (S = s('<div class=\"swiper-slide-shadow-' + (l ? \"left\" : \"top\") + '\"></div>'), f.append(S)), 0 === C.length && (C = s('<div class=\"swiper-slide-shadow-' + (l ? \"right\" : \"bottom\") + '\"></div>'), f.append(C)), S.length && (S[0].style.opacity = g > 0 ? g : 0), C.length && (C[0].style.opacity = -g > 0 ? -g : 0)\n                    }\n                }(o.pointerEvents || o.prefixedPointerEvents) && (a[0].style.perspectiveOrigin = h + \"px 50%\")\n            },\n            setTransition: function(e) { this.slides.transition(e).find(\".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left\").transition(e) }\n        },\n        be = {\n            init: function() {\n                var e = this.params.thumbs,\n                    t = this.constructor;\n                e.swiper instanceof t ? (this.thumbs.swiper = e.swiper, n.extend(this.thumbs.swiper.originalParams, { watchSlidesProgress: !0, slideToClickedSlide: !1 }), n.extend(this.thumbs.swiper.params, { watchSlidesProgress: !0, slideToClickedSlide: !1 })) : n.isObject(e.swiper) && (this.thumbs.swiper = new t(n.extend({}, e.swiper, { watchSlidesVisibility: !0, watchSlidesProgress: !0, slideToClickedSlide: !1 })), this.thumbs.swiperCreated = !0), this.thumbs.swiper.$el.addClass(this.params.thumbs.thumbsContainerClass), this.thumbs.swiper.on(\"tap\", this.thumbs.onThumbClick)\n            },\n            onThumbClick: function() {\n                var e = this.thumbs.swiper;\n                if (e) {\n                    var t = e.clickedIndex,\n                        i = e.clickedSlide;\n                    if (!(i && s(i).hasClass(this.params.thumbs.slideThumbActiveClass) || null == t)) {\n                        var a;\n                        if (a = e.params.loop ? parseInt(s(e.clickedSlide).attr(\"data-swiper-slide-index\"), 10) : t, this.params.loop) {\n                            var r = this.activeIndex;\n                            this.slides.eq(r).hasClass(this.params.slideDuplicateClass) && (this.loopFix(), this._clientLeft = this.$wrapperEl[0].clientLeft, r = this.activeIndex);\n                            var n = this.slides.eq(r).prevAll('[data-swiper-slide-index=\"' + a + '\"]').eq(0).index(),\n                                o = this.slides.eq(r).nextAll('[data-swiper-slide-index=\"' + a + '\"]').eq(0).index();\n                            a = void 0 === n ? o : void 0 === o ? n : o - r < r - n ? o : n\n                        }\n                        this.slideTo(a)\n                    }\n                }\n            },\n            update: function(e) {\n                var t = this.thumbs.swiper;\n                if (t) {\n                    var i = \"auto\" === t.params.slidesPerView ? t.slidesPerViewDynamic() : t.params.slidesPerView;\n                    if (this.realIndex !== t.realIndex) {\n                        var s, a = t.activeIndex;\n                        if (t.params.loop) {\n                            t.slides.eq(a).hasClass(t.params.slideDuplicateClass) && (t.loopFix(), t._clientLeft = t.$wrapperEl[0].clientLeft, a = t.activeIndex);\n                            var r = t.slides.eq(a).prevAll('[data-swiper-slide-index=\"' + this.realIndex + '\"]').eq(0).index(),\n                                n = t.slides.eq(a).nextAll('[data-swiper-slide-index=\"' + this.realIndex + '\"]').eq(0).index();\n                            s = void 0 === r ? n : void 0 === n ? r : n - a == a - r ? a : n - a < a - r ? n : r\n                        } else s = this.realIndex;\n                        t.visibleSlidesIndexes && t.visibleSlidesIndexes.indexOf(s) < 0 && (t.params.centeredSlides ? s = s > a ? s - Math.floor(i / 2) + 1 : s + Math.floor(i / 2) - 1 : s > a && (s = s - i + 1), t.slideTo(s, e ? 0 : void 0))\n                    }\n                    var o = 1,\n                        l = this.params.thumbs.slideThumbActiveClass;\n                    if (this.params.slidesPerView > 1 && !this.params.centeredSlides && (o = this.params.slidesPerView), this.params.thumbs.multipleActiveThumbs || (o = 1), o = Math.floor(o), t.slides.removeClass(l), t.params.loop || t.params.virtual && t.params.virtual.enabled)\n                        for (var d = 0; d < o; d += 1) t.$wrapperEl.children('[data-swiper-slide-index=\"' + (this.realIndex + d) + '\"]').addClass(l);\n                    else\n                        for (var h = 0; h < o; h += 1) t.slides.eq(this.realIndex + h).addClass(l)\n                }\n            }\n        },\n        we = [R, q, K, U, Z, J, te, { name: \"mousewheel\", params: { mousewheel: { enabled: !1, releaseOnEdges: !1, invert: !1, forceToAxis: !1, sensitivity: 1, eventsTarged: \"container\" } }, create: function() { n.extend(this, { mousewheel: { enabled: !1, enable: ie.enable.bind(this), disable: ie.disable.bind(this), handle: ie.handle.bind(this), handleMouseEnter: ie.handleMouseEnter.bind(this), handleMouseLeave: ie.handleMouseLeave.bind(this), animateSlider: ie.animateSlider.bind(this), releaseScroll: ie.releaseScroll.bind(this), lastScrollTime: n.now(), lastEventBeforeSnap: void 0, recentWheelEvents: [] } }) }, on: { init: function() {!this.params.mousewheel.enabled && this.params.cssMode && this.mousewheel.disable(), this.params.mousewheel.enabled && this.mousewheel.enable() }, destroy: function() { this.params.cssMode && this.mousewheel.enable(), this.mousewheel.enabled && this.mousewheel.disable() } } }, {\n            name: \"navigation\",\n            params: { navigation: { nextEl: null, prevEl: null, hideOnClick: !1, disabledClass: \"swiper-button-disabled\", hiddenClass: \"swiper-button-hidden\", lockClass: \"swiper-button-lock\" } },\n            create: function() { n.extend(this, { navigation: { init: se.init.bind(this), update: se.update.bind(this), destroy: se.destroy.bind(this), onNextClick: se.onNextClick.bind(this), onPrevClick: se.onPrevClick.bind(this) } }) },\n            on: {\n                init: function() { this.navigation.init(), this.navigation.update() },\n                toEdge: function() { this.navigation.update() },\n                fromEdge: function() { this.navigation.update() },\n                destroy: function() { this.navigation.destroy() },\n                click: function(e) {\n                    var t, i = this.navigation,\n                        a = i.$nextEl,\n                        r = i.$prevEl;\n                    !this.params.navigation.hideOnClick || s(e.target).is(r) || s(e.target).is(a) || (a ? t = a.hasClass(this.params.navigation.hiddenClass) : r && (t = r.hasClass(this.params.navigation.hiddenClass)), !0 === t ? this.emit(\"navigationShow\", this) : this.emit(\"navigationHide\", this), a && a.toggleClass(this.params.navigation.hiddenClass), r && r.toggleClass(this.params.navigation.hiddenClass))\n                }\n            }\n        }, { name: \"pagination\", params: { pagination: { el: null, bulletElement: \"span\", clickable: !1, hideOnClick: !1, renderBullet: null, renderProgressbar: null, renderFraction: null, renderCustom: null, progressbarOpposite: !1, type: \"bullets\", dynamicBullets: !1, dynamicMainBullets: 1, formatFractionCurrent: function(e) { return e }, formatFractionTotal: function(e) { return e }, bulletClass: \"swiper-pagination-bullet\", bulletActiveClass: \"swiper-pagination-bullet-active\", modifierClass: \"swiper-pagination-\", currentClass: \"swiper-pagination-current\", totalClass: \"swiper-pagination-total\", hiddenClass: \"swiper-pagination-hidden\", progressbarFillClass: \"swiper-pagination-progressbar-fill\", progressbarOppositeClass: \"swiper-pagination-progressbar-opposite\", clickableClass: \"swiper-pagination-clickable\", lockClass: \"swiper-pagination-lock\" } }, create: function() { n.extend(this, { pagination: { init: ae.init.bind(this), render: ae.render.bind(this), update: ae.update.bind(this), destroy: ae.destroy.bind(this), dynamicBulletIndex: 0 } }) }, on: { init: function() { this.pagination.init(), this.pagination.render(), this.pagination.update() }, activeIndexChange: function() { this.params.loop ? this.pagination.update() : void 0 === this.snapIndex && this.pagination.update() }, snapIndexChange: function() { this.params.loop || this.pagination.update() }, slidesLengthChange: function() { this.params.loop && (this.pagination.render(), this.pagination.update()) }, snapGridLengthChange: function() { this.params.loop || (this.pagination.render(), this.pagination.update()) }, destroy: function() { this.pagination.destroy() }, click: function(e) { this.params.pagination.el && this.params.pagination.hideOnClick && this.pagination.$el.length > 0 && !s(e.target).hasClass(this.params.pagination.bulletClass) && (!0 === this.pagination.$el.hasClass(this.params.pagination.hiddenClass) ? this.emit(\"paginationShow\", this) : this.emit(\"paginationHide\", this), this.pagination.$el.toggleClass(this.params.pagination.hiddenClass)) } } }, { name: \"scrollbar\", params: { scrollbar: { el: null, dragSize: \"auto\", hide: !1, draggable: !1, snapOnRelease: !0, lockClass: \"swiper-scrollbar-lock\", dragClass: \"swiper-scrollbar-drag\" } }, create: function() { n.extend(this, { scrollbar: { init: re.init.bind(this), destroy: re.destroy.bind(this), updateSize: re.updateSize.bind(this), setTranslate: re.setTranslate.bind(this), setTransition: re.setTransition.bind(this), enableDraggable: re.enableDraggable.bind(this), disableDraggable: re.disableDraggable.bind(this), setDragPosition: re.setDragPosition.bind(this), getPointerPosition: re.getPointerPosition.bind(this), onDragStart: re.onDragStart.bind(this), onDragMove: re.onDragMove.bind(this), onDragEnd: re.onDragEnd.bind(this), isTouched: !1, timeout: null, dragTimeout: null } }) }, on: { init: function() { this.scrollbar.init(), this.scrollbar.updateSize(), this.scrollbar.setTranslate() }, update: function() { this.scrollbar.updateSize() }, resize: function() { this.scrollbar.updateSize() }, observerUpdate: function() { this.scrollbar.updateSize() }, setTranslate: function() { this.scrollbar.setTranslate() }, setTransition: function(e) { this.scrollbar.setTransition(e) }, destroy: function() { this.scrollbar.destroy() } } }, { name: \"parallax\", params: { parallax: { enabled: !1 } }, create: function() { n.extend(this, { parallax: { setTransform: ne.setTransform.bind(this), setTranslate: ne.setTranslate.bind(this), setTransition: ne.setTransition.bind(this) } }) }, on: { beforeInit: function() { this.params.parallax.enabled && (this.params.watchSlidesProgress = !0, this.originalParams.watchSlidesProgress = !0) }, init: function() { this.params.parallax.enabled && this.parallax.setTranslate() }, setTranslate: function() { this.params.parallax.enabled && this.parallax.setTranslate() }, setTransition: function(e) { this.params.parallax.enabled && this.parallax.setTransition(e) } } }, {\n            name: \"zoom\",\n            params: { zoom: { enabled: !1, maxRatio: 3, minRatio: 1, toggle: !0, containerClass: \"swiper-zoom-container\", zoomedSlideClass: \"swiper-slide-zoomed\" } },\n            create: function() {\n                var e = this,\n                    t = { enabled: !1, scale: 1, currentScale: 1, isScaling: !1, gesture: { $slideEl: void 0, slideWidth: void 0, slideHeight: void 0, $imageEl: void 0, $imageWrapEl: void 0, maxRatio: 3 }, image: { isTouched: void 0, isMoved: void 0, currentX: void 0, currentY: void 0, minX: void 0, minY: void 0, maxX: void 0, maxY: void 0, width: void 0, height: void 0, startX: void 0, startY: void 0, touchesStart: {}, touchesCurrent: {} }, velocity: { x: void 0, y: void 0, prevPositionX: void 0, prevPositionY: void 0, prevTime: void 0 } };\n                \"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out\".split(\" \").forEach((function(i) { t[i] = oe[i].bind(e) })), n.extend(e, { zoom: t });\n                var i = 1;\n                Object.defineProperty(e.zoom, \"scale\", {\n                    get: function() { return i },\n                    set: function(t) {\n                        if (i !== t) {\n                            var s = e.zoom.gesture.$imageEl ? e.zoom.gesture.$imageEl[0] : void 0,\n                                a = e.zoom.gesture.$slideEl ? e.zoom.gesture.$slideEl[0] : void 0;\n                            e.emit(\"zoomChange\", t, s, a)\n                        }\n                        i = t\n                    }\n                })\n            },\n            on: { init: function() { this.params.zoom.enabled && this.zoom.enable() }, destroy: function() { this.zoom.disable() }, touchStart: function(e) { this.zoom.enabled && this.zoom.onTouchStart(e) }, touchEnd: function(e) { this.zoom.enabled && this.zoom.onTouchEnd(e) }, doubleTap: function(e) { this.params.zoom.enabled && this.zoom.enabled && this.params.zoom.toggle && this.zoom.toggle(e) }, transitionEnd: function() { this.zoom.enabled && this.params.zoom.enabled && this.zoom.onTransitionEnd() }, slideChange: function() { this.zoom.enabled && this.params.zoom.enabled && this.params.cssMode && this.zoom.onTransitionEnd() } }\n        }, { name: \"lazy\", params: { lazy: { enabled: !1, loadPrevNext: !1, loadPrevNextAmount: 1, loadOnTransitionStart: !1, elementClass: \"swiper-lazy\", loadingClass: \"swiper-lazy-loading\", loadedClass: \"swiper-lazy-loaded\", preloaderClass: \"swiper-lazy-preloader\" } }, create: function() { n.extend(this, { lazy: { initialImageLoaded: !1, load: le.load.bind(this), loadInSlide: le.loadInSlide.bind(this) } }) }, on: { beforeInit: function() { this.params.lazy.enabled && this.params.preloadImages && (this.params.preloadImages = !1) }, init: function() { this.params.lazy.enabled && !this.params.loop && 0 === this.params.initialSlide && this.lazy.load() }, scroll: function() { this.params.freeMode && !this.params.freeModeSticky && this.lazy.load() }, resize: function() { this.params.lazy.enabled && this.lazy.load() }, scrollbarDragMove: function() { this.params.lazy.enabled && this.lazy.load() }, transitionStart: function() { this.params.lazy.enabled && (this.params.lazy.loadOnTransitionStart || !this.params.lazy.loadOnTransitionStart && !this.lazy.initialImageLoaded) && this.lazy.load() }, transitionEnd: function() { this.params.lazy.enabled && !this.params.lazy.loadOnTransitionStart && this.lazy.load() }, slideChange: function() { this.params.lazy.enabled && this.params.cssMode && this.lazy.load() } } }, { name: \"controller\", params: { controller: { control: void 0, inverse: !1, by: \"slide\" } }, create: function() { n.extend(this, { controller: { control: this.params.controller.control, getInterpolateFunction: de.getInterpolateFunction.bind(this), setTranslate: de.setTranslate.bind(this), setTransition: de.setTransition.bind(this) } }) }, on: { update: function() { this.controller.control && this.controller.spline && (this.controller.spline = void 0, delete this.controller.spline) }, resize: function() { this.controller.control && this.controller.spline && (this.controller.spline = void 0, delete this.controller.spline) }, observerUpdate: function() { this.controller.control && this.controller.spline && (this.controller.spline = void 0, delete this.controller.spline) }, setTranslate: function(e, t) { this.controller.control && this.controller.setTranslate(e, t) }, setTransition: function(e, t) { this.controller.control && this.controller.setTransition(e, t) } } }, {\n            name: \"a11y\",\n            params: { a11y: { enabled: !0, notificationClass: \"swiper-notification\", prevSlideMessage: \"Previous slide\", nextSlideMessage: \"Next slide\", firstSlideMessage: \"This is the first slide\", lastSlideMessage: \"This is the last slide\", paginationBulletMessage: \"Go to slide {{index}}\" } },\n            create: function() {\n                var e = this;\n                n.extend(e, { a11y: { liveRegion: s('<span class=\"' + e.params.a11y.notificationClass + '\" aria-live=\"assertive\" aria-atomic=\"true\"></span>') } }), Object.keys(he).forEach((function(t) { e.a11y[t] = he[t].bind(e) }))\n            },\n            on: { init: function() { this.params.a11y.enabled && (this.a11y.init(), this.a11y.updateNavigation()) }, toEdge: function() { this.params.a11y.enabled && this.a11y.updateNavigation() }, fromEdge: function() { this.params.a11y.enabled && this.a11y.updateNavigation() }, paginationUpdate: function() { this.params.a11y.enabled && this.a11y.updatePagination() }, destroy: function() { this.params.a11y.enabled && this.a11y.destroy() } }\n        }, { name: \"history\", params: { history: { enabled: !1, replaceState: !1, key: \"slides\" } }, create: function() { n.extend(this, { history: { init: pe.init.bind(this), setHistory: pe.setHistory.bind(this), setHistoryPopState: pe.setHistoryPopState.bind(this), scrollToSlide: pe.scrollToSlide.bind(this), destroy: pe.destroy.bind(this) } }) }, on: { init: function() { this.params.history.enabled && this.history.init() }, destroy: function() { this.params.history.enabled && this.history.destroy() }, transitionEnd: function() { this.history.initialized && this.history.setHistory(this.params.history.key, this.activeIndex) }, slideChange: function() { this.history.initialized && this.params.cssMode && this.history.setHistory(this.params.history.key, this.activeIndex) } } }, { name: \"hash-navigation\", params: { hashNavigation: { enabled: !1, replaceState: !1, watchState: !1 } }, create: function() { n.extend(this, { hashNavigation: { initialized: !1, init: ce.init.bind(this), destroy: ce.destroy.bind(this), setHash: ce.setHash.bind(this), onHashCange: ce.onHashCange.bind(this) } }) }, on: { init: function() { this.params.hashNavigation.enabled && this.hashNavigation.init() }, destroy: function() { this.params.hashNavigation.enabled && this.hashNavigation.destroy() }, transitionEnd: function() { this.hashNavigation.initialized && this.hashNavigation.setHash() }, slideChange: function() { this.hashNavigation.initialized && this.params.cssMode && this.hashNavigation.setHash() } } }, {\n            name: \"autoplay\",\n            params: { autoplay: { enabled: !1, delay: 3e3, waitForTransition: !0, disableOnInteraction: !0, stopOnLastSlide: !1, reverseDirection: !1 } },\n            create: function() {\n                var e = this;\n                n.extend(e, { autoplay: { running: !1, paused: !1, run: ue.run.bind(e), start: ue.start.bind(e), stop: ue.stop.bind(e), pause: ue.pause.bind(e), onVisibilityChange: function() { \"hidden\" === document.visibilityState && e.autoplay.running && e.autoplay.pause(), \"visible\" === document.visibilityState && e.autoplay.paused && (e.autoplay.run(), e.autoplay.paused = !1) }, onTransitionEnd: function(t) { e && !e.destroyed && e.$wrapperEl && t.target === this && (e.$wrapperEl[0].removeEventListener(\"transitionend\", e.autoplay.onTransitionEnd), e.$wrapperEl[0].removeEventListener(\"webkitTransitionEnd\", e.autoplay.onTransitionEnd), e.autoplay.paused = !1, e.autoplay.running ? e.autoplay.run() : e.autoplay.stop()) } } })\n            },\n            on: { init: function() { this.params.autoplay.enabled && (this.autoplay.start(), document.addEventListener(\"visibilitychange\", this.autoplay.onVisibilityChange)) }, beforeTransitionStart: function(e, t) { this.autoplay.running && (t || !this.params.autoplay.disableOnInteraction ? this.autoplay.pause(e) : this.autoplay.stop()) }, sliderFirstMove: function() { this.autoplay.running && (this.params.autoplay.disableOnInteraction ? this.autoplay.stop() : this.autoplay.pause()) }, touchEnd: function() { this.params.cssMode && this.autoplay.paused && !this.params.autoplay.disableOnInteraction && this.autoplay.run() }, destroy: function() { this.autoplay.running && this.autoplay.stop(), document.removeEventListener(\"visibilitychange\", this.autoplay.onVisibilityChange) } }\n        }, {\n            name: \"effect-fade\",\n            params: { fadeEffect: { crossFade: !1 } },\n            create: function() { n.extend(this, { fadeEffect: { setTranslate: ve.setTranslate.bind(this), setTransition: ve.setTransition.bind(this) } }) },\n            on: {\n                beforeInit: function() {\n                    if (\"fade\" === this.params.effect) {\n                        this.classNames.push(this.params.containerModifierClass + \"fade\");\n                        var e = { slidesPerView: 1, slidesPerColumn: 1, slidesPerGroup: 1, watchSlidesProgress: !0, spaceBetween: 0, virtualTranslate: !0 };\n                        n.extend(this.params, e), n.extend(this.originalParams, e)\n                    }\n                },\n                setTranslate: function() { \"fade\" === this.params.effect && this.fadeEffect.setTranslate() },\n                setTransition: function(e) { \"fade\" === this.params.effect && this.fadeEffect.setTransition(e) }\n            }\n        }, {\n            name: \"effect-cube\",\n            params: { cubeEffect: { slideShadows: !0, shadow: !0, shadowOffset: 20, shadowScale: .94 } },\n            create: function() { n.extend(this, { cubeEffect: { setTranslate: fe.setTranslate.bind(this), setTransition: fe.setTransition.bind(this) } }) },\n            on: {\n                beforeInit: function() {\n                    if (\"cube\" === this.params.effect) {\n                        this.classNames.push(this.params.containerModifierClass + \"cube\"), this.classNames.push(this.params.containerModifierClass + \"3d\");\n                        var e = { slidesPerView: 1, slidesPerColumn: 1, slidesPerGroup: 1, watchSlidesProgress: !0, resistanceRatio: 0, spaceBetween: 0, centeredSlides: !1, virtualTranslate: !0 };\n                        n.extend(this.params, e), n.extend(this.originalParams, e)\n                    }\n                },\n                setTranslate: function() { \"cube\" === this.params.effect && this.cubeEffect.setTranslate() },\n                setTransition: function(e) { \"cube\" === this.params.effect && this.cubeEffect.setTransition(e) }\n            }\n        }, {\n            name: \"effect-flip\",\n            params: { flipEffect: { slideShadows: !0, limitRotation: !0 } },\n            create: function() { n.extend(this, { flipEffect: { setTranslate: me.setTranslate.bind(this), setTransition: me.setTransition.bind(this) } }) },\n            on: {\n                beforeInit: function() {\n                    if (\"flip\" === this.params.effect) {\n                        this.classNames.push(this.params.containerModifierClass + \"flip\"), this.classNames.push(this.params.containerModifierClass + \"3d\");\n                        var e = { slidesPerView: 1, slidesPerColumn: 1, slidesPerGroup: 1, watchSlidesProgress: !0, spaceBetween: 0, virtualTranslate: !0 };\n                        n.extend(this.params, e), n.extend(this.originalParams, e)\n                    }\n                },\n                setTranslate: function() { \"flip\" === this.params.effect && this.flipEffect.setTranslate() },\n                setTransition: function(e) { \"flip\" === this.params.effect && this.flipEffect.setTransition(e) }\n            }\n        }, { name: \"effect-coverflow\", params: { coverflowEffect: { rotate: 50, stretch: 0, depth: 100, modifier: 1, slideShadows: !0 } }, create: function() { n.extend(this, { coverflowEffect: { setTranslate: ge.setTranslate.bind(this), setTransition: ge.setTransition.bind(this) } }) }, on: { beforeInit: function() { \"coverflow\" === this.params.effect && (this.classNames.push(this.params.containerModifierClass + \"coverflow\"), this.classNames.push(this.params.containerModifierClass + \"3d\"), this.params.watchSlidesProgress = !0, this.originalParams.watchSlidesProgress = !0) }, setTranslate: function() { \"coverflow\" === this.params.effect && this.coverflowEffect.setTranslate() }, setTransition: function(e) { \"coverflow\" === this.params.effect && this.coverflowEffect.setTransition(e) } } }, {\n            name: \"thumbs\",\n            params: { thumbs: { multipleActiveThumbs: !0, swiper: null, slideThumbActiveClass: \"swiper-slide-thumb-active\", thumbsContainerClass: \"swiper-container-thumbs\" } },\n            create: function() { n.extend(this, { thumbs: { swiper: null, init: be.init.bind(this), update: be.update.bind(this), onThumbClick: be.onThumbClick.bind(this) } }) },\n            on: {\n                beforeInit: function() {\n                    var e = this.params.thumbs;\n                    e && e.swiper && (this.thumbs.init(), this.thumbs.update(!0))\n                },\n                slideChange: function() { this.thumbs.swiper && this.thumbs.update() },\n                update: function() { this.thumbs.swiper && this.thumbs.update() },\n                resize: function() { this.thumbs.swiper && this.thumbs.update() },\n                observerUpdate: function() { this.thumbs.swiper && this.thumbs.update() },\n                setTransition: function(e) {\n                    var t = this.thumbs.swiper;\n                    t && t.setTransition(e)\n                },\n                beforeDestroy: function() {\n                    var e = this.thumbs.swiper;\n                    e && this.thumbs.swiperCreated && e && e.destroy()\n                }\n            }\n        }];\n    return void 0 === W.use && (W.use = W.Class.use, W.installModule = W.Class.installModule), W.use(we), W\n}));\n\n// swiperjs\n\n//# sourceMappingURL=swiper.min.js.map"]}]}